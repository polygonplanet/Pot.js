/*!
 * Floating Menu 1.03 - jQuery plugin
 *
 * Copyright (c) 2011 polygon planet (polygon.planet[*]gmail.com)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 *  and GPL v2 (GPL-LICENSE.txt) licenses.
 *
 * Built for jQuery library
 * http://jquery.com/
 */
(function(b){var c={container:null,footer:null,triggers:{}},a=function(f,d,e){var g=this,i=b(window),h;
h=this.options=b.extend({},c,e||{});b.extend(h,{targets:b(d),target:b(d).eq(f).css({position:"fixed"}),index:f,win:i});
b.extend(h,{baseTop:h.target.offset().top-i.scrollTop(),margin:{top:parseInt(h.target.css("marginTop"))||0,bottom:parseInt(h.target.css("marginBottom"))||0},targetHeight:h.target.outerHeight(),container:h.container?b(h.container):g.getContainer(),footer:h.footer?b(h.footer):null});
b.extend(h,{containerBottom:h.container.offset().top+h.container.outerHeight()-(h.footer&&h.footer.outerHeight()||0),baseLeft:(h.target.offset().left-parseInt(h.target.css("marginLeft")))-h.container.offset().left-i.scrollLeft(),defaultCursor:h.target.css("cursor")||"default"});
this.bootEvent()};b.extend(a.prototype,{hoveringTargets:[],getContainer:function(){var e=this.options,f,d=e.target.parents();
d.each(function(h){var g=e.targetHeight+e.margin.top+e.margin.bottom;if(d.eq(h).outerHeight()>g){f=d.eq(h);
return false}});return f||b("body")},setPos:(function(){var g=false,f=0,i=0,e=0,d=0,h=0;
return function(q,x,o,m){var r=this,j=this.options,l,w,v=0,z,u,k,n,s,y,t;j.targetHeight=j.target.outerHeight();
l=w=j.win.scrollTop();if(q!==-1){y=Math.abs(l-e);if(e!==0&&(h===0||(h>y&&y>0))){h=y
}}if(m){t=true;if(q!==-1){l-=(m*(Math.max(20,h)||120))}}k=(e>l);if(j.win.height()<j.targetHeight){v=j.targetHeight-j.win.height()+j.margin.top+j.margin.bottom
}z=j.baseTop-j.margin.top-l;if(q&&l>0){v+=1}if(q===-1){f=i}else{if(z+v-d>=0){f=Math.max(z,j.baseTop-j.margin.top-w)
}else{u=j.containerBottom-(l+j.targetHeight+j.margin.top+j.margin.bottom);if(u+v<=0){f=Math.min(u,j.containerBottom-(w+j.targetHeight+j.margin.top+j.margin.bottom))
}else{if(t){if(k){if(l>j.target.offset().top){d+=(e-l)*(t?1.275:0.532);s=true}}else{d-=(l-e)*(t?1.275:0.532);
s=true}d=Math.max(0,Math.min(v,d));f=Math.min(Math.min(u,j.containerBottom-(w+j.targetHeight+j.margin.top+j.margin.bottom)),Math.max(Math.max(z,j.baseTop-j.margin.top-w),-v+d))
}else{f=-v+d}}}}if(i!==f){if(q===-1){e=w+1}else{n=true}}if(n){(function(){var p=f;
if(g){setTimeout(arguments.callee,10);return}if(s){g=true;j.target.animate({top:p},50,"swing",function(){g=false
})}else{g=true;j.target.css({top:p});g=false}i=f})()}if(!q&&o&&t){b(window).scrollTop(e)
}else{e=l}r.setLeftPos()}})(),setLeftPos:function(){var d=this.options;d.target.css({left:d.container.offset().left+d.baseLeft-d.win.scrollLeft()})
},cursorInTarget:function(){var h=this.hoveringTargets,g=false,e,d=h.length,f;if(d){this.options.target.each(function(){f=b(this).get(0);
for(e=0;e<d;e++){if(h[e]===f){g=true;return false}}})}return g},onMouseOver:function(h){var g=this.hoveringTargets,f=false,e,d=g.length;
for(e=0;e<d;e++){if(g[e]===h){f=true;break}}if(!f){g[g.length]=h}b(h).css({cursor:"n-resize"})
},onMouseOut:function(h){var g=this.hoveringTargets,e=-1,f,d=g.length;for(f=0;f<d;
f++){if(g[f]===h){e=f;break}}if(~e){g.splice(e,1)}b(h).css({cursor:this.options.defaultCursor})
},bootEvent:function(){var d=this,e=this.options;this.setPos(true);e.target.mouseover(function(){d.onMouseOver.call(d,b(this).get(0))
}).mouseout(function(){d.onMouseOut.call(d,b(this).get(0))});e.win.mousewheel(function(h,j,g,f){if(j!=0&&f!=0&&d.cursorInTarget()){d.setPos(false,h,true,f);
try{h.preventDefault();h.stopPropagation()}catch(i){}return false}}).scroll(function(f){if(!d.cursorInTarget()){d.setPos(false,f,true)
}}).resize(function(f){d.setPos(false,f,false)});if(e.callback){e.callback(this)}b.each(e.triggers||{},function(f,g){if(f&&g){b(g).bind(f,function(){setTimeout(function(){d.setPos()
},200)})}})}});b.fn.floatingMenu=function(d){var f=this,e="data-jq-floating-menu-fix-scroller";
if(b.browser.msie||b(window).width()<800){return this}else{return this.each(function(h){var i=f.eq(h),g=i.data(e);
if(!g){g=new a(h,i,d)}i.data(e,g)})}};
/*!
 * jQuery.mousewheel.js 3.0.6
 * Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 */
(function(e,d){if(b.fn.mousewheel&&b.fn.unmousewheel){return
}e=["DOMMouseScroll","mousewheel"];if(b.event.fixHooks){for(d=e.length;d;){b.event.fixHooks[e[--d]]=b.event.mouseHooks
}}b.event.special.mousewheel={setup:function(){var g;if(this.addEventListener){for(g=e.length;
g;){this.addEventListener(e[--g],f,false)}}else{this.onmousewheel=f}},teardown:function(){var g;
if(this.removeEventListener){for(g=e.length;g;){this.removeEventListener(e[--g],f,false)
}}else{this.onmousewheel=null}}};b.fn.extend({mousewheel:function(g){return g?this.bind("mousewheel",g):this.trigger("mousewheel")
},unmousewheel:function(g){return this.unbind("mousewheel",g)}});function f(l){var j=l||window.event,i=Array.prototype.slice.call(arguments,1),m=0,k=true,h=0,g=0;
l=b.event.fix(j);l.type="mousewheel";if(j.wheelDelta){m=j.wheelDelta/120}if(j.detail){m=-j.detail/3
}g=m;if(j.axis!=null&&j.axis===j.HORIZONTAL_AXIS){g=0;h=-1*m}if(j.wheelDeltaY!=null){g=j.wheelDeltaY/120
}if(j.wheelDeltaX!=null){h=-1*j.wheelDeltaX/120}i.unshift(l,m,h,g);return(b.event.dispatch||b.event.handle).apply(this,i)
}})()})(jQuery);
