/*!
 * PotLite.js - JavaScript library
 *
 * PotLite.js is an implemental utility library
 *  that can execute JavaScript without burdening the CPU.
 *
 * Version 1.36, 2012-05-13
 * Copyright (c) 2012 polygon planet <polygon.planet.aqua@gmail.com>
 * Dual licensed under the MIT or GPL v2 licenses.
 * https://github.com/polygonplanet/Pot.js
 * http://polygonplanet.github.com/Pot.js/
 */
(function a(aq){"use strict";var ao={VERSION:"1.36",TYPE:"lite"},q,aF,H,c,ae,az,ap,n,X,C,t,S,I,aw,ab,U,an,F,ay,al,b,k,ag,x,d,w,ad,ah,r,aB,M,y,aG,e,E,ax,Y,aE,z,h,v,af,i,m,ak,N=Array.prototype,s=Object.prototype,aD=String.prototype,G=Function.prototype,f=N.push,u=N.slice,ai=N.splice,aA=N.concat,av=N.unshift,o=N.indexOf,aj=N.lastIndexOf,aa=s.toString,W=s.hasOwnProperty,J=G.toString,j=String.fromCharCode,l=(typeof l==="undefined")?void 0:l,g=(function(){var aI,aJ=[];
for(aI=0;aI<=65535;aI++){aJ[aI]=j(aI)}return function(aK){return aJ[aK&65535]}}()),ar=/([-.*+?^${}()|[\]\/\\])/g,D=/^(?:[a-zA-Z0-9_~.-]|%[0-9a-fA-F]{2})*$/,ac=/List|Collection/i,Z=/^[\s\u00A0\u3000]+|[\s\u00A0\u3000]+$/g,P,T,L,K;
(function(aI){B(ao,{NAME:"Pot",System:{},Plugin:{},toString:function(){return at(this.NAME||this.name||typeof this)},Browser:(function(aL){var aJ={},aM,aK,aP,aO,aQ,aS={webkit:/(webkit)(?:.*version|)[\s\/]+([\w.]+)/,opera:/(opera)(?:.*version|)[\s\/]+([\w.]+)/,msie:/(msie)[\s\/]+([\w.]+)/,mozilla:/(?!^.*compatible.*$).*(mozilla)(?:.*?\s+rv[:\s\/]+([\w.]+)|)/},aN=[/webkit.*version[\s\/]+([\w.]+).*(safari)/,/webkit.*(chrome|safari)[\s\/]+([\w.]+)/,/(iphone|ipod|ipad|android).*version[\s\/]+([\w.]+)/,/(blackberry)(?:[\s\d]*|.*version)[\s\/]+([\w.]+)/,aS.webkit,aS.opera,aS.msie,/(?!^.*compatible.*$).*mozilla.*?(firefox)(?:[\s\/]+([\w.]+)|)/,aS.mozilla],aR=String(aL&&aL.userAgent).toLowerCase();
if(aR){for(aO=0,aQ=aN.length;aO<aQ;aO++){if((aM=aN[aO].exec(aR))){break}}if(aM){if(/[^a-z]/.test(aM[1])){aK=aM[2];aP=aM[1]}else{aK=aM[1];aP=aM[2]}if(aK){aJ[aK]={version:String(aP||0)}
}}aM=aS.webkit.exec(aR)||aS.opera.exec(aR)||aS.msie.exec(aR)||aS.mozilla.exec(aR)||[];if(aM&&aM[1]){aJ[aM[1]]={version:String(aM[2]||0)}}}return aJ}(aI)),LANG:(function(aJ){return((aJ&&(aJ.language||aJ.userLanguage||aJ.browserLanguage||aJ.systemLanguage))||"en").split(/[^a-zA-Z0-9]+/).shift().toLowerCase()
}(aI)),OS:(function(aQ){var aJ={},aN=aQ||{},aO,aP,aM,aR=String(aN.platform).toLowerCase(),aK=String(aN.userAgent).toLowerCase(),aL=String(aN.appVersion).toLowerCase(),aS=[{s:"iphone",p:aR},{s:"ipod",p:aR},{s:"ipad",p:aK},{s:"blackberry",p:aK},{s:"android",p:aK},{s:"mac",p:aR},{s:"win",p:aR},{s:"linux",p:aR},{s:"x11",p:aL}];
for(aO=0,aP=aS.length;aO<aP;aO++){aM=aS[aO];if(~aM.p.indexOf(aM.s)){aJ[aM.s]=true}}if(aJ.android&&!~aK.indexOf("mobile")){aJ.androidtablet=true}if(aJ.ipad||aJ.androidtablet){aJ.tablet=true
}aJ.toString=function(){var aT=[],aU;for(aU in aJ){if(aJ[aU]===true){aT.push(aU)}}return aT.join("/")};return aJ}(aI)),Global:(function(){var aJ=(new Function("return this;"))();
if(!aq||typeof aq!=="object"||!("setTimeout" in aq)){aq=this||aJ||{}}return this||aJ||{}}()),noop:function(){},tmp:{},Internal:{getMagicNumber:(function(aJ){var aL=0,aK=+aJ;
return function(){var aM=aK+(aL++);if(!isFinite(aM)||isNaN(aM)){aL=aK=aM=0}return aM}}("0xC26BEB642C0A")),getExportObject:function(aM){var aL,aN,aJ;if(aM){if(q.isNonBrowser){aL=ap||aq
}else{aL=(E(aq)&&aq)||(E(ap)&&ap)||ao.currentWindow()}if(!aL&&typeof window!=="undefined"&&E(window)){aL=window}if(aL){do{aN=Q(ao,"")}while(aN in aL);aL[aN]=1;aJ=(new Function("try{return "+aN+"===1;}catch(e){}"))();
try{delete aL[aN]}catch(aK){try{aL[aN]=void 0}catch(aK){}}if(!aJ){aL=ap}}}if(!aL){if(q.isNodeJS){if(typeof module==="object"&&typeof module.exports==="object"){aL=module.exports
}else{if(typeof exports==="object"){aL=exports}else{aL=aq}}}else{aL=aq}if(!aL){aL=aq||ap||ao.currentWindow()}}return aL},ScriptImplementation:a},update:B,Pot:ao})
}(typeof navigator!=="undefined"&&navigator||{}));q=ao.System;aF=ao.Plugin;H=ao.toString;c=ao.Browser;ae=ao.LANG;az=ao.OS;ap=ao.Global;n=ao.noop;X=ao.tmp;C=ao.Internal;
B(q,(function(){var aJ={},aL,aN,aP,aQ,aI,aK;aJ.isWaitable=false;if(typeof window==="object"&&"setTimeout" in window&&window.window==window&&typeof document==="object"&&document.nodeType>0&&typeof document.documentElement==="object"){aJ.isWebBrowser=true;
if(window.location&&/^(?:chrome|resource):?$/.test(window.location.protocol)){try{if(typeof Components!=="object"){throw false}T=Components.classes;P=Components.interfaces;
L=Components.results;K=Components.utils;aJ.isWaitable=true;aJ.hasComponents=true;if(c.firefox||c.mozilla){aJ.isFirefoxExtension=true}}catch(aM){P=T=L=K=null}}}else{aJ.isNonBrowser=true;
if(typeof process!=="undefined"&&process&&process.version&&typeof require==="function"&&(typeof exports==="object"||(typeof module==="object"&&typeof module.exports==="object"))){aJ.isNodeJS=true
}}if(ap&&ap.ActiveXObject||typeof ActiveXObject!=="undefined"&&ActiveXObject){aJ.hasActiveXObject=true}if(!aJ.isFirefoxExtension){if(c.chrome||c.webkit||c.safari){if(typeof chrome==="object"&&typeof chrome.extension==="object"){aJ.isChromeExtension=true
}else{if(typeof safari==="object"&&typeof safari.extension==="object"){aJ.isSafariExtension=true}}}}if(!aJ.isChromeExtension&&!aJ.isSafariExtension){if(typeof GM_log==="function"&&typeof GM_xmlhttpRequest==="function"){aJ.isGreasemonkey=true
}else{if(typeof require==="function"){try{if("title" in require("windows").browserWindows.activeWindow){aJ.isJetpack=true}}catch(aM){}}}if(aJ.isWebBrowser&&!aJ.isGreasemonkey&&!aJ.isFirefoxExtension){aJ.isNotExtension=true
}}try{aL=(new Function("yield(0);"))();if(aL&&typeof aL.next==="function"){aJ.isYieldable=true}}catch(aM){}try{if(typeof FileReader!=="undefined"&&typeof FileReader.LOADING!=="undefined"&&typeof(new FileReader()).readAsText==="function"){aJ.hasFileReader=true
}}catch(aM){}try{aP=(typeof BlobBuilder!=="undefined")?BlobBuilder:(typeof MozBlobBuilder!=="undefined")?MozBlobBuilder:(typeof WebKitBlobBuilder!=="undefined")?WebKitBlobBuilder:(typeof MSBlobBuilder!=="undefined")?MSBlobBuilder:null;
if(!aP||typeof aP!=="function"||typeof aP.prototype.append!=="function"||typeof aP.prototype.getBlob!=="function"){aP=null}else{aJ.BlobBuilder=aP;if(aP&&typeof MozBlobBuilder!=="undefined"&&aP===MozBlobBuilder){aJ.isMozillaBlobBuilder=true
}}}catch(aM){}try{aQ=(typeof URL!=="undefined")?URL:(typeof webkitURL!=="undefined")?webkitURL:null;if(!aQ||typeof aQ.createObjectURL!=="function"){aQ=null}else{aJ.BlobURI=aQ
}}catch(aM){}aN=[];if(typeof Worker==="function"){aN.push([Worker,"Worker"])}if(typeof ChromeWorker==="function"){aN.push([ChromeWorker,"ChromeWorker"])}while(aN.length){(function(){var a3=aN.shift(),aT=a3[0],a2=a3[1],aV="has"+a2,a4="can"+a2+"DataURI",aX="can"+a2+"BlobURI",aU="can"+a2+"PostObject",aS,aR,a1,a0,aW;
aS=function(){return 1};aR={a:function(){return aS()}};try{if(typeof aT.prototype.postMessage==="function"){aJ[aV]=true;a1=new aT("data:application/javascript;base64,b25tZXNzYWdlPWZ1bmN0aW9uKGUpe3Bvc3RNZXNzYWdlKChlJiZlLmRhdGEmJigodHlwZW9mIGUuZGF0YS5hPT09J2Z1bmN0aW9uJyYmZS5kYXRhLmEoKSl8fGUuZGF0YSkpKzEpfQ==");
a1.onmessage=function(a6){if(a6){switch(a6.data){case (aR.a()+1):q[aU]=true;case (aR+1):case"x1":q[a4]=true}}try{a1.terminate()}catch(a5){}};try{a1.postMessage(aR)
}catch(aZ){a1.postMessage("x")}}}catch(aY){}if(aJ[aV]&&aJ.BlobBuilder&&aJ.BlobURI){try{a0=new aJ.BlobBuilder();a0.append('onmessage=function(e){postMessage((e&&e.data&&((typeof e.data.a==="function"&&e.data.a())||e.data))+1)}');
aW=new aT(aJ.BlobURI.createObjectURL(a0.getBlob()));aW.onmessage=function(a6){if(a6){switch(a6.data){case (aR.a()+1):q[aU]=true;case (aR+1):case"x1":q[aX]=true}}try{aW.terminate()
}catch(a5){}};try{aW.postMessage(aR)}catch(aZ){aW.postMessage("x")}}catch(aY){}}}())}try{if(typeof ArrayBuffer!=="undefined"&&(new ArrayBuffer(10)).byteLength===10&&typeof Uint8Array!=="undefined"&&(new Uint8Array([0,312])).subarray(1)[0]===56){aJ.hasTypedArray=true;
try{aI=new Uint8Array([1,2]);aK=new Uint8Array(aI.subarray(0));aK[0]=5;if(aI[0]===1&&aK[0]===5){aJ.canCopyTypedArray=true}aI=aK=null}catch(aO){}try{if(typeof Uint8ClampedArray!=="undefined"&&(new Uint8ClampedArray([0,312])).subarray(1)[0]===255){aJ.hasUint8ClampedArray=true
}}catch(aO){}if(typeof DataView!=="undefined"&&(new DataView(new Uint8Array([16,32,64,128]).buffer)).getUint32(0)===270549120){aJ.hasDataView=true}}}catch(aM){}return aJ
}()));(function(aK){var aJ=0,aI=aK.length,aL={};for(;aJ<aI;aJ++){(function(){var aN=aK[aJ],aM=aN.toLowerCase();aL[at(aN)]=aM;ao["is"+aN]=(function(){switch(aM){case"error":return function(aO){return(aO!=null&&(aO instanceof Error||ab(aO)===aM))||false
};case"date":return function(aO){return(aO!=null&&(aO instanceof Date||ab(aO)===aM))||false};default:return function(aO){return ab(aO)===aM}}}())}())}ao.update({typeOf:function(aM){return(aM==null)?String(aM):(aL[aa.call(aM)]||"object")
},typeLikeOf:function(aN){var aM=ab(aN);if(aM!=="array"&&ah(aN)){aM="array"}return aM}})}("Boolean Number String Function Array Date RegExp Object Error".split(" ")));
an=ao.isBoolean;F=ao.isNumber;ay=ao.isString;al=ao.isFunction;b=ao.isArray;k=ao.isDate;ag=ao.isRegExp;x=ao.isObject;d=ao.isError;ah=ao.isArrayLike;ab=ao.typeOf;U=ao.typeLikeOf;
(function(aI){B(C,{callInBackground:{flush:function(aK){var aJ=this.byEvent||this.byTick||this.byTimer;aJ(aK)},byEvent:(function(){var aK;if(q.isNonBrowser||q.isNodeJS||typeof window!=="object"||typeof document!=="object"||typeof Image!=="function"||window.opera||c.opera||typeof document.addEventListener!=="function"){return false
}try{if(typeof(new Image()).addEventListener!=="function"){return false}}catch(aJ){return false}aK="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
return function(aP){var aL,aN,aM=new Image();aN=function(){try{aM.removeEventListener("load",aN,false);aM.removeEventListener("error",aN,false)}catch(aQ){}if(!aL){aL=true;
aP()}};aM.addEventListener("load",aN,false);aM.addEventListener("error",aN,false);try{aM.src=aK}catch(aO){this.byEvent=this.byTimer}}}()),byTick:(function(){if(!q.isNodeJS||typeof process!=="object"||typeof process.nextTick!=="function"){return false
}return function(aJ){process.nextTick(aJ)}}()),byTimer:function(aK,aJ){return setTimeout(aK,aJ||0)}},setTimeout:function(aJ,aL){try{return t.byTimer(aJ,aL||0)}catch(aK){}},clearTimeout:function(aK){try{return clearTimeout(aK)
}catch(aJ){}},setInterval:function(aJ,aL){try{return setInterval(aJ,aL||0)}catch(aK){}},clearInterval:function(aK){try{return clearInterval(aK)}catch(aJ){}}});t=C.callInBackground;
S=C.setTimeout;I=C.clearTimeout;ao.update({Cc:T,Ci:P,Cr:L,Cu:K,StopIteration:(function(){var aJ=B(function(){return aJ},{NAME:aI,toString:H});aJ.prototype={constructor:aJ,NAME:aJ.NAME,toString:aJ.toString};
aJ.prototype.constructor.prototype=aJ.constructor.prototype;return new aJ()}()),isStopIter:function(aJ){if(!aJ){return false}if(aw!==void 0&&(aJ==aw||aJ instanceof aw)){return true
}if(typeof l!=="undefined"&&(aJ==l||aJ instanceof l)){return true}if(this&&this.StopIteration!==void 0&&(aJ==this.StopIteration||aJ instanceof this.StopIteration)){return true
}if(~aa.call(aJ).indexOf(aI)||~String(aJ&&aJ.toString&&aJ.toString()||aJ).indexOf(aI)){return true}if(d(aJ)&&aJ[aI]&&!(aI in aJ[aI])&&!d(aJ[aI])&&aB(aJ[aI])){return true
}return false},isIterable:function(aJ){return !!(aJ&&al(aJ.next)&&(~ao.getFunctionCode(aJ.next).indexOf(aI)||ao.isNativeCode(aJ.next)))},isScalar:function(aJ){return aJ!=null&&(ay(aJ)||F(aJ)||an(aJ))
},isBlob:function(aJ){return !!(aJ&&aa.call(aJ)==="[object Blob]")},isFileReader:function(aJ){return !!(q.hasFileReader&&aJ&&aJ.constructor===FileReader)},isArguments:function(aK){var aJ=false;
if(aK){if(aa.call(aK)==="[object Arguments]"){aJ=true}else{try{if("callee" in aK&&typeof aK.length==="number"){aJ=true}}catch(aL){}}}return aJ},isTypedArray:function(aK){var aJ=false;
if(aK&&q.hasTypedArray&&(aK.constructor===ArrayBuffer||(aK.buffer&&aK.buffer.constructor===ArrayBuffer))){aJ=true}return aJ},isArrayBuffer:function(aJ){return !!(q.hasTypedArray&&aJ&&aJ.constructor===ArrayBuffer)
},isArrayLike:function(aK){var aJ;if(!aK){return false}if(b(aK)||aK instanceof Array||aK.constructor===Array||w(aK)){return true}aJ=aK.length;if(!F(aJ)||(!x(aK)&&!b(aK))||aK===ao||aK===ap||aK===aq||E(aK)||ax(aK)||Y(aK)){return false
}if(aK.isArray||ao.isArguments(aK)||aE(aK)||((typeof aK.item==="function"||typeof aK.nextNode==="function")&&aK.nodeType!=3&&aK.nodeType!=4)||(0 in aK&&((aJ-1) in aK))||ac.test(aa.call(aK))){return true
}else{return false}},isDeferred:function(aJ){return aJ!=null&&((aJ instanceof h)||(aJ.id!=null&&aJ.id===h.fn.id&&aJ.NAME!=null&&aJ.NAME===h.fn.NAME))},isIter:function(aJ){return aJ!=null&&((aJ instanceof v)||(aJ.id!=null&&aJ.id===v.fn.id&&aJ.NAME!=null&&aJ.NAME===v.fn.NAME&&typeof aJ.next==="function"))
},isWorkeroid:function(aJ){return aJ!=null&&((aJ instanceof ak)||(aJ.id!=null&&aJ.id===ak.fn.id&&aJ.NAME!=null&&aJ.NAME===ak.fn.NAME))},isPercentEncoded:function(aJ){return D.test(aJ)
},isNumeric:function(aJ){return(aJ==null||(aJ===""||(aJ==""&&aJ&&aJ.constructor===String))||(typeof aJ==="object"&&aJ.constructor!==Number))?false:!isNaN(aJ-0)},isInt:function(aJ){return F(aJ)&&isFinite(aJ)&&aJ%1==0
},isNativeCode:function(aK){var aJ;if(!aK){return false}if(ao.getFunctionCode){aJ=ao.getFunctionCode(aK)}else{if(al(aK)){aJ=J.call(aK)}else{if(aK.toString){aJ=aK.toString()
}else{aJ=""+aK}}}return !!(~aJ.indexOf("[native code]")&&aJ.length<=92)},isBuiltinMethod:function(aJ){return aJ!=null&&(typeof aJ==="function"||aJ.constructor===Function)&&ao.isNativeCode(aJ)
},isWindow:function(aJ){return aJ!=null&&typeof aJ==="object"&&"setInterval" in aJ&&aJ.window==aJ&&!!(aJ.location||aJ.screen||aJ.navigator||aJ.document)},isDocument:function(aJ){return aJ!=null&&typeof aJ==="object"&&"getElementById" in aJ&&aJ.nodeType>0&&typeof aJ.documentElement==="object"
},isElement:function(aJ){return aJ!=null&&typeof aJ==="object"&&aJ.nodeType==1},isNodeLike:function(aJ){return aJ!=null&&typeof aJ==="object"&&aJ.nodeType>0},isNodeList:function(aJ){var aK;
if(aJ&&F(aJ.length)){aK=typeof aJ.item;if(x(aJ)){return aK==="function"||aK==="string"}else{if(al(aJ)){return aK==="function"}}}return false}})}("StopIteration"));
if(typeof l==="undefined"||!l){l=ao.StopIteration}aw=ao.StopIteration;w=ao.isTypedArray;ad=ao.isArrayBuffer;ah=ao.isArrayLike;r=ao.isNumeric;aB=ao.isStopIter;M=ao.isDeferred;
y=ao.isHash;aG=ao.isIter;e=ao.isWorkeroid;E=ao.isWindow;ax=ao.isDocument;Y=ao.isElement;aE=ao.isNodeList;z=ao.isNodeLike;(function(){var aM,aR,aI,aP,aK,aQ;aP="window contentWindow defaultView parentWindow content top".split(" ");
aK="ownerDocument document".split(" ");function aL(aS){var aT;if(aS){if(E(aS)){aT=aS}else{aH(aP,function(aV){try{if(E(aS[aV])){aT=aS[aV]}if(aS[aV].content&&E(aS[aV].content)){aT=aS[aV].content
}}catch(aU){}if(aT){throw aw}})}}return aT}function aJ(aS){var aT;if(aS){if(ax(aS)){aT=aS}else{aH(aK,function(aV){try{if(ax(aS[aV])){aT=aS[aV]}if(aS[aV].content&&ax(aS[aV].content.document)){aT=aS[aV].content.document
}}catch(aU){}if(aT){throw aw}})}}return aT}aH([aq,ap,typeof window==="undefined"?this:window,typeof document==="undefined"?this:document],function(aS){if(aS){if(!aM){aM=aL(aS)
}if(!aR){aR=aJ(aS)}if(aM&&aR){throw aw}}});if(q.isNodeJS){aI=(typeof process==="object"&&process.mainModule&&process.mainModule.filename)||(typeof __filename==="string"&&__filename)
}else{if(aR){try{aI=aR.documentURI||aR.baseURI||aR.URL}catch(aN){}}if(!aI&&aM){try{aI=aM.location&&aM.location.href||aM.location}catch(aN){try{aQ=aR.createElement("a");
aQ.href="";aI=aQ.href}catch(aO){}}}}B(q,{currentWindow:aM||{},currentDocument:aR||{},currentURI:R(aI,true)});ao.update({currentWindow:function(){return q.currentWindow
},currentDocument:function(){return q.currentDocument},currentURI:function(){return q.currentURI}})}());B(q,{isBuiltinObjectKeys:ao.isBuiltinMethod(Object.keys),isBuiltinArrayForEach:ao.isBuiltinMethod(N.forEach),isBuiltinArrayIndexOf:ao.isBuiltinMethod(N.indexOf),isBuiltinArrayLastIndexOf:ao.isBuiltinMethod(N.lastIndexOf)});
ao.update({keys:(function(){var aK=!({toString:null}).propertyIsEnumerable("toString"),aJ=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],aI=aJ.length;
return function(aM){var aN=[],aS=typeof aM,aP,aL,aO;if(aS!=="object"&&aS!=="function"||aM===null){return aN}if(ah(aM)){aP=aM.length;for(aO=0;aO<aP;aO++){if(aO in aM){aN[aN.length]=aO
}}}else{if(q.isBuiltinObjectKeys){try{aN=Object.keys(aM);return aN}catch(aQ){}}for(aL in aM){try{if(W.call(aM,aL)){aN[aN.length]=aL}}catch(aR){}}if(aK){for(aO=0;
aO<aI;aO++){try{if(W.call(aM,aJ[aO])){aN[aN.length]=aJ[aO]}}catch(aT){}}}}return aN}}()),globalEval:B(function(aJ){var aM=ao.globalEval,aI,aQ,aK,aP,aO,aN;if(aJ&&aM.patterns.valid.test(aJ)){if(q.hasActiveXObject){if(typeof execScript!=="undefined"&&execScript&&aM.test(execScript)){return execScript(aJ,aM.language)
}else{aK="execScript";if(aK in aq&&aM.test(aK,aq)){return aq[aK](aJ,aM.language)}else{if(aK in ap&&aM.test(aK,ap)){return ap[aK](aJ,aM.language)}}}}aK="eval";if(aK in aq&&aM.test(aK,aq)){aQ=aq
}else{if(aK in ap&&aM.test(aK,ap)){aQ=ap}}if(q.isGreasemonkey){return ao.localEval(aJ,aQ||ap)}if(aQ){if(aQ[aK].call&&aQ[aK].apply&&aM.test(aK,aQ,true)){return aQ[aK].call(aQ,aJ)
}if(aM.worksForGlobal==null){aM.worksForGlobal=false;do{aI=Q(ao,"")}while(aI in aQ);aQ[aI]=1;aQ[aK]("try{delete "+aI+";}catch(e){}");if(!(aI in aQ)){aM.worksForGlobal=true
}try{delete aQ[aI]}catch(aL){try{aQ[aI]=void 0}catch(aL){}}}if(aM.worksForGlobal){return aQ[aK](aJ)}}if(q.isNodeJS){return aM.doEvalInGlobalNodeJS(aK,aJ)}if(q.isWebBrowser&&typeof document==="object"){aP=document;
aN=aP.getElementsByTagName("head");if(aN&&aN[0]){aN=aN[0]}else{aN=aP.head||aP.body||aP.documentElement}if(aN){aO=aP.createElement("script");aO.type="text/javascript";
aO.defer=aO.async=false;if(q.hasActiveXObject&&"text" in aO){aO.text=aJ}else{aO.appendChild(aP.createTextNode(aJ))}aN.appendChild(aO);aN.removeChild(aO)}}else{return ao.localEval(aJ,aQ||ap)
}}},{language:"JavaScript",patterns:{valid:/\S/},test:function(aK,aM,aJ){var aI=false,aN="(void 0);";try{if(aM){if(aJ){aM.func.call(null,aN)}else{aM.func(aN)}}else{if(aJ){aK.call(null,aN)
}else{aK(aN)}}aI=true}catch(aL){aI=false}return aI},doEvalInGlobalNodeJS:function(aL,aJ){var aQ,aN=ao.globalEval.doEvalInGlobalNodeJS,aK,aO,aP=ap,aI;if(aN.worksForGlobal==null){try{aN.worksForGlobal=false;
do{aI=Q(ao,"")}while(aI in aP);aP[aI]=1;aP[aL].call(aP,"try{delete "+aI+";}catch(e){}");if(!(aI in aP)){aN.worksForGlobal=true}else{try{delete aP[aI]}catch(aM){}}}catch(aM){aN.worksForGlobal=false
}}if(aN.worksForGlobal){aQ=aP[aL].call(aP,aJ)}else{if(typeof require!=="undefined"&&require){aK=require("vm");if(aK&&aK.createScript){aO=aK.createScript(aJ);if(aO&&aO.runInThisContext){aQ=aO.runInThisContext()
}}}}return aQ}}),localEval:B(function(aN,aJ){var aM=ao.globalEval,aL=ao.localEval,aK,aI;if(aN&&aM.patterns.valid.test(aN)){aK="eval";if(aK in aq&&aM.test(aK,aq)){aI=aq
}else{if(aK in ap&&aM.test(aK,ap)){aI=ap}}if(aI&&aI[aK]){if(aI[aK].call&&aI[aK].apply&&aM.test(aK,aI,true)){return aL.doEval(aN,aI,aJ)}else{if(aJ==null){return aL.doEval(aN,aI,aJ,true)
}}}return aL.doEvalByFunc(aN,aJ)}},{isLiteral:/^\s*(?!(?:return|var|if|do|for|try|while)\b\s*)[\w$.!"'~(){}[\]]/,isFunc:/^\s*function\b[^{]*[{][\s\S]*[}][^}]*$/,clean:/^(?:[{[(']{0}[')\]}]+|)[;\s\u00A0]*|[;\s\u00A0]*$/g,doEval:function(){try{return arguments[1]["eval"].call(arguments[2]||arguments[1],arguments[0])
}catch(aI){}if(arguments[3]){return arguments[1]["eval"](arguments[0])}else{return ao.localEval.doEvalByFunc(arguments[0],arguments[2]||arguments[1])}},doEvalByFunc:function(aK,aI){var aJ=ao.localEval,aL;
if(aJ.isFunc.test(aK)||(aJ.isLiteral.test(aK)&&!ao.hasReturn(aK))){aL="return("+String(aK).replace(aJ.clean,"")+");"}else{aL=aK}return(new Function("return(function(){"+aL+"}).call(this);")).call(aI)
}}),getFunctionCode:function(aI){if(al(aI)){return J.call(aI)}if(ay(aI)){if(aI.toString){return aI.toString()}return""+aI}return""},isWords:(function(){var aJ=/\s/,aI=/[^$\w\u0100-\uFFFF]/;
return function(aK){return ay(aK)&&!aJ.test(aK)&&!aI.test(aK)}}()),isNL:(function(){var aI=/[^\r\n\u2028\u2029]/;return function(aJ){return ay(aJ)&&!aI.test(aJ)}
}()),format:(function(){var aI,aJ=/#(\d+)/g,aK=function(aL,aM){return aI&&aI[+aM]};return function(aL){var aM=R(aL,true);aI=aC(arguments);if(!aI||!aI.length){return aM
}aJ.lastIndex=0;return aM.replace(aJ,aK)}}()),tokenize:(function(){var aL={TOKEN:new RegExp("(/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\[\\s\\S]|[^\"\\r\\n\\\\])*\"|'(?:\\\\[\\s\\S]|[^'\\r\\n\\\\])*'|(^|[-!%&*+,/:;<=>?[{(^|~])(?:((?![\\r\\n])\\s+|(?:\\r\\n|\\r|\\n))|\\s*)(?:((?:/(?![*])(?:\\\\.|[^/\\r\\n\\\\])+/)(?:[gimy]{0,4}|\\b))(?=\\s*(?:(?!\\s*[/\\\\<>*+%`^\"'\\w$-])[^/\\\\<>*+%`^'\"@({[\\w$-]|===?|!==?|[|][|]|[&][&]|/(?:[*]|/)|[,.;:!?)}\\]\\r\\n]|$)))|<(\\w+(?::\\w+|))\\b[^>]*>(?:(?!</\\5>(?!\\s*['\"]))[\\s\\S])*</\\5>|<>[\\s\\S]*?</>|>>>=?|<<=|===|!==|>>=|[+][+](?=[+])|[-][-](?=[-])|[=!<>*+/&|^-]=|[&][&]|[|][|]|[+][+]|[-][-]|<<|>>|0(?:[xX][0-9a-fA-F]+|[0-7]+)|\\d+(?:[.]\\d+)?(?:[eE][+-]?\\d+)?|[1-9]\\d*|[-+/%*=&|^~<>!?:,;@()\\\\[\\].{}]|(?:(?![\\r\\n])\\s)+|(?:\\r\\n|\\r|\\n)|[^\\s+/%*=&|^~<>!?:,;@()\\\\[\\].{}'\"-]+)","g"),LINEBREAK:/^(?:\r\n|\r|\n)/,NOTSPACE:/[\S\r\n]/,COMMENTS:/^\/{2,}[\s\S]*$|^\/[*][\s\S]*?[*]\/$/},aI=8192,aK=0,aJ=".",aM={};
return function(aS){var aR=[],aN,aO,aQ,aP=ao.getFunctionCode(aS);if(aP){if((aJ+aP) in aM){return aM[aJ+aP]}aL.TOKEN.lastIndex=0;while((aN=aL.TOKEN.exec(aP))!=null){aO=aN[1];
if(!aL.NOTSPACE.test(aO)||aL.COMMENTS.test(aO)){continue}if(aN[4]){if(aN[2]){aR[aR.length]=aN[2]}if(aN[3]&&aL.NOTSPACE.test(aN[3])){aR[aR.length]=aN[3]}aR[aR.length]=aN[4]
}else{aQ=aR[aR.length-1];if(!aQ||!aL.LINEBREAK.test(aQ)||!aL.LINEBREAK.test(aO)){aR[aR.length]=aO}}}if(aK<aI){aM[aJ+aP]=aR;aK++}}return aR}}()),joinTokens:(function(){var aJ=/^[^\s+\/%*=&|^~<>!?:,;@()\\[\].{}'"-]+$/,aI=/^[-+]+$/;
return function(aP){var aS=[],aO,aM,aR,aL,aQ,aN,aK;if(b(aP)){aO=aP.length;for(aN=0;aN<aO;aN++){aK=aP[aN];if(!aM){aS[aS.length]=aK}else{aL="";aQ="";if(aK==="in"){if(!aR){aL=" "
}aQ=" "}else{if(aI.test(aK)){if(!aR&&aI.test(aM)){aL=" "}}else{if(aJ.test(aM.slice(-1))&&aJ.test(aK.charAt(0))){aL=" "}}}if(aR===" "){aL=""}aS[aS.length]=aL+aK+aQ
}aM=aK;aR=aQ}}return aS.join("")}}()),hasReturn:(function(){var aJ={STRIP:new RegExp("^\\s*function\\b[^{]*[{]|[}][^}]*$|/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'","g"),RETURN:/(?:^|\s|[^\w$.]\b)return(?:[^\w$.]\b|\s|$)/,FUNC:/(?:^|\s|[^\w$.]\b)function(?:[^\w$.]\b|\s|)[^{}]*$/,PREREGEX:/(?:^|[,;:!?=&|!([]|[^\w$.<>%'"@){}\]])\s*\/$/,REGEXP:/(\/(?![*])(?:\\.|[^\/\r\n\\])+\/)$/,E4X:/(?:^|[(){}<>&|%*~^!?:;,\/[\]=+-])\s*<([^\s>]*)[^>]*>$/,TAG:/<([^\s>]*)[^>]*>$/},aI=8192,aL=0,aK={};
return function(aP){var aS=false,aN,aT,aV,aM,aU,a0,a1,a2,aX,aR,aQ,aW,aZ,aO,a3,aY;aN=ao.getFunctionCode(aP);if(aN in aK){return aK[aN]}aM=aN;aN=aN.replace(aJ.STRIP,"");
if(aN&&aJ.RETURN.test(aN)){aX=0;aR=0;aW="";aQ="";aU="";a3="";aY=false;aO=false;a1=aN.length;for(a0=0;a0<a1;a0++){a2=aN.charAt(a0);if(aW&&a2!=="/"){aW+=a2;continue
}switch(a2){case"{":if(aR===0&&aJ.FUNC.test(aU)){aX++}break;case"}":if(aR===0&&aX>0){aX--}break;case"/":if(!aY&&aX===0){if(aR>0){aQ+=a2}else{if(!aW){aU+=a2;if(aJ.PREREGEX.test(aU)){aW=a2;
aU=aU.slice(0,-1)+" "}}else{if(aW){aW+=a2;if(aJ.REGEXP.test(aW)){aW=""}}}}}break;case"-":if(aX===0){if(aR>0){aQ+=a2;if(aQ.slice(-4)==="<!--"){aY=true;aQ=aQ.slice(0,-4)+" "
}}else{aU+=a2}}break;case"[":if((aO||!aY)&&aX===0){if(aR>0){aQ+=a2;if(aQ.slice(-9).toUpperCase()==="<![CDATA["){aY=true;aO=true;aQ=aQ.slice(0,-9)+" "}}else{aU+=a2
}}break;case"]":case"<":if((aO||!aY)&&aX===0){if(aR>0){aQ+=a2}else{aU+=a2}}break;case">":if(aX===0){if(aR===0){aU+=a2;if(aJ.E4X.test(aU)){aZ=aU.match(aJ.TAG);aR++;
aU=aU.slice(0,-aZ[0].length)+" ";a3=aZ[1];aV=new RegExp("</"+O(a3)+">$");aT=new RegExp("<"+O(a3)+"\\b[^>]*>$")}}else{if(aR>0){if(aY){if((!aO&&aQ.slice(-2)==="--")||(aO&&aQ.slice(-2)==="]]")){aY=aO=false;
aQ=aQ.slice(0,-2)}aQ+=" ";break}aQ+=a2;if(aV&&aV.test(aQ)){aR--;if(aR===0){a3=aQ=""}}else{if(aT&&aT.test(aQ)){aR++}}}}}break;default:if(!aY&&aX===0){if(aR>0){aQ+=a2
}else{aU+=a2}}}}if(aJ.RETURN.test(aU)){aS=true}}if(aL<aI){aK[aM]=aS;aL++}return aS}}()),override:function(aI,aK,aN,aM){var aL=[],aJ;if(aI&&aK&&(aN||aM)){if(aM){if(al(aN)){aJ=aN;
aN=aM;aM=aJ}}else{if(al(aN)){aM=aN}}if(ag(aN)){aN=[aN,""]}else{if(ay(aN)){aN=[new RegExp(O(aN),"g"),""]}}aH(aC(aK),function(aO){if(aO){aH(aI,function(aP,aQ){if(al(aP)&&((ag(aO)&&aO.test(aQ))||aO==aQ)){aL[aL.length]=aQ
}})}});aH(aL,function(aT){var aS,aQ,aR,aP,aO;if(W.call(aI,aT)){aS=aI[aT];aO=!!(aI[aT]&&aI[aT].apply&&typeof aI[aT].apply===typeof aI[aT].call);if(aN){aQ=aR=ao.getFunctionCode(aS);
aP=aC(aN);if(!b(aP[0])){aP=[aP]}aH(aP,function(aU){var aX,aW;try{aX=aU[0];aW=aU[1];if(ay(aX)){aX=new RegExp(O(aX),"g")}if(!ay(aW)){aW=""}aQ=aQ.replace(aX,aW)}catch(aV){}});
if(aR!==aQ){aS=ao.localEval(aQ,aI)}}aI[aT]=B(function(){var aV=this,aU=arguments;if(al(aM)){return aM.call(aV,function(){var aW=arguments;if(aW.length===1&&aW[0]&&ao.isArguments(aW[0])&&aW[0]===aU){if(aO){return aS.apply(aV,aC(aW[0]))
}else{return A(aI,aT,aC(aW[0]))}}else{if(aO){return aS.apply(aV,aC(aW))}else{return A(aI,aT,aC(aW))}}},aU,aV,aT)}else{return aS.apply(aV,aU)}},aI[aT]);if(!aI[aT].overridden||F(aI[aT].overridden)){B(aI[aT],{overridden:((aI[aT].overridden||0)-0)+1})
}}})}return aI},getErrorMessage:function(aI,aJ){var aK;if(d(aI)){aK=String(aI.message||aI.description||(aI.toString&&aI.toString())||aI)}else{aK=(aI&&aI.toString&&aI.toString())||aI
}return R(aK)||R(aJ)||"error"}});function B(){var aK=arguments,aJ=aK.length,aL=1,aO,aN,aI;if(aJ===aL){aO=this||{};aL--}else{aO=aK[aL-1]}if(aO){do{aI=aK[aL];if(aI){for(aN in aI){try{aO[aN]=aI[aN]
}catch(aM){}}}}while(++aL<aJ)}return aO}function aC(aK,aJ){var aP,aM,aI,aN=aC,aL;if(aN.canNodeList==null){if(q.currentDocument){try{aL=u.call(q.currentDocument.documentElement.childNodes)[0].nodeType;
aL=null;aN.canNodeList=true}catch(aO){aN.canNodeList=false}}}if(aK==null){aP=[aK]}else{switch(ab(aK)){case"array":aP=aK.slice();break;case"object":if(ah(aK)){if(!aN.canNodeList&&aE(aK)){aP=[];
aM=0;aI=aK.length;do{aP[aM]=aK[aM]}while(++aM<aI)}else{aP=u.call(aK)}break}default:aP=u.call(aA.call([],aK))}}if(aJ>0){aP=aP.slice(aJ)}return aP}function au(){return +new Date
}function R(aK,aL){var aJ="",aM,aI=arguments.length;if(aK!==null){switch(typeof aK){case"string":case"number":case"xml":aJ=aK;break;case"boolean":if(aI>=2&&!aL){aJ=aK
}else{if(!aL){aJ=aK?1:""}}break;case"object":if(aK){aM=aK.constructor;if(aM===String||aM===Number||(typeof XML!=="undefined"&&aM===XML)||(typeof Buffer!=="undefined"&&aM===Buffer)){aJ=aK
}else{if(aM===Boolean){if(aI>=2&&!aL){aJ=aK}else{if(!aL){aJ=(aK==true)?1:""}}}}}}}return aJ.toString()}function am(aK,aL,aI){var aJ;if(aL){aJ=new RegExp(["^[","]+|[","]+$"].join(O(aL)),"g"+(aI?"i":""))
}else{aJ=Z}return R(aK,true).replace(aJ,"")}function O(aI){return R(aI,true).replace(ar,"\\$1")}function A(){var aQ=aC(arguments),aS=aQ.length,aM,aI,aL,aR,aJ,aT,aN,aO,aK;
try{switch(aS){case 0:throw false;case 1:aI=aQ[0];break;case 2:aM=aQ[0];aI=aQ[1];break;case 3:aM=aQ[0];aI=aQ[1];aL=aC(aQ[2]);break;default:aM=aQ[0];aI=aQ[1];aL=aC(aQ,2)
}if(!aI){throw aI}if(!aM&&ay(aI)){aM=(aM&&aM[aI]&&aM)||(aq&&aq[aI]&&aq)||(ap&&ap[aI]&&ap)}if(ay(aI)){aR=true;if(!aM){aM=(aq||ap)}}}catch(aP){aK=aP;throw d(aK)?aK:new Error(aK)
}if(al(aI.apply)&&al(aI.call)){if(aL==null||!aL.length){return aI.call(aM)}else{return aI.apply(aM,aL)}}else{aJ=aL||[];aO=aJ.length||0;if(aR){switch(aO){case 0:return aM[aI]();
case 1:return aM[aI](aJ[0]);case 2:return aM[aI](aJ[0],aJ[1]);case 3:return aM[aI](aJ[0],aJ[1],aJ[2])}}else{switch(aO){case 0:return aI();case 1:return aI(aJ[0]);
case 2:return aI(aJ[0],aJ[1]);case 3:return aI(aJ[0],aJ[1],aJ[2])}}aT=[];for(aN=0;aN<aO;aN++){aT[aT.length]="p["+aN+"]"}return(new Function("e,o,m,p",["return e?o[m](","):m(",");"].join(aT.join(","))))(aR,aM,aI,aJ)
}}function p(aN){var aI=arguments,aL=p,aK,aJ;try{if(!aL.firebug("log",aI)){if(!q.hasComponents){throw false}aJ=T["@mozilla.org/consoleservice;1"].getService(P.nsIConsoleService);
aJ.logStringMessage(String(aN))}}catch(aM){if(typeof console!=="undefined"&&console){aK=console.debug||console.dir||console.log}else{if(typeof opera!=="undefined"&&opera&&opera.postError){aK=opera.postError
}else{if(typeof GM_log==="function"){aK=GM_log}else{aK=function(aO){throw aO}}}}try{if(aK.apply){aK.apply(aK,aI)}else{throw aK}}catch(aM){try{aK(aN)}catch(aM){try{console.log(aN)
}catch(aM){try{aL.divConsole(aN)}catch(aM){}}}}}return aN}B(p,{firebug:function(aO,aK){var aI=false,aM,aJ;try{if(!q.hasComponents){throw false}aM=ao.XPCOM.getMostRecentWindow();
if(!aM){throw aM}if(aM.FirebugConsole&&aM.FirebugContext){aJ=new aM.FirebugConsole(aM.FirebugContext,aM.content);aJ[aO].apply(aJ,aK);aI=true}else{if(aM.Firebug&&aM.Firebug.Console){try{aM.Firebug.Console.logFormatted.call(aM.Firebug.Console,aC(aK),aM.FirebugContext,aO);
aI=true}catch(aN){}}}}catch(aL){}return aI},dump:function(aL){var aK,aJ=p.dump,aI;aI=function(aM){return(aM==null)?String(aM):aM.toString?aM.toString():String(aM)
};if(aL==null){return String(aL)}if(typeof uneval==="function"){return uneval(aL)}else{if(typeof aL.toSource==="function"){return aL.toSource()}}aK=[];switch(U(aL)){case"array":aH(aL,function(aM){aK[aK.length]=aJ(aM)
});return"["+aK.join(", ")+"]";case"object":if(z(aL)||E(aL)||ax(aL)){aK[aK.length]=aa.call(aL)}else{aH(aL,function(aN,aM){aK[aK.length]=aM+": "+aJ(aN)})}return"{"+aK.join(", ")+"}";
case"string":return'"'+aI(aL)+'"';case"function":return"("+aI(aL)+")";default:return aI(aL)}},divConsole:B(function(aJ){var aN=p.divConsole,aK,aQ,aP,aI,aM,aO;if(q.hasActiveXObject&&typeof document!=="undefined"){aQ=document;
aP=aQ.documentElement||{};try{aK=(typeof aP.style.maxHeight==="undefined")}catch(aL){}if(aN.done&&aN.ieConsole){aN.append(aJ)}else{if(!aN.msgStack){aN.msgStack=[]
}aN.msgStack.push(aJ);if(!aN.done){aN.done=true;h.till(function(){return !!(aQ&&aQ.body)}).then(function(){var aS,aR,aT,aU;aS={border:"1px solid #999",background:"#fff",color:"#333",fontSize:"13px",fontFamily:"monospace",position:"absolute",padding:"10px",margin:"0px",zoom:1};
aU=aQ.createElement("div");aR=aU.style;aH(aS,function(aW,aV){aR[aV]=aW});aR.borderWidth="3px";aR.width="95%";aR.zIndex=9996;aR.left="0px";aR.bottom="0px";aR.zoom=1;
if(aK){aR.height=Math.floor(aP.clientHeight/3.2)+"px"}else{aR.position="fixed";aR.height="25%"}aN.titlebar=aQ.createElement("div");aR=aN.titlebar.style;aR.zIndex=9999;
aR.border="0";aR.width="95%";aR.position="relative";aR.margin="2px";aR.fontWeight="bold";aR.color="#333";aR.background="#fff";aR.fontFamily="verdana";aR.zoom=1;aN.titlebar.appendChild(aQ.createTextNode("Pot.js Console"));
aN.ieConsole=aU.cloneNode(false);aN.ieConsole.id=aN.ieConsoleId=Q(ao,"");aR=aN.ieConsole.style;aR.borderWidth="1px";aR.width="95%";aR.height="68%";aR.position="relative";
aR.zIndex=9997;aR.marginTop="3px";aR.padding="5px";aR.whiteSpace="pre";aR.wordWrap="break-word";aR.overflowX="hidden";aR.overflowY="auto";aR.zoom=1;aN.hr=aQ.createElement("hr");
aR=aN.hr.style;aR.position="relative";aR.width="100%";aR.border="1px solid #aaa";aR.zIndex=9998;aR.zoom=1;aT=aQ.createElement("div");aR=aT.style;aH(aS,function(aW,aV){aR[aV]=aW
});aR.zIndex=9999;aR.fontFamily="sans-serif";aR.fontWeight="bold";aR.borderWidth="1px";aR.padding="1px 4px";aR.lineHeight=1;aR.right="2px";aR.top="2px";aR.cursor="pointer";
aR.zoom=1;aT.title="close";aT.appendChild(aQ.createTextNode("x"));aN.histories=[];aN.historyIndex=0;aN.historyLimit=50;aN.executer=aQ.createElement("input");aN.executer.type="text";
aR=aN.executer.style;aR.zIndex=9999;aR.position="relative";aR.display="block";aR.fontFamily="monospace";aR.fontSize="13px";aR.padding="2px";aR.marginTop="5px";aR.width="95.5%";
aR.border="2px solid #999";aR.zoom=1;aI=function(){var aW,aV,aX="95%";aW=aQ.body.clientWidth-7;aU.style.width=(aW<=0)?aX:aW+"px";aW=aU.offsetWidth-55;aN.ieConsole.style.width=(aW<=0)?aX:aW+"px";
aV=Math.floor(aP.clientHeight/3.2)+"px";aU.style.height=aV;aM()};aM=function(){var aV=aP.scrollTop+(aP.clientHeight-aU.clientHeight)-7;if(aV>0){aU.style.top=aV+"px"
}};aO=function(){try{aU.parentNode.removeChild(aU);window.dettachEvent("onscroll",aM);window.dettachEvent("onresize",aI);aU=aN.ieConsole=null}catch(aV){}};onKeydown=function(aZ){var aW,aX,aV,aY=am(aN.executer.value);
aZ=window.event||aZ;if(aZ){if(aY&&aZ.keyCode==13){try{aW=ao.localEval(aY)}catch(a0){aW=ao.getErrorMessage(a0)}ao.debug(aW);if(aN.histories.length>aN.historyLimit){aN.histories.pop()
}aN.histories.unshift(aY);aN.executer.value="";aN.historyIndex=0}else{if(aZ.keyCode==38){aX=aN.histories[aN.historyIndex];aN.historyIndex=Math.max(0,Math.min(aN.histories.length-1,aN.historyIndex+1));
if(aX){aN.executer.value=aX}}else{if(aZ.keyCode==40){if(aN.historyIndex-1<0){aN.executer.value="";aN.historyIndex=0}else{aN.historyIndex=Math.max(0,Math.min(aN.histories.length-1,aN.historyIndex-1));
aV=aN.histories[aN.historyIndex];if(aV){aN.executer.value=aV}}}else{aN.historyIndex=0}}}}};if(typeof window!=="undefined"&&window&&window.attachEvent){if(aK){aH({onscroll:aM,onresize:aI},function(aW,aV){window.attachEvent(aV,aW)
})}if(aT.attachEvent){aT.attachEvent("onclick",aO)}if(aN.executer.attachEvent){aN.executer.attachEvent("onkeydown",onKeydown)}}if(aK){h.wait(0.25).then(function(){aU.style.bottom="1px"
}).wait(0.5).then(function(){aU.style.bottom="0px"})}aH([aT,aN.titlebar,aN.ieConsole,aN.executer],function(aV){aU.appendChild(aV)});aQ.body.appendChild(aU);aN.append()
})}}}},{append:function(aN){var aL=this,aJ,aK,aI;if(aL.ieConsole){try{aI=aC(aL.msgStack||[]);while(aL.msgStack&&aL.msgStack.length){aL.msgStack.pop()}if(arguments.length){aI.push(aN)
}while(aI.length){aJ=aI.shift();aK=p.dump(aJ);if(ay(aJ)&&aK.charAt(0)==='"'&&aK.slice(-1)==='"'){aK=aK.slice(1,-1)}aH([document.createTextNode(aK),aL.hr.cloneNode(false)],function(aO){aL.ieConsole.appendChild(aO)
})}S(function(){aL.ieConsole.scrollTop=aL.ieConsole.scrollHeight},10)}catch(aM){}}}})});ao.update({arrayize:aC,stringify:R,trim:am,rescape:O,invoke:A,now:au,debug:p});
function aH(aM,aR,aJ){var aN,aO,aK,aL,aI,aS;if(aM){aO=aM.length;try{if(ah(aM)){for(aN=0;aN<aO;aN++){if(aN in aM){try{aK=aM[aN]}catch(aP){continue}aR.call(aJ,aK,aN,aM)
}}}else{aS=ao.keys(aM);aO=aS.length;for(aN=0;aN<aO;aN++){aI=aS[aN];try{aK=aM[aI]}catch(aP){continue}aR.call(aJ,aK,aI,aM)}}}catch(aQ){aL=aQ;if(!aB(aL)){throw aL}}}return aM
}function Q(aJ,aI){return[String((aJ&&(aJ.NAME||aJ.name))||(void 0)),Math.random().toString(36).substring(2),au()].join(arguments.length>=2?aI:"-")}function at(aI){return"[object "+aI+"]"
}function V(aL,aJ){var aK,aI;if(aL&&aJ){if(x(aL.options)){aK=aL.options}else{if(x(aL)){aK=aL}}if(x(aJ.options)){aI=aJ.options}else{if(x(aJ)){aI=aJ}}if("async" in aI){aK.async=!!aI.async
}if("speed" in aI&&r(aI.speed)){aK.speed=aI.speed}if("cancellers" in aI){if(!aI.cancellers||!aI.cancellers.length){aI.cancellers=[]}else{if(aK.cancellers&&aK.cancellers.length){aK.cancellers=aA.call([],aC(aK.cancellers),aC(aI.cancellers))
}else{aK.cancellers=aC(aI.cancellers)}}}if("stoppers" in aI){if(!aI.stoppers||!aI.stoppers.length){aI.stoppers=[]}else{if(aK.stoppers&&aK.stoppers.length){aK.stoppers=aA.call([],aC(aK.stoppers),aC(aI.stoppers))
}else{aK.stoppers=aC(aI.stoppers)}}}if("storage" in aI){aK.storage=aI.storage||{}}if(!aK.storage){aK.storage={}}}}(function(){ao.update({Deferred:function(){return M(this)?this.init(arguments):new h.fn.init(arguments)
}});h=ao.Deferred;B(h,{StopIteration:aw,speeds:{limp:2400,doze:1000,slow:100,normal:36,fast:20,rapid:12,ninja:0},states:{success:1,failure:2,fired:3,unfired:4}});
aH(h.states,function(aZ,aY){h.states[aZ]=aY});B(h,{defaults:{speed:h.speeds.ninja,canceller:null,stopper:null,async:true}});h.fn=h.prototype=B(h.prototype,{constructor:h,id:C.getMagicNumber(),serial:null,chains:[],chained:false,cancelled:false,freezing:false,tilling:false,waiting:false,nested:0,state:null,results:null,destAssign:false,chainDebris:null,options:{},plugins:{},NAME:"Deferred",toString:H,isDeferred:M,init:function(aY){if(!this.serial){this.serial=Q(this)
}this.options={};this.plugins={};aI.call(this,aC(aY),h.defaults);B(this,{results:{success:null,failure:null},state:h.states.unfired,chains:[],nested:0,chained:false,cancelled:false,freezing:false,tilling:false,waiting:false,destAssign:false,chainDebris:null});
C.referSpeeds.call(this,h.speeds);return this},speed:function(a1){var aZ=this,aY=arguments,a0;if(r(a1)){a0=a1-0}else{if(r(h.speeds[a1])){a0=h.speeds[a1]-0}else{a0=this.options.speed
}}if(this.state===h.states.unfired&&!this.chains.length){if(aY.length===0){return this.options.speed}this.options.speed=a0}else{this.then(function(a2){if(aY.length===0){return aZ.options.speed
}aZ.options.speed=a0;return a2})}return this},async:function(a0){var aZ=this,aY=arguments;if(this.state===h.states.unfired&&!this.chains.length){if(aY.length===0){return this.options.async
}this.options.async=!!a0}else{this.then(function(a1){if(aY.length===0){return aZ.options.async}aZ.options.async=!!a0;return a1})}return this},canceller:function(aZ){var aY=arguments;
if(this.state===h.states.unfired&&!this.chains.length){if(aY.length===0){return this.options.cancellers}if(!this.cancelled&&al(aZ)){this.options.cancellers.push(aZ)
}}else{this.stopper.apply(this,aY)}return this},stopper:function(a0){var aZ=this,aY=arguments;if(this.state===h.states.unfired&&!this.chains.length){this.canceller.apply(this,aY)
}else{this.then(function(a1){if(aY.length===0){return aZ.options.stoppers}if(!aZ.cancelled&&al(a0)){aZ.options.stoppers.push(a0)}return a1})}return this},then:function(aZ,aY){if(!this.chained&&!this.cancelled){this.chains.push({success:aZ,failure:aY});
if(this.state&h.states.fired){if(!this.freezing&&!this.tilling&&!this.waiting){aN.call(this)}}}C.referSpeeds.call(this,h.speeds);return this},rescue:function(aY){return this.then(null,aY)
},ensure:function(aY){return this.then(aY,aY)},cancel:function(){if(!this.cancelled){this.cancelled=true;switch(this.state){case h.states.unfired:aP.call(this,"cancellers");
if(this.state===h.states.unfired){this.raise(new Error(this))}break;case h.states.success:aP.call(this,"stoppers");if(M(this.results.success)){this.results.success.cancel()
}break;case h.states.failure:aP.call(this,"stoppers")}}return this},begin:function(){var a0=this,aY,aZ=aC(arguments),a1;aY=aZ[0];if(aZ.length>1){a1=aZ}else{a1=aZ[0]
}if(!this.cancelled&&this.state===h.states.unfired){if(M(aY)&&!aY.cancelled){aY.ensure(function(){a0.begin.apply(this,arguments)})}else{this.options.cancellers=[];
aW.call(this,a1)}}C.referSpeeds.call(this,h.speeds);return this},raise:function(){var aZ=aC(arguments),aY,a0;aY=aZ[0];if(!d(aY)){aZ[0]=new Error(aY)}if(aZ.length>1){a0=aZ
}else{a0=aZ[0]}return this.begin.apply(this,aC(a0))},end:function(){this.chained=true;return this},wait:function(a2,a0){var a1=new h(),aZ=this,aY=arguments;return this.then(function(a3){if(d(a3)){throw a3
}aZ.waiting=true;h.wait(a2).ensure(function(a4){aZ.waiting=false;if(d(a4)){a1.raise(a4)}else{a1.begin(aY.length>=2?a0:a3)}});return a1})},till:function(aY){var aZ=this,a0=new h();
return this.then(function(a1){if(d(a1)){throw a1}aZ.tilling=true;h.till(aY,a1).ensure(function(a2){aZ.tilling=false;if(d(a2)){a0.raise(a2)}else{a0.begin(a1)}});return a0
})},args:function(){var aZ=aC(arguments),aY=aZ.length;if(aY===0){return h.lastResult(this)}else{return this.then(function(){var a1,a0=aC(arguments);if(a0.length>1){a1=a0
}else{a1=a0[0]}if(aY>1){return aZ}else{if(al(aZ[0])){return aZ[0].apply(this,aC(a1))}else{return aZ[0]}}})}},data:function(){var a2=this,aZ=this,a0=aC(arguments),a1,aY=a0.length,a3=".";
if(this.options){if(!this.options.storage){this.options.storage={}}switch(aY){case 0:aZ={};aH(this.options.storage,function(a6,a4){try{if(a4&&a4.charAt(0)===a3){aZ[a4.substring(1)]=a6
}}catch(a5){}});break;case 1:if(a0[0]==null){this.options.storage={}}else{if(x(a0[0])){aH(a0[0],function(a5,a4){a2.options.storage[a3+R(a4)]=a5})}else{aZ=this.options.storage[a3+R(a0[0])]
}}break;case 2:this.options.storage[a3+R(a0[0])]=a0[1];break;default:a1=0;do{this.options.storage[a3+R(a0[a1++])]=a0[a1++]}while(a1<aY)}}return aZ},update:function(){var aZ=h.fn,aY=aC(arguments);
aY.unshift(aZ);B.apply(aZ,aY);return this}});h.fn.init.prototype=h.fn;function aQ(aY){if(d(aY)){this.state=h.states.failure}else{this.state=h.states.success}return this.state
}function aW(aY){aQ.call(this,aY);this.results[h.states[this.state]]=aY;if(!this.freezing&&!this.tilling&&!this.waiting){aN.call(this)}}function aN(aY){if(aY||(!this.freezing&&!this.tilling&&!this.waiting)){if(this.options&&this.options.async){aL.call(this)
}else{aV.call(this)}}}function aL(){var aY=this,aZ,a0;if(this.options&&r(this.options.speed)){aZ=this.options.speed}else{aZ=h.defaults.speed}this.freezing=true;a0=function(){try{aM.call(aY)
}catch(a1){aY.freezing=false;throw a1}if(aR.call(aY)){aN.call(aY,true)}else{aY.freezing=false}};if(!aZ&&this.state===h.states.unfired){t.flush(a0)}else{S(a0,aZ)}}function aV(){aM.call(this);
if(this.options&&this.options.async){aN.call(this)}}function aM(){var a2=this,aY,a0,a1,a5,a3=null,aZ;aT.call(this);aY=this.results[h.states[this.state]];while(aR.call(this)){a1=this.chains.shift();
a5=a1&&a1[h.states[this.state]];if(!al(a5)){continue}aZ=false;try{if(this.destAssign||(F(a5.length)&&a5.length>1&&b(aY)&&aY.length===a5.length)){a0=a5.apply(this,aY)
}else{a0=a5.call(this,aY)}if(a0===void 0&&this.state!==h.states.failure&&!d(aY)&&!ao.hasReturn(a5)){a0=aY}aY=a0;if(e(aY)){aY=aS.call(this,aY)}else{if(ao.isFileReader(aY)){aY=aU.call(this,aY)
}}this.destAssign=false;this.state=aQ.call({},aY);if(M(aY)){a3=function(a6){return aO.call(a2,a6)};this.nested++}}catch(a4){aY=a4;if(aB(aY)){aZ=true}else{aJ.call(this,aY)
}this.destAssign=false;this.state=h.states.failure;if(!d(aY)){aY=new Error(aY);if(aZ){B(aY,{StopIteration:aw})}}}if(this.options&&this.options.async){break}}this.results[h.states[this.state]]=aY;
if(a3&&this.nested){aY.ensure(a3).end()}aX.call(this)}function aR(){return this.chains&&this.chains.length&&this.nested===0&&!this.cancelled}function aK(){var a2,a1,aY,a0,a3,aZ;
a0=h.states[h.states.failure];a3=this.chains;aY=a3&&a3.length;if(aY){for(a1=0;a1<aY;a1++){if(a3[a1]){aZ=a3[a1][a0];if(aZ&&al(aZ)){a2=true;break}}}}return a2}function aJ(aY){if(!aK.call(this)){this.chainDebris={error:aY}
}}function aX(){var aY=this,aZ;if(this.chainDebris&&"error" in this.chainDebris&&(this.cancelled||this.chained||(!this.chains||!this.chains.length))){if(this.options&&r(this.options.speed)){aZ=this.options.speed
}else{aZ=h.defaults.speed}this.chainDebris.timerId=S(function(){throw aY.chainDebris.error},aZ)}}function aT(){if(this.chainDebris&&this.chainDebris.timerId!=null&&(this.state&h.states.fired)&&aK.call(this)){I(this.chainDebris.timerId);
delete this.chainDebris.error;delete this.chainDebris.timerId;this.chainDebris=null}}function aO(aY){aW.call(this,aY);this.nested--;if(this.nested===0&&!this.cancelled&&(this.state&h.states.fired)){aN.call(this)
}}function aS(a0){var aY,aZ=false;if(this.options&&this.options.async){aZ=true}aY=new h({async:aZ});return aY.then(function(){var a2=new h({async:aZ}),a1=0;if(a0&&a0.workers){aH(a0.workers,function(a3,a4){if(a3&&a4&&a4.charAt&&a4.charAt(0)==="."){a3.callback=function(a5){a1--;
if(a1===0){a2.begin(a5)}};a1++}});if(a1===0){a2.begin()}}else{a2.begin()}return a2}).begin()}function aU(aY){var a3,a0,a1=false,a4=aY.onload,a2=aY.onloadend,aZ=aY.onerror;
if(this.options&&this.options.async){a1=true}a3=new h({async:a1});if(aY.readyState===FileReader.LOADING){aY.onload=function(a5){if(!a0){a0=true;a3.begin(a5&&a5.target&&a5.target.result)
}a4&&a4.apply(this,arguments)};aY.onloadend=function(a5){if(!a0){a0=true;a3.begin(a5&&a5.target&&a5.target.result)}a2&&a2.apply(this,arguments)};aY.onerror=function(a5){if(!a0){a0=true;
a3.raise(a5)}aZ&&aZ.apply(this,arguments)}}else{a3.begin(aY.result)}return a3}function aI(aZ,a4){var a2,a3,aY,a1,a0,a5;if(aZ){if(aZ.length===1&&aZ[0]&&x(aZ[0])){a2=aZ[0];
if(a2.speed!==a5||a2.canceller!==a5||a2.async!==a5||a2.stopper!==a5){a3=a2.speed;aY=a2.canceller;a1=a2.stopper;a0=a2.async}else{a3=a2.options&&a2.options.speed;aY=a2.options&&a2.options.canceller;
a1=a2.options&&a2.options.stopper;a0=a2.options&&a2.options.async}}else{if(aZ.length===1&&aZ[0]&&b(aZ[0])){a2=aZ[0]}else{a2=aZ}aH(a2||[],function(a6){if(a3===a5&&r(a6)){a3=a6
}else{if(a3===a5&&r(h.speeds[a6])){a3=h.speeds[a6]}else{if(aY===a5&&al(a6)){aY=a6}else{if(a0===a5&&an(a6)){a0=a6}else{if(a1===a5&&aY===a5&&al(a6)){a1=a6}}}}}})}}this.options=this.options||{};
this.options.storage=this.options.storage||{};if(!b(this.options.cancellers)){this.options.cancellers=[]}if(!b(this.options.stoppers)){this.options.stoppers=[]}if(!r(a3)){if(this.options.speed!==a5&&r(this.options.speed)){a3=this.options.speed-0
}else{a3=a4.speed}}if(!al(aY)){aY=a4.canceller}if(!al(a1)){a1=a4.stopper}if(!an(a0)){if(this.options.async!==a5&&an(this.options.async)){a0=this.options.async}else{a0=a4.async
}}B(this.options,{speed:a3-0,async:a0});if(al(aY)){this.options.cancellers.push(aY)}if(al(a1)){this.options.stoppers.push(a1)}return this}function aP(aY){var aZ;
while(this.options[aY]&&this.options[aY].length){aZ=this.options[aY].shift();if(al(aZ)){aZ.call(this)}}}B(h,{extendSpeeds:function(a3,a1,aY,a0){var a2=function(a5,a6){var a4=function(){var a9={},a7=arguments,a8=a4;
a7=aC(a7);aI.call(a9,a7,{speed:a6,canceller:h.defaults.canceller,stopper:h.defaults.stopper,async:h.defaults.async});a9.speedName=a5;a7.unshift(a9);return aY.apply(a8.instance,a7)
};return a4},aZ={};aH(a0,function(a5,a4){aZ[a4]=a2(a4,a5)});return B(a3[a1],aZ)}});B(C,{referSpeeds:B(function(aY){var aZ=C.referSpeeds,a1,a0;if(aY&&this.forEach.fast.instance!==this){for(a1 in aZ.props){if(a1 in this&&this[a1]){for(a0 in aZ.speeds){if(a0 in aY&&a0 in this[a1]&&this[a1][a0]){this[a1][a0].instance=this
}}}}}},{props:{forEach:true,repeat:true,forEver:true,iterate:true,items:true,zip:true,map:true,filter:true,reduce:true,every:true,some:true},speeds:{limp:0,doze:1,slow:2,normal:3,fast:4,rapid:5,ninja:6}})});
h.extendSpeeds(ao,"Deferred",function(aY){return h(aY)},h.speeds)}());(function(){B(h,{isDeferred:M,succeed:function(){var aI=new h();return aI.begin.apply(aI,arguments)
},failure:function(){var aI=new h();return aI.raise.apply(aI,arguments)},wait:function(aK,aI){var aL,aJ=new h({canceller:function(){try{I(aL)}catch(aM){}}});if(arguments.length>=2){aJ.then(function(){return aI
})}aL=S(function(){aJ.begin()},Math.floor(((aK-0)||0)*1000));return aJ},callLater:function(aJ,aK){var aI=aC(arguments,2);return h.wait(aJ).then(function(){if(M(aK)){return aK.begin.apply(aK,aI)
}else{if(al(aK)){return aK.apply(aK,aI)}else{return aK}}})},callLazy:function(aJ){var aI=aC(arguments,1);return h.begin(function(){if(M(aJ)){return aJ.begin.apply(aJ,aI)
}else{if(al(aJ)){return aJ.apply(aJ,aI)}else{return aJ}}})},maybeDeferred:function(aJ){var aI;if(M(aJ)){if(h.isFired(aJ)){aI=aJ}else{aI=aJ.begin()}}else{if(d(aJ)){aI=h.failure(aJ)
}else{aI=h.succeed(aJ)}}return aI},isFired:function(aI){return M(aI)&&((aI.state&h.states.fired)!==0)},lastResult:function(aJ,aM){var aI,aK=arguments,aL;if(M(aJ)){try{aL=h.states[h.states.success];
if(aK.length<=1){aI=aJ.results[aL]}else{aJ.results[aL]=aM;aI=aJ}}catch(aN){}}return aI},lastError:function(aJ,aM){var aI,aK=arguments,aL;if(M(aJ)){try{aL=h.states[h.states.failure];
if(aK.length<=1){aI=aJ.results[aL]}else{if(!d(aM)){aM=new Error(aM)}aJ.results[aL]=aM;aI=aJ}}catch(aN){}}return aI},register:function(){var aI=0,aL=h.fn,aK=aC(arguments),aJ=[];
switch(aK.length){case 0:break;case 1:if(x(aK[0])){aH(aK[0],function(aN,aM){if(al(aN)&&ay(aM)){aJ.push([aM,aN])}else{if(al(aM)&&ay(aN)){aJ.push([aN,aM])}}})}break;
default:if(al(aK[0])){aJ.push([aK[1],aK[0]])}else{aJ.push([aK[0],aK[1]])}}if(aJ&&aJ.length){aH(aJ,function(aP){var aN={},aM,aO,aQ;if(aP&&aP.length>=2&&al(aP[1])){aM=R(aP[0],true);
aO=aP[1];aQ=function(){var aR={};aR.inputs=arguments;return this.then(function(){aR.results=arguments;return aO.call(this,aR)})};aN[aM]=aQ;B(aL,aN);aI++}})}return aI
},unregister:function(){var aI=0,aK=h.fn,aJ=aC(arguments),aL;if(aJ.length>1){aL=aJ}else{aL=aJ[0]}aH(aC(aL),function(aM){try{delete aK[aM];aI++}catch(aN){}});return aI
},deferrize:function(aJ,aO){var aI=arguments,aM,aK,aL;try{switch(aI.length){case 0:throw false;case 1:aM=aJ;break;default:if(x(aO)){aK=aO;aM=aJ}else{aM=aO;aK=aJ}}if(!aM){throw aM
}}catch(aN){aL=aN;throw (d(aL)?aL:new Error(aL))}return function(){var aQ=this,aP=aC(arguments),aR=new h();aR.then(function(){var aT=new h(),aS,aX=[],aU=false,aV,aY=h.isFired;
aH(aP,function(aZ){if(al(aZ)){aX.push(function(){var a0,a2;try{a0=aZ.apply(aQ,arguments)}catch(a1){a2=a1;if(!aY(aT)){aT.raise(a2)}}finally{if(!aY(aT)){aT.begin(a0)
}}if(a2!=null){throw a2}return a0});aU=true}else{aX[aX.length]=aZ}});try{aS=A(aK,aM,aX)}catch(aW){aV=aW;if(!aU&&!aY(aT)){aT.raise(aV)}}finally{if(!aU&&!aY(aT)){aT.begin(aS)
}}if(aV!=null){throw d(aV)?aV:new Error(aV)}return aT}).begin();return aR}},update:function(){var aJ=h,aI=aC(arguments);aI.unshift(aJ);return B.apply(aJ,aI)}});B(h,{begin:function(aI){var aL=new h(),aJ=aC(arguments,1),aK;
if(aI&&al(aI)){aL.then(function(){return aI.apply(this,aJ)})}else{aK=aI}t.flush(function(){aL.begin(aK)});return aL},flush:function(aJ){var aI=aC(arguments,1);return h.begin(function(){if(M(aJ)){return aJ.begin.apply(aJ,aI)
}else{if(al(aJ)){return aJ.apply(this,aI)}else{return aJ}}})},till:function(aK){var aL=new h(),aJ=aC(arguments,1),aI=13;return h.begin(function aM(){var aN=this,aO=au();
if(aK&&!aK.apply(this,aJ)){S(function(){aM.call(aN)},Math.min(1000,aI+(au()-aO)))}else{aL.begin()}return aL})},parallel:function(aN){var aI,aK=arguments,aO,aM,aJ,aL;
if(aK.length===0){aI=h.succeed()}else{if(aK.length===1){if(x(aN)){aM=aN}else{aM=aC(aN)}}else{aM=aC(aK)}aI=new h({canceller:function(){aH(aM,function(aP){if(M(aP)){aP.cancel()
}})}});aO=new h();aL=[];aJ=x(aM)?{}:[];aH(aM,function(aP,aQ){var aR;if(M(aP)){aR=aP}else{if(al(aP)){aR=new h();aR.then(function(){var aS=aP();if(M(aS)&&aS.state===h.states.unfired){aS.begin()
}return aS})}else{aR=h.succeed(aP)}}if(!M(aR)){aR=h.maybeDeferred(aR)}aL[aL.length]=aQ;aO.then(function(){if(aR.state===h.states.unfired){h.flush(aR)}aR.then(function(aS){if(aL.length){aJ[aQ]=aS;
aL.pop();if(aL.length===0){aI.begin(aJ)}}},function(aS){aL=[];aI.raise(aS)})})});h.flush(aO)}return aI},chain:(function(){var aI={funcName:/^\s*[()]*\s*function\s*([^\s()]+)/,rescue:/rescue|raise|err|fail/i};
return function(){var aK=arguments,aJ=aK.length,aM,aL=new h();if(aJ>0){aM=aC((aJ===1)?aK[0]:aK);aH(aM,function(aP){var aN;if(al(aP)){try{aN=ao.getFunctionCode(aP).match(aI.funcName)[1]
}catch(aO){}if(aN&&aI.rescue.test(aN)){aL.rescue(aP)}else{aL.then(aP)}}else{if(M(aP)){aL.then(function(aQ){if(aP.state===h.states.unfired){aP.begin(aQ)}return aP
})}else{if(x(aP)||b(aP)){aL.then(function(){return h.parallel(aP)})}else{if(d(aP)){aL.then(function(){throw aP})}else{aL.then(function(){return aP})}}}}})}h.callLazy(aL);
return aL}}())});h.extendSpeeds(h,"begin",function(aI,aP){var aN,aJ,aO=aC(arguments,2),aK=(aP&&al(aP)),aM=aI.options||aI||{},aL,aQ;if(!aM.cancellers){aM.cancellers=[]
}aM.cancellers.push(function(){try{if(aJ!=null){I(aJ)}}catch(aR){}});aN=new h(aM);if(aK){aN.then(function(){return aP.apply(this,aO)})}else{aQ=aP}aL=(((aI.options&&aI.options.speed)||aI.speed)-0)||0;
if(r(aL)&&aL>0){aJ=S(function(){aN.begin(aQ)},aL)}else{t.flush(function(){aN.begin(aQ)})}return aN},h.speeds);h.extendSpeeds(h,"flush",function(aK,aN){var aL,aJ,aM,aI=aC(arguments,2);
aL=aK.options?aK.options.speed:aK.speed;if(aL in h.speeds&&ay(h.speeds[aL])){aJ=h.speeds[aL]}else{aH(h.speeds,function(aP,aO){if(aP==aL){aJ=aO;throw aw}})}if(aJ&&aJ in h.begin){aM=h.begin[aJ]
}else{aM=h.begin}return aM(function(){if(M(aN)){return aN.begin.apply(aN,aI)}else{if(al(aN)){return aN.apply(this,aI)}else{return aN}}})},h.speeds);ao.update({succeed:ao.Deferred.succeed,failure:ao.Deferred.failure,wait:ao.Deferred.wait,callLater:ao.Deferred.callLater,callLazy:ao.Deferred.callLazy,maybeDeferred:ao.Deferred.maybeDeferred,isFired:ao.Deferred.isFired,lastResult:ao.Deferred.lastResult,lastError:ao.Deferred.lastError,register:ao.Deferred.register,unregister:ao.Deferred.unregister,deferrize:ao.Deferred.deferrize,begin:ao.Deferred.begin,flush:ao.Deferred.flush,till:ao.Deferred.till,parallel:ao.Deferred.parallel,chain:ao.Deferred.chain})
}());(function(){var aJ,aL,aI,aK;B(C,{LightIterator:B(function(aN,aO,aM){return new aJ.fn.doit(aN,aO,aM)},{speeds:{limp:-1,doze:0,slow:2,normal:5,fast:12,rapid:36,ninja:60},delays:{limp:1000,doze:100,slow:13,normal:0,fast:0,rapid:0,ninja:0},types:{forLoop:1,forInLoop:2,repeat:4,forEver:8,iterate:16,items:32,zip:64}})});
af=aJ=C.LightIterator;B(aJ,{defaults:{speed:aJ.speeds.normal},revSpeeds:{}});aH(aJ.speeds,function(aN,aM){aJ.revSpeeds[aN]=aM});aJ.fn=aJ.prototype=B(aJ.prototype,{constructor:aJ,interval:aJ.defaults.speed,iter:null,result:null,deferred:null,revDeferred:null,isDeferStopIter:false,time:{},waiting:false,restable:false,async:false,options:null,doit:function(aN,aO,aM){this.setOptions(aM);
this.execute(aN,aO);this.watch();return this},setOptions:function(aM){this.options=aM||{};this.setInterval();this.setAsync()},setInterval:function(){var aM=null;
if(r(this.options.interval)){aM=this.options.interval-0}else{if(this.options.interval in aJ.speeds){aM=aJ.speeds[this.options.interval]-0}}if(aM!==null&&!isNaN(aM)){this.interval=aM
}if(!r(this.interval)){this.interval=aJ.defaults.speed}},setAsync:function(){var aM=null;if(this.options.async!==void 0){aM=!!this.options.async}if(aM!==null){this.async=!!aM
}if(!an(this.async)){this.async=!!this.async}},createDeferred:function(){return new h({async:false})},watch:function(){var aM=this;if(!this.async&&this.waiting===true&&q.isWaitable){ao.XPCOM.throughout(function(){return aM.waiting!==true
})}},execute:function(aM,aP){var aO,aN=this;this.waiting=true;if(!aM){this.result={};this.waiting=false}else{this.waiting=true;this.restable=true;this.time={start:au(),total:null,loop:null,diff:null,risk:null,axis:null,count:1,rest:100,limit:255};
this.setIter(aM,aP);if(!this.async&&!q.isWaitable){this.revback();this.waiting=false}else{aO=this.createDeferred();aO.then(function(){var aR=aN.createDeferred(),aQ=aN.createDeferred();
aR.then(function(){return aN.revolve().then(function(){aQ.begin()})}).begin();return aQ}).ensure(function(){aN.waiting=false});if(this.async){this.deferred=aO.then(function(){if(M(aN.result)&&aB(h.lastError(aN.result))){aN.result=h.lastResult(aN.result)
}return aN.result})}this.flush(aO)}}},setIter:function(aM,aQ){var aP=this.options.type,aO=aJ.types,aN=this.options.context;switch(true){case ((aP&aO.iterate)===aO.iterate):this.result=null;
this.iter=this.iterate(aM,aQ,aN);break;case ((aP&aO.forEver)===aO.forEver):this.result={};this.iter=this.forEver(aM,aN);break;case ((aP&aO.repeat)===aO.repeat):this.result={};
this.iter=this.repeat(aM,aQ,aN);break;case ((aP&aO.items)===aO.items):this.result=[];this.iter=this.items(aM,aQ,aN);break;case ((aP&aO.zip)===aO.zip):this.result=[];
this.iter=this.zip(aM,aQ,aN);break;default:if(ah(aM)){this.result=aM;this.iter=this.forLoop(aM,aQ,aN)}else{this.result=aM;this.iter=this.forInLoop(aM,aQ,aN)}}},revback:function(){var aP=this,aM,aO,aN=false,aR;
this.time.loop=au();REVOLVE:{do{try{if(this.isDeferStopIter){this.isDeferStopIter=false;throw aw}aM=this.iter.next()}catch(aQ){aO=aQ;if(aB(aO)){break REVOLVE}throw aO
}if(this.async&&M(aM)){return aM.ensure(function(aS){if(aS!==void 0){if(d(aS)){if(aB(aS)){aP.isDeferStopIter=true;if(M(aP.result)&&aB(h.lastError(aP.result))){aP.result=h.lastResult(aP.result)
}}else{h.lastError(this,aS)}}else{h.lastResult(this,aS)}}aP.flush(aP.revback,true)})}aR=au();if(q.isWaitable){if(this.time.total===null){this.time.total=aR}else{if(aR-this.time.total>=this.time.rest){ao.XPCOM.throughout(0);
this.time.total=au()}}}else{if(!this.async){if(this.restable&&this.time.count>=this.time.limit){this.restable=false}}}this.time.risk=aR-this.time.start;this.time.diff=aR-this.time.loop;
if(this.time.diff>=this.interval){if(this.async&&this.interval<aJ.speeds.normal){aN=true}else{if(this.async||this.restable||q.isWaitable){if(this.time.diff<this.interval+8){this.time.axis=2
}else{if(this.time.diff<this.interval+36){this.time.axis=5}else{if(this.time.diff<this.interval+48){this.time.axis=7}else{this.time.axis=10}}}if(this.time.axis>=10||(Math.random()*10<this.time.axis)){aN=true
}}}}}while(!aN);if(this.time.count<=this.time.limit){this.time.count++}return this.flush(this.revback,true)}if(M(this.revDeferred)){this.revDeferred.begin()}},revolve:function(){var aM=this,aN=this.createDeferred(),aO=this.createDeferred();
aN.then(function(){var aP=aM.createDeferred();aM.revDeferred=aM.createDeferred();aP.then(function(){return aM.revback()}).begin();return aM.revDeferred}).ensure(function(aP){aO.begin();
if(d(aP)){throw aP}});this.flush(aN);return aO},flush:function(aS,aP){var aN=this,aR,aM=false,aO,aQ;if(this.async||q.isWaitable){aM=true}if(!aM&&al(aS)){return aS.call(this)
}else{aR=this.createDeferred();aR.then(function(){if(M(aS)){aS.begin()}else{aS.call(aN)}});if(aM){aO=0;if(aP){aQ=aJ.revSpeeds[this.interval];if(aQ&&r(aJ.delays[aQ])){aO=aJ.delays[aQ]
}if(Math.random()*10<Math.max(2,(this.time.axis||2)/2.75)){aO+=Math.min(this.time.rest,Math.max(1,Math.ceil((this.time.risk/(this.time.rest+this.time.diff))+this.time.diff)))
}}S(function(){aR.begin()},aO)}else{aR.begin()}}},noop:function(){return{next:function(){throw aw}}},forEver:function(aO,aN){var aM=0;if(!al(aO)){return this.noop()
}return{next:function(){var aP=aO.call(aN,aM);try{if(!isFinite(++aM)||aM>=Number.MAX_VALUE){throw 0}}catch(aQ){aM=0}return aP}}},repeat:function(aM,aS,aP){var aO,aN,aR,aQ;
if(!al(aS)){return this.noop()}if(!aM||aM==null){aR=0}else{if(r(aM)){aR=aM-0}else{aR=aM||{};if(r(aR.start)){aR.begin=aR.start}if(r(aR.stop)){aR.end=aR.stop}}}aN={begin:r(aR.begin)?aR.begin-0:0,end:r(aR.end)?aR.end-0:(aR||0)-0,step:r(aR.step)?aR.step-0:1,last:false,prev:null};
aO=aN.step?aN.begin:aN.end;aQ=aN.end-aN.step;return{next:function(){var aT;if(aO<aN.end){aN.last=(aO>=aQ);aT=aS.call(aP,aO,aN.last,aN);aN.prev=aT}else{throw aw}aO+=aN.step;
return aT}}},forLoop:function(aM,aQ,aO){var aP,aN=0;if(!aM||!aM.length||!al(aQ)){return this.noop()}aP=aC(aM);return{next:function(){var aT,aR;while(true){if(aN>=aP.length){throw aw
}if(!(aN in aP)){aN++;continue}try{aT=aP[aN]}catch(aS){aN++;continue}aR=aQ.call(aO,aT,aN,aM);aN++;return aR}}}},forInLoop:function(aM,aQ,aO){var aP,aN=0;if(al(aQ)){aP=[];
aH(aM,function(aR,aS){aP[aP.length]=[aR,aS]})}if(!aP||!aP.length){return this.noop()}return{next:function(){var aR,aV,aS,aU;while(true){if(aN>=aP.length){throw aw
}if(!(aN in aP)){aN++;continue}try{aV=aP[aN];aU=aV[0];aS=aV[1]}catch(aT){aN++;continue}aR=aQ.call(aO,aU,aS,aM);aN++;return aR}}}},iterate:function(aM,aQ,aN){var aO=this,aP;
if(ao.isIterable(aM)&&!ao.isIter(aM)){if(al(aQ)){return{next:function(){var aR=aM.next();aO.result=aQ.apply(aN,aC(aR));return aO.result}}}else{return{next:function(){aO.result=aM.next();
return aO.result}}}}else{aP=v.toIter(aM);if(!aG(aP)){return this.noop()}if(al(aQ)){return{next:function(){var aR=aP.next();aR=aC(aR);while(aR.length<2){aR.push((void 0))
}aR.push(aM);aO.result=aQ.apply(aN,aR);return aO.result}}}else{return{next:function(){aO.result=aP.next();return aO.result}}}}},items:function(aM,aS,aO){var aP=this,aR,aN=0,aQ;
if(x(aM)){aR=[];aH(aM,function(aT,aU){aR[aR.length]=[aU,aT]});aQ=true}else{if(ah(aM)){aR=aC(aM)}}if(!aR||!aR.length){return this.noop()}if(al(aS)){return{next:function(){var aT,aX,aU,aW;
while(true){if(aN>=aR.length){throw aw}if(!(aN in aR)){aN++;continue}try{aX=aR[aN];if(aQ){aU=aX[0];aW=aX[1]}else{aU=aN;aW=aX}}catch(aV){aN++;continue}aT=aS.call(aO,[aU,aW],aM);
aN++;aP.result[aP.result.length]=aT;return aT}}}}else{return{next:function(){var aW,aV,aU,aT;while(true){if(aN>=aR.length){throw aw}if(!(aN in aR)){aN++;continue
}try{aV=aR[aN];if(aQ){aU=aV[0];aT=aV[1]}else{aU=aN;aT=aV}}catch(aX){aN++;continue}aN++;aW=[aU,aT];aP.result[aP.result.length]=aW;return aW}}}}},zip:function(aN,aS,aP){var aQ=this,aR,aO=0,aM;
if(ah(aN)){aR=aC(aN);aM=aR.length}if(!aM||!aR||!aR.length){return this.noop()}if(al(aS)){return{next:function(){var aT,aV=[],aU,aW;for(aU=0;aU<aM;aU++){aW=aC(aR[aU]);
if(!aW||!aW.length||aO>=aW.length){throw aw}aV[aV.length]=aW[aO]}aT=aS.call(aP,aV,aN);aQ.result[aQ.result.length]=aT;aO++;return aT}}}else{return{next:function(){var aV=[],aT,aU;
for(aT=0;aT<aM;aT++){aU=aC(aR[aT]);if(!aU||!aU.length||aO>=aU.length){throw aw}aV[aV.length]=aU[aO]}aQ.result[aQ.result.length]=aV;aO++;return aV}}}}});aJ.fn.doit.prototype=aJ.fn;
B(aJ,{QuickIteration:{resolve:function(aM){var aN;try{while(true){aM.next()}}catch(aO){aN=aO;if(!aB(aN)){throw aN}}},forEach:function(aO,aR,aP){var aM,aN,aQ=aJ.fn;
if(!aO){aM={}}else{aM=aO;if(ah(aO)){aN=aQ.forLoop(aO,aR,aP)}else{aN=aQ.forInLoop(aO,aR,aP)}aL.resolve(aN)}return aM},repeat:function(aN,aR,aP){var aM={},aO,aQ=aJ.fn;
if(aN){aO=aQ.repeat(aN,aR,aP);aL.resolve(aO)}return aM},forEver:function(aQ,aO){var aM={},aN,aP=aJ.fn;if(aQ){aN=aP.forEver(aQ,aO);aL.resolve(aN)}return aM},iterate:function(aO,aS,aP){var aM,aN,aR,aQ=aJ.fn;
if(!aO){aM={}}else{aM=null;aR={noop:aQ.noop,result:null};aN=aQ.iterate.call(aR,aO,aS,aP);aL.resolve(aN);aM=aR.result}return aM},items:function(aO,aS,aP){var aM=[],aN,aR,aQ=aJ.fn;
if(aO){aR={noop:aQ.noop,result:[]};aN=aQ.items.call(aR,aO,aS,aP);aL.resolve(aN);aM=aR.result}return aM},zip:function(aO,aS,aP){var aM=[],aN,aR,aQ=aJ.fn;if(aO){aR={noop:aQ.noop,result:[]};
aN=aQ.zip.call(aR,aO,aS,aP);aL.resolve(aN);aM=aR.result}return aM}}});aL=aJ.QuickIteration;B(X,{createLightIterateConstructor:function(aQ){var aO,aP=function(aS){var aR;
if(aJ.speeds[aS]===void 0){aR=aJ.defaults.speed}else{aR=aJ.speeds[aS]}return aQ(aR)},aN={},aM=aP();for(aO in aJ.speeds){aN[aO]=aP(aO)}return B(aM,aN)}});aI=X.createLightIterateConstructor;
ao.update({forEach:aI(function(aM){if(q.isWaitable&&aM<aJ.speeds.normal){return function(aN,aQ,aO){var aP={};aP.type=aJ.types.forLoop|aJ.types.forInLoop;aP.interval=aM;
aP.async=false;aP.context=aO;return(new aJ(aN,aQ,aP)).result}}else{return function(aN,aP,aO){return aL.forEach(aN,aP,aO)}}}),repeat:aI(function(aM){if(q.isWaitable&&aM<aJ.speeds.normal){return function(aN,aQ,aO){var aP={};
aP.type=aJ.types.repeat;aP.interval=aM;aP.async=false;aP.context=aO;return(new aJ(aN,aQ,aP)).result}}else{return function(aN,aP,aO){return aL.repeat(aN,aP,aO)}}}),forEver:aI(function(aM){if(q.isWaitable&&aM<aJ.speeds.normal){return function(aP,aN){var aO={};
aO.type=aJ.types.forEver;aO.interval=aM;aO.async=false;aO.context=aN;return(new aJ(aP,null,aO)).result}}else{return function(aO,aN){return aL.forEver(aO,aN)}}}),iterate:aI(function(aM){if(q.isWaitable&&aM<aJ.speeds.normal){return function(aN,aQ,aO){var aP={};
aP.type=aJ.types.iterate;aP.interval=aM;aP.async=false;aP.context=aO;return(new aJ(aN,aQ,aP)).result}}else{return function(aN,aP,aO){return aL.iterate(aN,aP,aO)}
}}),items:aI(function(aM){if(q.isWaitable&&aM<aJ.speeds.normal){return function(aN,aQ,aO){var aP={};aP.type=aJ.types.items;aP.interval=aM;aP.async=false;aP.context=aO;
return(new aJ(aN,aQ,aP)).result}}else{return function(aN,aP,aO){return aL.items(aN,aP,aO)}}}),zip:aI(function(aM){if(q.isWaitable&&aM<aJ.speeds.normal){return function(aN,aQ,aO){var aP={};
aP.type=aJ.types.zip;aP.interval=aM;aP.async=false;aP.context=aO;return(new aJ(aN,aQ,aP)).result}}else{return function(aN,aP,aO){return aL.zip(aN,aP,aO)}}})});B(h,{forEach:aI(function(aM){return function(aN,aQ,aO){var aP={};
aP.type=aJ.types.forLoop|aJ.types.forInLoop;aP.interval=aM;aP.async=true;aP.context=aO;return(new aJ(aN,aQ,aP)).deferred}}),repeat:aI(function(aM){return function(aN,aQ,aO){var aP={};
aP.type=aJ.types.repeat;aP.interval=aM;aP.async=true;aP.context=aO;return(new aJ(aN,aQ,aP)).deferred}}),forEver:aI(function(aM){return function(aP,aN){var aO={};
aO.type=aJ.types.forEver;aO.interval=aM;aO.async=true;aO.context=aN;return(new aJ(aP,null,aO)).deferred}}),iterate:aI(function(aM){return function(aN,aQ,aO){var aP={};
aP.type=aJ.types.iterate;aP.interval=aM;aP.async=true;aP.context=aO;return(new aJ(aN,aQ,aP)).deferred}}),items:aI(function(aM){return function(aN,aQ,aO){var aP={};
aP.type=aJ.types.items;aP.interval=aM;aP.async=true;aP.context=aO;return(new aJ(aN,aQ,aP)).deferred}}),zip:aI(function(aM){return function(aN,aQ,aO){var aP={};aP.type=aJ.types.zip;
aP.interval=aM;aP.async=true;aP.context=aO;return(new aJ(aN,aQ,aP)).deferred}})});delete X.createLightIterateConstructor;ao.update({Iter:function(){return aG(this)?this.init(arguments):new v.fn.init(arguments)
}});v=ao.Iter;v.fn=v.prototype=B(v.prototype,{constructor:v,id:C.getMagicNumber(),serial:null,NAME:"Iter",toString:H,isIter:aG,init:function(aM){if(!this.serial){this.serial=Q(this)
}return this},next:function(){throw aw}});v.fn.init.prototype=v.fn;B(v,{StopIteration:aw,toIter:function(aN){var aO,aQ,aM,aP;if(aG(aN)){return aN}aM=aN&&ah(aN);aP=aN&&!aM&&x(aN);
if(aP){aQ=[];aH(aN,function(aR,aS){aQ[aQ.length]=[aR,aS]})}else{aQ=aC(aN)}aO=new v();aO.next=(function(){var aR=0;if(aP){return function(){var aS,aV,aU;while(true){if(aR>=aQ.length){throw aw
}if(!(aR in aQ)){aR++;continue}try{aS=aQ[aR][1];aV=aQ[aR][0]}catch(aT){aR++;continue}aU=[aV,aS];aR++;return aU}}}else{return function(){var aT,aS;while(true){if(aR>=aQ.length){throw aw
}if(!(aR in aQ)){aR++;continue}try{aT=aQ[aR]}catch(aU){aR++;continue}aS=[aT,aR];aR++;return aS}}}}());return aO},forEach:function(){return ao.iterate.apply(null,arguments)
},map:function(aO,aS,aM){var aT,aU,aQ,aR,aP,aN;aR=this&&this.iterateSpeed;aU=aO&&ah(aO);aQ=aO&&!aU&&x(aO);if(aU){aT=[]}else{if(aQ){aT={}}else{aT=null}}aN=aR||this&&this.iterateSpeedSync||ao.iterate;
aP=function(){return aN(aO,function(aY,aW,aX){var aV=aS.call(aM,aY,aW,aX);if(M(aV)){return aV.then(function(aZ){if(aU){aT[aT.length]=aZ}else{if(aQ){aT[aW]=aZ}else{aT=aZ
}}})}else{if(aU){aT[aT.length]=aV}else{if(aQ){aT[aW]=aV}else{aT=aV}}}},aM)};if(aR){return aP().then(function(){return aT})}else{aP();return aT}},filter:(function(){var aM=function(aN){return aN
};return function(aQ,aU,aN){var aV,aW,aS,aT,aR,aO,aP;aP=aU||aM;aT=this&&this.iterateSpeed;aW=aQ&&ah(aQ);aS=aQ&&!aW&&x(aQ);if(aW){aV=[]}else{if(aS){aV={}}else{aV=null
}}aO=aT||this&&this.iterateSpeedSync||ao.iterate;aR=function(){return aO(aQ,function(a0,aY,aZ){var aX=aP.call(aN,a0,aY,aZ);if(M(aX)){return aX.then(function(a1){if(a1){if(aW){aV[aV.length]=a0
}else{if(aS){aV[aY]=a0}else{aV=a0}}}})}else{if(aX){if(aW){aV[aV.length]=a0}else{if(aS){aV[aY]=a0}else{aV=a0}}}}},aN)};if(aT){return aR().then(function(){return aV
})}else{aR();return aV}}}()),reduce:function(aO,aV,aR,aM){var aW,aQ,aT,aU,aS,aP,aN;aS=this&&this.iterateSpeed;aW=aO&&ah(aO);aQ=aO&&!aW&&x(aO);if(aR===void 0){aT=(function(){var aX;
if(aW||aQ){aH(aO,function(aY){aX=aY;throw aw})}return aX}())}else{aT=aR}aU=true;aN=aS||this&&this.iterateSpeedSync||ao.iterate;aP=function(){return aN(aO,function(a0,aY,aZ){var aX;
if(aU){aU=false}else{aX=aV.call(aM,aT,a0,aY,aZ);if(M(aX)){return aX.then(function(a1){aT=a1})}else{aT=aX}}},aM)};if(aS){return aP().then(function(){return aT})}else{aP();
return aT}},every:function(aN,aS,aO){var aM=true,aR,aP,aQ;aR=this&&this.iterateSpeed;aQ=aR||this&&this.iterateSpeedSync||ao.iterate;aP=function(){return aQ(aN,function(aW,aU,aV){var aT=aS.call(aO,aW,aU,aV);
if(M(aT)){return aT.then(function(aX){if(!aX){aM=false;throw aw}})}else{if(!aT){aM=false;throw aw}}},aO)};if(aR){return aP().then(function(){return aM})}else{aP();
return aM}},some:function(aN,aS,aO){var aM=false,aR,aP,aQ;aR=this&&this.iterateSpeed;aQ=aR||this&&this.iterateSpeedSync||ao.iterate;aP=function(){return aQ(aN,function(aW,aU,aV){var aT=aS.call(aO,aW,aU,aV);
if(M(aT)){return aT.then(function(aX){if(aX){aM=true;throw aw}})}else{if(aT){aM=true;throw aw}}},aO)};if(aR){return aP().then(function(){return aM})}else{aP();return aM
}},range:function(){var aR=arguments,aT,aU=[],aO=0,aP=0,aN=1,aM,aQ,aS;switch(aR.length){case 0:return;case 1:aT=aR[0];if(x(aT)){if("begin" in aT){aO=aT.begin}else{if("start" in aT){aO=aT.start
}}if("end" in aT){aP=aT.end}else{if("stop" in aT){aP=aT.stop}}if("step" in aT){aN=aT.step}}else{aP=aT}break;case 2:aO=aR[0];aP=aR[1];break;default:aO=aR[0];aP=aR[1];
aN=aR[2]}if(ay(aO)&&aO.length===1&&ay(aP)&&aP.length===1){aO=aO.charCodeAt(0)||0;aP=aP.charCodeAt(0)||0;aQ=true}else{aO=aO-0;aP=aP-0;aQ=false}aN=aN-0;if(isNaN(aO)||isNaN(aP)||isNaN(aN)||aN==0){return aU
}if((aN>0&&aO>aP)||(aN<0&&aO<aP)){aM=aO;aO=aP;aP=aM}aS=new v();aS.next=function(){if((aN>0&&aO>aP)||(aN<0&&aO<aP)){throw aw}aU[aU.length]=aQ?g(aO):aO;aO+=aN};ao.iterate(aS);
return aU},indexOf:function(aO,aV,aW){var aZ=-1,aR,aS,aM,aQ,aU=arguments,aX=aU.length,aY=aO&&ah(aO),aP=aO&&!aY&&x(aO);if(aY){try{if(q.isBuiltinArrayIndexOf){aR=o.apply(aO,aC(aU,1));
if(r(aR)){aZ=aR}else{throw aR}}else{throw aR}}catch(aN){aS=(aO&&aO.length)||0;aR=(+aW)||0;aR=(aR<0)?Math.ceil(aR):Math.floor(aR);if(aR<0){aR+=aS}for(;aR<aS;aR++){try{if(aR in aO){aM=aO[aR];
if(aM===aV){aZ=aR;break}}}catch(aT){continue}}}}else{if(aP){aQ=false;aH(aO,function(a0,a1){if(!aQ&&aX>=3&&aW!==a1){return}else{aQ=true}if(a0===aV){aZ=a1}})}else{if(aO!=null){try{aM=(aO.toString&&aO.toString())||String(aO);
aZ=aD.indexOf.apply(aM,aC(aU,1))}catch(aT){aZ=-1}}else{aZ=-1}}}return aZ},lastIndexOf:function(aP,aW,aX){var a0=-1,aS,aT,aY,aN,aR,aM,aV=arguments,aZ=aP&&ah(aP),aQ=aP&&!aZ&&x(aP);
if(aZ){try{if(q.isBuiltinArrayLastIndexOf){aS=aj.apply(aP,aC(aV,1));if(r(aS)){a0=aS}else{throw aS}}else{throw aS}}catch(aO){aT=(aP&&aP.length)||0;aS=(+aX);if(isNaN(aS)){aS=aT-1
}else{aS=(aS<0)?Math.ceil(aS):Math.floor(aS);if(aS<0){aS+=aT}else{if(aS>=aT){aS=aT-1}}}for(;aS>-1;aS--){try{if(aS in aP){aN=aP[aS];if(aN===aW){a0=aS;break}}}catch(aU){continue
}}}}else{if(aQ){aM=[];aR=false;aH(aP,function(a1,a2){aM[aM.length]=[a2,a1];if(a1===aW){a0=a2}if(a2===aX){aR=true;throw aw}});if(aR){a0=-1;aT=aM.length;while(--aT>=0){aY=aM[aT][0];
aN=aM[aT][1];if(aN===aW){a0=aY;break}}}}else{if(aP!=null){try{aN=(aP.toString&&aP.toString())||String(aP);a0=aD.lastIndexOf.apply(aN,aC(aV,1))}catch(aU){a0=-1}}else{a0=-1
}}}return a0}});ao.update({toIter:v.toIter});B(X,{createIterators:function(aM){aH(aM,function(aN){var aO={};aO[aN.NAME]=function(){var aQ={},aP=aC(arguments);aQ.iterateSpeed=(this&&this.iterateSpeed)||h.iterate;
return h.begin(function(){var aR=new h();aN.method.apply(aQ,aP).then(function(aS){aR.begin(aS)},function(aS){aR.raise(aS)});return aR})};B(h,aO);h.extendSpeeds(h,aN.NAME,function(aR){var aQ={},aP=aC(arguments,1);
aQ.iterateSpeed=h.iterate[aR.speedName];return h.begin(function(){var aS=new h();aN.method.apply(aQ,aP).then(function(aT){aS.begin(aT)},function(aT){aS.raise(aT)
});return aS})},aJ.speeds)})},createProtoIterators:function(aM){aH(aM,function(aN){var aP={},aO={};aP[aN.NAME]=function(){var aR=aC(arguments),aQ=B({},this.options);
return this.then(function(aS){var aT=new h();aR=aN.args(aS,aR);aN.method.apply(aN.context,aR).ensure(function(aU){V(aT,aQ);if(d(aU)){aT.raise(aU)}else{aT.begin(aU)
}});return aT})};B(h.fn,aP);if(aN.speed){if(aN.iterable){aO.methods=function(aQ){return{iter:aN.iterable[aQ],context:aN.context}}}else{aO.methods=function(aQ){return{iter:aN.method,context:{iterateSpeed:aN.context.iterateSpeed[aQ]}}
}}h.extendSpeeds(h.fn,aN.NAME,function(aS){var aR=aC(arguments,1),aT=aO.methods(aS.speedName),aQ=B({},this.options);return this.then(function(aU){var aV=new h();
aR=aN.args(aU,aR);aT.iter.apply(aT.context,aR).ensure(function(aW){V(aV,aQ);if(d(aW)){aV.raise(aW)}else{aV.begin(aW)}});return aV})},aJ.speeds)}})},createSyncIterator:function(aP){var aN,aM,aO=function(aR){var aQ=aR;
if(!aQ){aH(aJ.speeds,function(aT,aS){if(aT===aJ.defaults.speed){aQ=aS;throw aw}})}return aP(aQ)};aM=aO();aN={};aH(aJ.speeds,function(aR,aQ){aN[aQ]=aO(aQ)});return B(aM,aN)
}});X.createIterators([{NAME:"map",method:v.map},{NAME:"filter",method:v.filter},{NAME:"reduce",method:v.reduce},{NAME:"every",method:v.every},{NAME:"some",method:v.some}]);
X.createProtoIterators([{NAME:"forEach",method:h.forEach,context:null,speed:true,iterable:h.forEach,args:function(aM,aN){return[aM].concat(aN)}},{NAME:"repeat",method:h.repeat,context:null,speed:true,iterable:h.repeat,args:function(aM,aN){if(r(aM)){return[aM-0].concat(aN)
}if(aM&&F(aM.length)){return[aM.length].concat(aN)}if(aM&&x(aM)&&("end" in aM||"begin" in aM||"step" in aM||"stop" in aM||"start" in aM)){return[aM].concat(aN)}return aN
}},{NAME:"forEver",method:h.forEver,context:null,speed:true,iterable:h.forEver,args:function(aM,aN){return aN}},{NAME:"iterate",method:h.iterate,context:null,speed:true,iterable:h.iterate,args:function(aM,aN){return[aM].concat(aN)
}},{NAME:"items",method:h.items,context:null,speed:true,iterable:h.items,args:function(aM,aN){return[aM].concat(aN)}},{NAME:"zip",method:h.zip,context:null,speed:true,iterable:h.zip,args:function(aM,aN){return[aM].concat(aN)
}},{NAME:"map",method:v.map,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aM,aN){return[aM].concat(aN)}},{NAME:"filter",method:v.filter,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aM,aN){return[aM].concat(aN)
}},{NAME:"reduce",method:v.reduce,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aM,aN){return[aM].concat(aN)}},{NAME:"every",method:v.every,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aM,aN){return[aM].concat(aN)
}},{NAME:"some",method:v.some,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aM,aN){return[aM].concat(aN)}}]);aK=X.createSyncIterator;ao.update({map:aK(function(aM){return function(){var aN={iterateSpeedSync:ao.iterate[aM]};
return v.map.apply(aN,arguments)}}),filter:aK(function(aM){return function(){var aN={iterateSpeedSync:ao.iterate[aM]};return v.filter.apply(aN,arguments)}}),reduce:aK(function(aM){return function(){var aN={iterateSpeedSync:ao.iterate[aM]};
return v.reduce.apply(aN,arguments)}}),every:aK(function(aM){return function(){var aN={iterateSpeedSync:ao.iterate[aM]};return v.every.apply(aN,arguments)}}),some:aK(function(aM){return function(){var aN={iterateSpeedSync:ao.iterate[aM]};
return v.some.apply(aN,arguments)}}),range:function(){return v.range.apply(null,arguments)},indexOf:function(){return v.indexOf.apply(null,arguments)},lastIndexOf:function(){return v.lastIndexOf.apply(null,arguments)
}});B(C,{defineDeferrater:aK});(function(){var aM=function(aR){return new aM.prototype.init(aR)},aP=Q({NAME:".\u0000[~`{{*@:SPEED:@*}}`~]\u0001"}),aO={},aN=0,aQ=8192;
aM.prototype=B(aM.prototype,{constructor:aM,id:C.getMagicNumber(),func:null,code:null,tokens:[],uniqs:{},tails:[],iteration:{},init:function(aR){this.func=aR;this.code=this.toCode(this.func);
this.tokens=[];this.iteration={};this.tails=[];return this},execute:function(){var aS=this,aR="";if(this.code){if(this.code in aO){aR=aO[this.code]}else{this.uniqs={};
aH("key val ret rev err nxt".split(" "),function(aT){aS.uniqs[aT]=aS.generateUniqName({NAME:"$_"+aT+"_"})});this.tokens=this.tokenize(this.code);if(!this.hasIteration(this.tokens)){aR=this.func
}else{this.parseLoop();aR=this.deferrizeFunction();if(aR){if(aN<aQ){aO[this.code]=aR;aN++}}}}}return aR},hasIteration:function(aV){var aS=false,aU,aR,aT;if(aV){aR=aV.length;
for(aU=0;aU<aR;aU++){aT=aV[aU];if(aT==="for"||aT==="while"||aT==="do"){aS=true;break}}}return aS},toCode:function(aR){return ao.getFunctionCode(aR)},isWord:(function(){var aR={SPACE:/\s/,WORDS:/[$\w\u0100-\uFFFF]/};
return function(aS){return aS!=null&&!aR.SPACE.test(aS)&&aR.WORDS.test(aS)}}()),isNL:(function(){var aR=/\r\n|\r|\n/;return function(aS){return aS!=null&&aR.test(aS)
}}()),format:function(){var aR=aC(arguments);return aR[0].replace(/#(\d+)/g,function(aS,aT){return aR[+aT]})},joinTokens:function(aW){var aZ=[],aV=aW.length,aT,aY,aS,aX,aU,aR;
for(aU=0;aU<aV;aU++){aR=aW[aU];if(!aT){aZ[aZ.length]=aR}else{aS="";aX="";if(aR==="+"||aR==="-"||aR==="++"||aR==="--"||aR==="in"){aS=" ";aX=" "}else{if(this.isWord(aT.slice(-1))&&this.isWord(aR.charAt(0))){aS=" "
}}if(aY===" "){aS=""}aZ[aZ.length]=aS+aR+aX}aT=aR;aY=aX}return aZ.join("")},toEnd:function(aS){var aR;if(b(aS)){aR=this.joinTokens(aS)}else{aR=R(aS)}if(am(aR).slice(-1)===";"){return aR
}return aR?aR+";":aR},generateUniqName:function(aS){var aR;do{aR=Q(aS||ao,"")}while(~ao.indexOf(this.tokens,aR));return aR},tokenize:(function(){var aR={TOKEN:new RegExp("(^\\s*function\\b[^{]*[{]|[}][^}]*$|/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\[\\s\\S]|[^\"\\r\\n\\\\])*\"|'(?:\\\\[\\s\\S]|[^'\\r\\n\\\\])*'|/(?![*])(?:\\\\.|[^/\\r\\n\\\\])+/[gimy]{0,4}|<([^\\s>]*)[^>]*>[\\s\\S]*?</\\2>|>>>=?|<<=|===|!==|>>=|[+][+](?=[+])|[-][-](?=[-])|[=!<>*+/&|^-]=|[&][&]|[|][|]|[+][+]|[-][-]|<<|>>|0(?:[xX][0-9a-fA-F]+|[0-7]+)|\\d+(?:[.]\\d+)?(?:[eE][+-]?\\d+)?|[1-9]\\d*|[-+/%*=&|^~<>!?:,;@()\\\\[\\].{}]|(?![\\r\\n])\\s+|(?:\\r\\n|\\r|\\n)|[^\\s+/%*=&|^~<>!?:,;@()\\\\[\\].{}'\"-]+)","g"),NOTSPACE:/[\S\r\n]/,COMMENTS:/^\/{2,}[\s\S]*$|^\/[*][\s\S]*?[*]\/$/};
return function(aW){var aV=[],aS,aT,aU=this.toCode(aW);if(aU){aR.TOKEN.lastIndex=0;while((aS=aR.TOKEN.exec(aU))!=null){aT=aS[1];if(!aR.NOTSPACE.test(aT)||aR.COMMENTS.test(aT)){continue
}else{aV[aV.length]=aT}}}return aV}}()),parseLoop:function(){var a1,aZ=0,a0=[],aU=[],aY=0,aS=0,aR=0,aW,aV,aT,aX=this.tokens.length;for(aV=0;aV<aX;aV++){aT=this.tokens[aV];
switch(aT){case"for":case"while":case"do":if(!aW){aW={token:aT,org:{level:aR,nest:aS},cur:{level:aR,nest:aS}}}break;case"(":aS++;if(aW){aW.cur.nest++}break;case")":aS--;
if(aW){if(--aW.cur.nest===aW.org.nest&&aW.cur.level===aW.org.level&&aW.token==="do"){aW.last=true}}break;case"{":aR++;if(aW){aW.cur.level++}break;case"}":aR--;if(aW){if(--aW.cur.level===aW.org.level&&aW.cur.nest===aW.org.nest&&aW.token!=="do"){aW.last=true
}}break}if(aW){if(!(aY in a0)){a0[aY]=[];aU[aY]={start:aV}}a0[aY][a0[aY].length]=aT;if(aW.last){aU[aY].end=aV;aW=null;aY++}}}aX=a0.length;for(aV=0;aV<aX;aV++){if(a0[aV].length>aZ){aZ=aV
}}this.iteration={loops:a0[aZ],start:aU[aZ].start,end:aU[aZ].end};return a1},deferrizeLoop:function(){var aS=this.iteration.loops,aR=aS.shift();switch(aR){case"for":return this.parseFor(aS);
case"while":return this.parseWhile(aS);case"do":return this.parseDoWhile(aS)}},deferrizeFunction:function(){var a2,aW,aU,aS,aV,aY=this.tokens.length,a0="before",aZ,a1={level:0,block:0},aT={before:[],loop:[],after:[],result:[]},aX=function(a3){if(!a1[a3]){a1[a3]={block:a1.block,level:a1.level}
}},aR=function(a3){aH(a3?aC(a3):["func","cond"],function(a4){if(a1[a4]&&a1[a4].block===a1.block&&a1[a4].level===a1.level){a1[a4]=null}})};for(aV=1;aV<aY-1;aV++){if(aV>=this.iteration.start&&aV<=this.iteration.end){if(!aU){aU=true;
aV=this.iteration.end-1;aT.loop=aC(this.deferrizeLoop());a0="after";if(a1.cond){aZ=true}}continue}aS=this.tokens[aV];aW=this.tokens[aV+1];switch(aS){case"{":a1.block++;
break;case"}":a1.block--;aR();break;case"(":a1.level++;break;case")":a1.level--;if(a1.cond&&a1.cond.expr&&aW==="{"){a1.cond.expr=null;aR("func")}else{aR()}break;
case";":aR("result");break;case"function":aX("func");break;case"if":aX("cond");a1.cond.expr=true;break;case"return":if(!a1.func&&!a1.result){if(!aW||aW===";"||this.isNL(aW)){aS=this.format("#1 #2=void 0#3",aS,this.uniqs.ret,(aW===";"||this.isNL(aW))?"":";")
}else{aS=this.format("#1(#2!==#3)?#2:#2=",aS,this.uniqs.ret,this.uniqs.rev)}aT.result=[];aX("result")}break;default:if(a1.result&&this.isNL(aS)){aR("result")}break
}aT[a0][aT[a0].length]=aS;if(a1.result){aT.result[aT.result.length]=aS}}a2=this.format("#1var #2={},#3=#2,#4={};return Pot.Deferred.begin(function(){#5#6#9});#7#8}).then(function(r){return(#2===#3)?r:#2;});#10",this.tokens.shift(),this.uniqs.ret,this.uniqs.rev,this.uniqs.nxt,this.toEnd(this.joinTokens(aT.before)),this.joinTokens(aT.loop),this.joinTokens(this.tails),this.joinTokens(aZ?aT.after:[]),this.joinTokens(aZ?aT.result:aT.after),this.tokens.pop());
return a2},parseWhile:function(a1){var a5="",aR=0,aS=0,a0=false,aV,aY,a3,a2="cond",aX,aU,aW,aZ=a1.length,aT=false,a4={cond:[],body:[]};for(aW=0;aW<aZ;aW++){aU=a1[aW];
aY=a1[aW+1];a3=false;switch(aU){case"(":aS++;if(aX){aX.cur.nest++}if(aW===0&&aS===1){a3=true}break;case")":aS--;if(aX){if(--aX.cur.nest===aX.org.nest&&aX.cur.level===aX.org.level&&aX.token==="do"){aX=null
}}if(!a0&&aS===0&&aR===0&&aY==="{"){a3=true}break;case"{":aR++;if(aX){aX.cur.level++}if(aR===1&&aS===0&&aV===")"){a3=true;a0=true;a2="body"}break;case"}":aR--;if(aX){if(--aX.cur.level===aX.org.level&&aX.cur.nest===aX.org.nest&&aX.token!=="do"){aX=null
}}if(a0&&aS===0&&aR===0){a4.body.unshift(this.format("if(#1!==#2||!(#3)){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev,this.joinTokens(a4.cond)||"false"));
a4.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}",this.uniqs.err,this.uniqs.nxt));aU+=").then(function(){";
aT=true}break;case"for":case"while":case"do":aX={token:aU,org:{level:aR,nest:aS},cur:{level:aR,nest:aS}};break;case"break":if(!aX&&a0&&!this.isWord(aY)){aU="throw Pot.StopIteration"
}break;case"continue":if(!aX&&a0&&!this.isWord(aY)){aU="throw "+this.uniqs.nxt}break;case"return":if(a0){if(!aY||aY===";"||this.isNL(aY)){aU=this.format("#1 #2=void 0#3",aU,this.uniqs.ret,(aY===";"||this.isNL(aY))?"":";")
}else{aU=this.format("#1 #2=",aU,this.uniqs.ret)}}break}if(!a3){a4[a2][a4[a2].length]=aU}aV=aU}a5="";if(!aT){throw new Error("Parse error, expect 'while(...)'")}a5=this.format("return Pot.Deferred.forEver.#1(function(){#2",aP,this.joinTokens(a4.body));
return a5},parseDoWhile:function(a0){var a4="",aR=0,aS=0,aV,aY,a1,a2="body",aX,aU,aW,aZ=a0.length,aT=false,a3={cond:[],body:[],after:[]};for(aW=0;aW<aZ;aW++){aU=a0[aW];
aY=a0[aW+1];a1=false;switch(aU){case"(":aS++;if(aX){aX.cur.nest++}if(aR===0&&aS===1&&aV==="while"){a1=true;a2="cond"}break;case")":aS--;if(aX){if(--aX.cur.nest===aX.org.nest&&aX.cur.level===aX.org.level&&aX.token==="do"){aX=null
}}if(aS===0&&aR===0&&a2==="cond"){a1=true}break;case"{":aR++;if(aX){aX.cur.level++}if(aW===0&&aR===1){a1=true}break;case"}":aR--;if(aX){if(--aX.cur.level===aX.org.level&&aX.cur.nest===aX.org.nest&&aX.token!=="do"){aX=null
}}if(aS===0&&aR===0&&aY==="while"){aT=true;a1=true}break;case"while":if(aR===0&&aS===0){a1=true;break}case"for":case"do":aX={token:aU,org:{level:aR,nest:aS},cur:{level:aR,nest:aS}};
break;case"break":if(!aX&&!this.isWord(aY)){aU="throw Pot.StopIteration"}break;case"continue":if(!aX&&!this.isWord(aY)){aU="throw "+this.uniqs.nxt}break;case"return":if(!aY||aY===";"||this.isNL(aY)){aU=this.format("#1 #2=void 0#3",aU,this.uniqs.ret,(aY===";"||this.isNL(aY))?"":";")
}else{aU=this.format("#1 #2=",aU,this.uniqs.ret)}break}if(!a1){a3[a2][a3[a2].length]=aU}aV=aU}a4="";if(!aT){throw new Error("Parse error, expect 'do...while()'")
}a3.body.unshift(this.format("if(#1!==#2){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev));a3.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}finally{if(!(#3)){throw Pot.StopIteration;}}}).then(function(){",this.uniqs.err,this.uniqs.nxt,this.joinTokens(a3.cond)||"false"));
a4=this.format("return Pot.Deferred.forEver.#1(function(){#2",aP,this.joinTokens(a3.body));return a4},parseFor:function(a2){var a7="",aR=0,aS=0,aZ=null,a1=false,aV,aY,a4,a3="before",a6,aX,aW,a0,aU,aT=false,a5={prefix:[],suffix:[],before:[],cond:[],after:[],key:[],target:[],body:[]};
a0=a2.length;for(aW=0;aW<a0;aW++){aU=a2[aW];aY=a2[aW+1];a4=false;switch(aU){case"(":aS++;if(aX){aX.cur.nest++}if(aW===0&&aS===1){a4=true}break;case")":aS--;if(aX){if(--aX.cur.nest===aX.org.nest&&aX.cur.level===aX.org.level&&aX.token==="do"){aX=null
}}if(!a1&&aS===0&&aR===0&&aY==="{"){a4=true}break;case"{":aR++;if(aX){aX.cur.level++}if(aR===1&&aS===0&&aV===")"){a4=true;a1=true;a3="body"}break;case"}":aR--;if(aX){if(--aX.cur.level===aX.org.level&&aX.cur.nest===aX.org.nest&&aX.token!=="do"){aX=null
}}if(a1&&aS===0&&aR===0){a5.body.unshift(this.format("if(#1!==#2){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev));if(a5.suffix.length){a5.body.push(this.toEnd(this.joinTokens(a5.suffix)))
}a5.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}finally{#3}",this.uniqs.err,this.uniqs.nxt,this.toEnd(this.joinTokens(a5.after))));
aU+=").then(function(){";aT=true}break;case"each":if(aW===0){throw new Error("Not supported 'for each'")}break;case"in":case"of":if(!a1&&aZ===null&&aS===1&&aR===0){a4=true;
aZ=true;if(a5.before.length>2){throw new Error("Invalid keys, expect 'for(var [...] in ...);'")}if(a6){a5.before.push(";");av.apply(a5.prefix,a5.before);a5.before.shift();
a5.before.pop();if(a6==="let"){a5.prefix.unshift("{");this.tails.push("}")}}a5.before.push("="+this.uniqs.key);a5.before.push(";");a5.key=a5.before;av.apply(a5.body,a5.key);
a3="target"}break;case"var":case"let":if(!a6&&aW===1&&aS===1){a6=aU}break;case",":if(!a1&&aS===1&&aR===0&&!a6&&(a3==="before"||a3==="after")){aU=";"}break;case";":if(!a1&&aS===1&&aR===0){a4=true;
if(aZ===null){aZ=false}if(a3==="before"){a3="cond";a5.prefix.push(this.toEnd(this.joinTokens(a5.before)));if(a6==="let"){a5.prefix.unshift("{");this.tails.push("}")
}}else{if(a3==="cond"){a3="after";if(a5.cond.length){a5.cond.unshift("if(");a5.cond.push("){");a5.suffix.push("}else{throw Pot.StopIteration;}")}f.apply(a5.body,a5.cond)
}}}break;case"for":case"while":case"do":aX={token:aU,org:{level:aR,nest:aS},cur:{level:aR,nest:aS}};break;case"break":if(!aX&&a1&&!this.isWord(aY)){aU="throw Pot.StopIteration"
}break;case"continue":if(!aX&&a1&&!this.isWord(aY)){aU="throw "+this.uniqs.nxt}break;case"return":if(a1){if(!aY||aY===";"||this.isNL(aY)){aU=this.format("#1 #2=void 0#3",aU,this.uniqs.ret,(aY===";"||this.isNL(aY))?"":";")
}else{aU=this.format("#1 #2=",aU,this.uniqs.ret)}}break}if(!a4){a5[a3][a5[a3].length]=aU}aV=aU}a7="";if(!aT){throw new Error("Parse error, expect 'for(...)'")}if(aZ){a7=this.format("#1return Pot.Deferred.forEach.#2(#3,function(#4,#5){#6",this.toEnd(this.joinTokens(a5.prefix)),aP,this.joinTokens(a5.target),this.uniqs.val,this.uniqs.key,this.joinTokens(a5.body))
}else{a7=this.format("#1return Pot.Deferred.forEver.#2(function(){#3",this.toEnd(this.joinTokens(a5.prefix)),aP,this.joinTokens(a5.body))}return a7}});aM.prototype.init.prototype=aM.prototype;
B(C,{deferrate:function(aR){return(new aM(aR)).execute()}});B(h,{deferreed:function(aW,aR){var aZ,aU,aT,aV,aS,aY;try{switch(arguments.length){case 0:throw false;
case 1:aU=aW;if(!al(aU)){throw aU}aY=aU;break;case 2:default:if(x(aR)){aT=aR;aU=aW}else{aU=aR;aT=aW}if(!al(aT[aU])){throw aU}aY=aT[aU];break}if(!aY||!al(aY)||ao.isBuiltinMethod(aY)){throw aY
}aS=C.deferrate(aY);if(!aS){throw aS}if(aS===aY){aZ=h.deferrize(aY)}else{if(!ay(aS)){throw aS}aZ=C.defineDeferrater(function(a1){var a2=aS.replace(aP,a1),a0=ao.localEval(a2,aT);
return function(){return a0.apply(aT,arguments)}})}if(!aZ||!al(aZ)){throw aZ}}catch(aX){aV=aX;throw d(aV)?aV:new Error(aV)}return aZ}});ao.update({deferreed:h.deferreed})
}());delete X.createIterators;delete X.createProtoIterators;delete X.createSyncIterator}());(function(){var aZ,a1,aN=".",aV={URI:/^(?:[\w.*=+-]+:+|)[-.!~\w\/\\?@&=+$%#^]+$/i,FUNC:/^[\s();]*(?:new|)[\s();]*|[\s();]*$/g,FUNF:/^[\s();]*(?:new|)[\s();]{0,}/,FUNT:/[\s();]*$/,HEAD:/^(?:(?![(]?[)]{0}function)[\s\S])*([(]?[)]{0}function)\b/,DEFF:/^[\s;{}()]*(?:new|)[\s;{}()]*function\b/,DEFT:/[^{]*[}][\s;]*$/,PREF:/^([\s;{}()]*(?:new|)[\s;{}()]*function\b[^{]+?[{])(?=[^}]*[}])/,ARGS:/^function\s*[^()]*?[(]\s*(?:\S[^()]*?)\s*[)]/,LOAD:/complete|loaded/i,DATA:new RegExp("^data:((?:[\\w.*+-]+/[\\w.*+-]+|[*]|)(?=[;,])|)(;?charset=[\"']?[\\w.=*+-]+['\"]?(?=[;,])|)(;?base64(?=,)|),([\\s\\S]*)$","i"),MSG:new RegExp("(?:^|\\b)(?:\\[[\"']|)onmessage(?:['\"]\\]|)\\s*=|(?:^|\\b)addEventListener\\s*[(]\\s*[\"'](?:[Oo][Nn]|)[Mm][Ee][Ss][Ss][Aa][Gg][Ee]['\"][\\s\\S]*?[)]")};
aZ=function(bd){return new aZ.fn.init(bd)};aZ.fn=aZ.prototype=B(aZ.prototype,{constructor:aZ,child:null,queues:[],fired:false,callback:null,init:function(bd){this.child=new a1(this,bd);
return this},postMessage:function(be){var bd=this,bf=this.child;this.queues.push(be);h.till(function(){return bf.isReady()}).then(function(){var bg=aC(bd.queues.splice(0,bd.queues.length));
return h.forEach(bg,function(bh){return h.flush(function(){var bi;try{if(bf.nativeWorker){bf.nativeWorker.postMessage(bh)}else{bf.onmessage({data:bh})}}catch(bj){bi=bj;
if(!aB(bi)){throw bi}}finally{bd.fired=true}})})})},terminate:function(){var bd=this.child;if(bd){if(bd.nativeWorker){bd.nativeWorker.terminate()}if(bd.context&&bd.stopId&&bd.stopId in bd.context){bd.context[bd.stopId]=true;
if(bd.elem){h.till(function(){return bd.context[bd.isStoppedId]===true}).wait(1).then(function(){try{bd.elem.parentNode.removeChild(bd.elem)}catch(be){}bd.elem=null
}).ensure(function(){})}}}},addEventListener:function(bd,be){if(al(be)){switch(R(bd).toLowerCase()){case"message":this.onmessage=be;break;case"error":this.onerror=be
}}},removeEventListener:function(bd){switch(R(bd).toLowerCase()){case"message":this.onmessage=null;break;case"error":this.onerror=null}}});aZ.fn.init.prototype=aZ.fn;
a1=function(be,bd){return new a1.fn.init(be,bd)};a1.fn=a1.prototype=B(a1.prototype,{constructor:a1,server:null,queues:[],loaded:false,context:{},elem:null,nativeWorker:null,stopId:null,isStoppedId:null,usePot:false,init:function(bf,be){var bd=this;
this.server=bf;this.context=B({},{postMessage:bc(this.postMessage,this),importScripts:bc(this.importScripts,this),addEventListener:bc(this.addEventListener,this),removeEventListener:bc(this.removeEventListener,this),onmessage:null,onerror:null});
aH({stopId:["stop",false],isStoppedId:["stopped",false]},function(bh,bg){bd[bg]=Q(ao,bh[0]);bd.context[bd[bg]]=bh[1]});h.flush(function(){bd.runScript(be)});return this
},compriseScript:function(be,bh){var bd="",bi,bg,bf;if((q.hasWorker&&(q.canWorkerDataURI||q.canWorkerBlobURI))||(q.hasChromeWorker&&(q.canChromeWorkerDataURI||q.canChromeWorkerBlobURI))){bf=true
}if(be){if(bh){bg=ao.getFunctionCode(be).replace(aV.FUNC,"")}else{bg=R(be,true)}bi=ao.tokenize(bg);bg=ao.joinTokens(bi);this.usePot=this.isPotUsing(bi);if(this.usePot&&q.isMozillaBlobBuilder){bf=false
}if(aV.MSG.test(bg)){if(bf){bd=this.insertProvision(bi,bh)}else{if(aV.DEFF.test(bg)){bg=ao.format("(#1).call(this);",bg.replace(aV.HEAD,"$1").replace(aV.FUNC,""));
bd=this.insertStepStatements(ao.tokenize(bg))}else{bd=this.insertStepStatements(bi)}}}else{if(aV.DEFF.test(bg)){bg=ao.format('(#1).call(this,(!event||typeof event.data==="undefined")?void 0:event.data,event);',bg.replace(aV.HEAD,"$1").replace(aV.FUNC,""))
}if(bf){bd=this.providePot(bg)}else{bg=this.insertStepStatements(ao.tokenize(bg));bd="onmessage=(function(){var self=this;return function(){var event=arguments[0];return(function(){"+bg+'}).call(self);};}).call((typeof self!=="undefined"&&self&&self.postMessage)?self:this);'
}}}return bd},isPotUsing:function(bk){var bl=false,bg,bf,be,bi,bd,bh,bj;if(bk){bi=bk.length;for(bg=0;bg<bi;bg++){bd=bk[bg];bh="";for(bf=bg+1;bf<bi;bf++){bh=bk[bf];
if(ao.isNL(bh)){continue}else{break}}bj="";for(be=bf+1;be<bi;be++){bj=bk[be];if(ao.isNL(bj)){continue}else{break}}switch(bd){case"Pot":if(bh==="."||(bh==="["&&bj!=="]")){bl=true
}}if(bl){break}}}return bl},insertStepStatements:function(bo){var bi=[],bf,bj,bh,bg,bm,be,bk,bn,bp,bd=Q(ao,"$this$scope"),bl={pre:ao.format("var #1=this;Pot.Deferred.forEver(function(){(function(){",bd),suf:ao.format("}).call(#1);throw Pot.StopIteration;}).then(function(){#2=true;});",bd,this.isStoppedId),step:ao.format("if(#1){throw Pot.StopIteration;}",this.stopId)};
bm=bo.length;for(bj=0;bj<bm;bj++){bp=false;bf=bo[bj];bk="";for(bh=bj+1;bh<bm;bh++){bk=bo[bh];if(ao.isNL(bk)){continue}else{break}}bn="";for(bg=bh+1;bg<bm;bg++){bn=bo[bg];
if(ao.isNL(bn)){continue}else{break}}switch(bf){case"{":if(be===")"&&bk!=="}"&&bk!=="case"&&bk!=="default"&&bn!==":"){bp=true}}if(!ao.isNL(bf)){be=bf}bi[bi.length]=bf;
if(bp){bi[bi.length]=bl.step}}bi.unshift(bl.pre+bl.step);bi.push(bl.suf);return ao.joinTokens(bi)},providePot:function(bg){var bd,bf=Q({NAME:"scope"},"$"),be=this.getPotScript();
bd=ao.format('var #1=this;onmessage=(function(){var self=this;return function(){var event=arguments[0];if(typeof Pot==="undefined"){(#2)(#1||{});}return(function(){#3}).call(self);};}).call((typeof self!=="undefined"&&self&&self.postMessage)?self:this);',bf,be,bg);
return bd},insertProvision:function(bj,bg){var bd,bf,bi,bh={},be=this.getPotScript();aH(["scope","script","func"],function(bk){bh[bk]=Q({NAME:bk},"$")});bi=this.parseScript(bj);
bf=ao.format('(function(){var self=this;return function(){return(function(){if(typeof Pot==="undefined"){(#1)(#2||{});}var #3=#4;return #3.apply(this,arguments);}).apply(self,arguments);};}).call((typeof self!=="undefined"&&self&&self.postMessage)?self:this)\n',be,bh.scope,bh.func,bi.func);
if(bg||(aV.DEFF.test(bi.pre)&&aV.DEFT.test(bi.suf))){bd=ao.format("var #1=this;(#2#3#4).call(this);",bh.scope,bi.pre.replace(aV.FUNF,""),bf,bi.suf.replace(aV.FUNT,""))
}else{bd=ao.format("var #1=this;#2#3#4",bh.scope,bi.pre,bf,bi.suf)}return bd},getPotScript:function(){var bd=ao.getFunctionCode(C.ScriptImplementation).replace(aV.FUNC,"");
return bd},parseScript:function(bl){var bp=[],bf=[],bn=[],bs,br,bu=bl&&bl.length,bj,bm,bh,bk,bt,bq,be,bg,bi,bd,bx,by,bv,bo,bw;for(bs=0;bs<bu;bs++){bj=bl[bs];if(bo){bf[bf.length]=bj;
continue}bm="";for(br=bs+1;br<bu;br++){bm=bl[br];if(ao.isNL(bm)){continue}else{break}}switch(bj){case"onmessage":be=false;if(bm==="="&&!bg&&!bw){bi=true}break;case"function":be=false;
if(bt){bg=true}break;case"addEventListener":be=true;break;case"=":if(bi&&!bg&&!bw){bh=true;bi=false}break;case"{":if(bt&&bg&&!bw){bx=bd=1;bt=false}else{if(bg&&!bw){bd++
}}break;case"}":if(bg&&!bw){if(bd--===bx){bw=true;if(bm==="("||bm===")"||bm==="."){break}bg=false;bk=true}}break;case"(":if(bw&&bg&&bv==null){bv=by=1}else{if(bg){by++
}}break;case")":if(bw&&bg){if(bv==null){if(bm==="("||bm===")"||bm==="."){break}bg=false;bk=true}else{by--;if(bm==="("||bm===")"||bm==="."){break}if(by===bv-1){bg=false;
bk=true}}}break;case",":if(be&&bi&&!bg&&!bw){bh=true;bi=false}break;default:if(be&&bm===","&&((bj.charAt(0)==='"'&&bj.slice(-1)==='"')||(bj.charAt(0)==="'"&&bj.slice(-1)==="'"))){bq=bj.slice(1,-1).toLowerCase();
if(bq==="message"){bi=true;break}}if(be&&ao.isWords(bj)){be=false}}if(bt||bg||bk){bn[bn.length]=bj;if(bk){bk=false;bo=true}}else{bp[bp.length]=bj;if(bh){bt=true;
bh=false}}}return{pre:ao.joinTokens(bp),suf:ao.joinTokens(bf),func:ao.joinTokens(bn)}},loadScript:function(bk,bf){var bi=this,bd,bh,bg,be,bj;if(aP()){bg=q.hasChromeWorker;
be=bg&&q.canChromeWorkerDataURI;bj=bg&&q.canChromeWorkerBlobURI}else{bg=q.hasWorker;be=bg&&q.canWorkerDataURI;bj=bg&&q.canWorkerBlobURI}if(bk){if(al(bk)){bh=this.compriseScript(bk,true);
if(q.isMozillaBlobBuilder&&this.usePot){bd=[bh,false]}else{if(bj){bd=[aK(bh),true]}else{if(be){bd=[a0(bh),true]}else{bd=[bh,false]}}}}else{bh=R(bk,true);if(aQ(bh)){if(a7(bh)){bh=this.compriseScript(ba(bh));
if(q.isMozillaBlobBuilder&&this.usePot){bd=[bh,false]}else{if(bj){bd=[aK(bh),true]}else{if(be){bd=[a0(bh),true]}else{bd=[bh,false]}}}}else{if(aO(bh)){bh=this.compriseScript(aW(bh));
if(q.isMozillaBlobBuilder&&this.usePot){bd=[bh,false]}else{if(be){bd=[a0(bh),true]}else{if(bj){bd=[aK(bh),true]}else{bd=[bh,false]}}}}else{if(bf){bd=this.compriseScript(bh)
}else{bd=a6(bh,true).then(function(bl){return bi.loadScript(bl,true)})}}}}else{bh=this.compriseScript(bh);if(q.isMozillaBlobBuilder&&this.usePot){bd=[bh,false]}else{if(bj){bd=[aK(bh),true]
}else{if(be){bd=[a0(bh),true]}else{bd=[bh,false]}}}}}}return h.maybeDeferred(bd)},runScript:function(be){var bd=this;return this.loadScript(be).then(function(bh,bf){var bg;
if(bh){if(bf){bd.nativeWorker=a8(bh);bd.loaded=true}else{if(q.isWebBrowser&&q.isNotExtension){bg=a4(bh,bd.context,bd)}if(bg){bd.elem=bg;h.till(function(){return aY(bg)
}).then(function(){bd.loaded=true})}else{aT(bh,bd.context);bd.loaded=true}}}})},isReady:function(){this.referEvents();return this.loaded&&((this.nativeWorker&&this.nativeWorker.onmessage)||(al(this.server.onmessage)&&al(this.onmessage)))
},referEvents:function(){if(this.nativeWorker){if(this.server.onmessage){this.nativeWorker.onmessage=this.server.onmessage}if(this.server.onerror){this.nativeWorker.onerror=this.server.onerror
}}else{if(this.context){if(this.context.onmessage){this.onmessage=this.context.onmessage}if(this.context.onerror){this.onerror=this.context.onerror}}}},postMessage:function(be){var bd=this;
this.queues.push(be);return h.till(function(){return bd.isReady()&&bd.server.fired}).then(function(){var bf=aC(bd.queues.splice(0,bd.queues.length));return h.forEach(bf,function(bg){return h.flush(function(){var bh;
try{bd.server.onmessage({data:bg})}catch(bi){bh=bi;if(!aB(bh)){throw bh}}})})})},importScripts:function(){var bg=this,bf,be=arguments,bd=be.length,bh;for(bf=0;bf<bd;
bf++){bh=R(be[bf]);if(bh){a6(bh,true).then(function(bi){if(bg.elem){a2(bi,bg.elem,bg.context)}else{ao.globalEval(bi)}})}}},addEventListener:function(bd,be){if(al(be)){switch(R(bd).toLowerCase()){case"message":this.onmessage=be;
break;case"error":this.onerror=be}}},removeEventListener:function(bd){switch(R(bd).toLowerCase()){case"message":this.onmessage=null;break;case"error":this.onerror=null
}}});a1.fn.init.prototype=a1.fn;ao.update({Workeroid:function(bd){return e(this)?this.init(bd):new ak.fn.init(bd)}});ak=ao.Workeroid;ak.fn=ak.prototype=B(ak.prototype,{constructor:ak,id:C.getMagicNumber(),serial:null,NAME:"Workeroid",toString:H,isWorkeroid:e,workers:{},workerLength:0,singleKey:null,init:function(bd){var be=this;
if(!this.serial){this.serial=Q(this)}a3.call(this);if(bd){if(x(bd)){this.singleKey=null;aH(bd,function(bg,bf){aR.call(be,bf,bg)})}else{this.singleKey=Q(this);aR.call(this,this.singleKey,bd)
}}return this},postMessage:function(){var bg=this,be=arguments,bh={},bf,bd=be.length;switch(bd){case 0:if(this.singleKey){bh[this.singleKey]=void 0}break;case 1:if(x(be[0])){bh=be[0]
}else{bh[this.singleKey]=be[0]}break;case 2:bh[be[0]]=be[1];break;default:bf=0;do{bh[be[bf++]]=be[bf++]}while(bf<bd)}aM.call(this);aH(bh,function(bl,bi){var bk=bl,bj=aL.call(bg,bi);
if(bk==null){bk=null}if(bj&&bj.postMessage){bj.postMessage(bk)}});return this},terminate:function(){var bf=this,be=arguments,bd=be.length,bg;switch(bd){case 0:a3.call(this);
break;case 1:bg=aC(be[0]);break;default:bg=aC(be)}if(bg){aH(bg,function(bh){aJ.call(bf,bh)})}return this},addEventListener:function(bd,be){if(al(be)){switch(R(bd).toLowerCase()){case"message":this.onmessage=be;
break;case"error":this.onerror=be}}return this},removeEventListener:function(bd){switch(R(bd).toLowerCase()){case"message":this.onmessage=null;break;case"error":this.onerror=null
}return this}});function aM(){var bd=this;aH(this.workers,function(be){if(be){if(al(bd.onmessage)){be.onmessage=function(bf){bd.onmessage.call(bd,bf&&bf.data,bf);
be.callback&&be.callback(bf&&bf.data)}}if(bd.onerror){be.onerror=bd.onerror}}})}function a5(bd){return aN+bd}function aS(bd){return new aZ(bd)}function a9(bd){return(a5(bd) in this.workers)
}function aR(be,bd){var bf=a5(be);if(a9.call(this)){aJ.call(this,be)}this.workers[bf]=aS(bd);this.workerLength++}function aL(bd){return this.workers[a5(bd)]}function aJ(bd){var be=a5(bd),bf=this.workers[be];
if(bf){if(bf.terminate){bf.terminate()}this.workers[be]=bf=null;delete this.workers[be];this.workerLength--}}function a3(){var bd=this;if(this.workers){aH(this.workers,function(bf,be){if(be&&be.charAt&&be.charAt(0)===aN){aJ.call(bd,be.substring(1))
}})}this.workers={};this.workerLength=0}function bc(bf,bd){var be=bd||null;return function(){return bf.apply(be,arguments)}}function aU(be){var bd={};if(typeof location!=="undefined"&&!!location){aH(["href","protocol","host","hostname","port","pathname","search","hash"],function(bf){try{bd[bf]=R(location[bf])
}catch(bg){}})}aH(["window","document","navigator"],function(bf){be[bf]=void 0});be.location=bd;be.self=be;be.Pot=ao}function aT(be,bd){aU(bd);return(new Function("with(this){"+be+"}")).call(bd)
}function a4(bg,bh,bi){var bp=false,bk,bn,bj,bf,bo,be,bd,bm;bk=ao.currentWindow();bn=ao.currentDocument();if(bk&&bn&&bk.document===bn&&bn.body){bd=!!(c.msie&&q.hasActiveXObject);
if(bd){bm=parseInt(c.msie.version,10)}do{bf=Q({NAME:"potiframeworker"},"")}while((bf in bk)||bn.getElementById(bf));if(bd&&bm<=7){bj=bn.createElement('<iframe name="'+bf+'">')
}else{bj=bn.createElement("iframe")}bi.elem=bj;bj.name=bj.id=bf;bj.frameBorder=0;if(bd&&bm<7){bj.src="javascript:[]+[]"}be=bj.style;be.zIndex=-1;be.visibility=be.overflow="hidden";
be.border=be.outline=be.margin=be.padding="0";be.minWidth=be.minHeight="0px";be.width=be.height=be.maxWidth=be.maxHeight="10px";if(c.webkit){be.marginTop=be.marginLeft="-10px"
}else{be.position="absolute";be.top=be.left="-20px"}bn.body.appendChild(bj);bo=bj.contentWindow||(bk.frames&&bk.frames[bf]);bn=aX(bj);if(!bn||!bo||!bn.write){try{bj.parentNode.removeChild(bj)
}catch(bl){}bi.elem=null}else{bn.open();aH(bh,function(br,bq){bo[bq]=br});aU(bh);do{bf=Q(ao,"$")}while(bf in bo);bo[bf]=bh;bn.write("<!doctype html><html><head>"+aI(ao.format("(function(){with(#1){#2}}).call(#1);",bf,bg))+"</head><body><br></body></html>");
bn.close();bp=bj}}return bp}function a2(bf,bl,bg){var bj,bm,bp,bn,bo,bk,bi,be,bd,bh="val";bj=ao.currentWindow();bm=bl.contentWindow||(bj&&bj.frames&&bj.frames[bl.id]);
if(bm){bp=aX(bl);do{bd=Q(ao,"$")}while(bd in bm);bm[bd]=bg;be="with("+bd+"){"+bf+"}";if(bp){bn=bp.getElementsByTagName("head");if(bn&&bn[0]){bn=bn[0]}else{bn=bp.head||bp.body||bp.documentElement
}if(bn){bo=bp.createElement("script");bo.type="text/javascript";bo.defer=bo.async=false;if(q.hasActiveXObject&&"text" in bo){bo.text=be}else{bo.appendChild(bp.createTextNode(be))
}bn.appendChild(bo);bn.removeChild(bo);bk=true}}if(!bk){bi=["e"]+bh;if(bm[bi]){if(bm[bi].call&&bm[bi].apply){bm[bi].call(bm,be)}else{bm[bi](be)}bk=true}}}return bk
}function aY(bg){var bd=false,bf;try{if(bg){if(q.hasActiveXObject&&aV.LOAD.test(bg.readyState)){bd=true}else{bf=aX(bg);if(bf){bd=!!(bf.body&&bf.body.firstChild)}}}}catch(be){}return bd
}function aX(bf){var be=E,bd=ax;if(bf==null){return null}if(be(bf.contentWindow)&&bd(bf.contentWindow.document)){return bf.contentWindow.document}if(bd(bf.contentDocument)){return bf.contentDocument
}if(bd(bf.document)){return bf.document}return null}function aO(bd){return R(bd).slice(0,5).toLowerCase()==="data:"}function a7(bd){return R(bd).slice(0,11).toLowerCase()==="javascript:"
}function aQ(bd){return aV.URI.test(R(bd))}function ba(bd){var be="";if(a7(bd)){be=R(bd).substring(11)}return be}function a0(bd){return"data:application/javascript,"+ao.URI.urlEncode(bd)
}function aW(be){var bf="",bd;if(aO(be)){aV.DATA.lastIndex=0;bd=aV.DATA.match(be);if(bd&&bd[4]){bf=bd[4];if(bd[3]){bf=bb(bf)}else{bf=ao.URI.urlDecode(bf)}}}return bf
}function aK(be){var bd=new q.BlobBuilder();bd.append(be);return q.BlobURI.createObjectURL(bd.getBlob())}function bb(bd){if(ao.Base64){return ao.Base64.decode(bd)
}if(!bb.decode){bb.decode=(function(){var bf=UPPER_ALPHAS+LOWER_ALPHAS+DIGITS+"+/=",be=function(bh){if(ao.UTF8){return ao.UTF8.decode(bh)}try{return ao.URI.urlDecode(escape(bh))
}catch(bi){try{return decodeURIComponent(escape(bh))}catch(bg){return bh}}};return function(bh){var bn="",bg=-8,bm=0,bl,bk,bi=0,bo=R(bh),bj=bo.length;for(;bi<bj;
bi++){bl=bf.indexOf(bo.charAt(bi));if(bl>=0){bm=(bm<<6)|(bl&63);if((bg+=6)>=0){bk=bm>>bg&255;if(bl!==64){bn+=g(bk)}bm&=63;bg-=8}}}return be(bn)}}())}return bb.decode(bd)
}function a8(bd){return aP()?new ChromeWorker(bd):new Worker(bd)}function aP(){var be=0,bd=0;if(q.hasChromeWorker){be++;if(q.canChromeWorkerDataURI){be++}if(q.canChromeWorkerBlobURI){be++
}}if(q.hasWorker){bd++;if(q.canWorkerDataURI){bd++}if(q.canWorkerBlobURI){bd++}}return be>=bd}function aI(bd){return["<script>"+bd+"</"]+["script>"]}function a6(bd,bf){var be="application/javascript";
return ao.Net.request(bd,{sync:bf,mimeType:be,headers:{"Content-Type":be}}).then(function(bg){return R(bg&&bg.responseText)})}}());ao.update({Serializer:{}});(function(){var aI,aJ;
if(typeof JSON==="object"&&ao.isBuiltinMethod(JSON.stringify)&&ao.isBuiltinMethod(JSON.parse)){B(ao.Serializer,{serializeToJSON:function(){return JSON.stringify.apply(null,arguments)
},parseFromJSON:function(){return JSON.parse.apply(null,arguments)}});return}aI="null";aJ=B(function(){},{charsCache:{'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000B"},replaceTo:/\uFFFF/.test("\uFFFF")?/[\\\"\x00-\x1F\x7F-\uFFFF]/g:/[\\\"\x00-\x1F\x7F-\xFF]/g});
aJ.prototype=B(aJ.prototype,{serialize:function(aK){var aL=[];this.serializeAll(aK,aL);return aL.join("")},serializeAll:function(aK,aL){if(aK==null){aL[aL.length]=aI
}else{switch(ab(aK)){case"string":this.serializeString(aK,aL);break;case"number":this.serializeNumber(aK,aL);break;case"boolean":aL[aL.length]=(aK==true)?"true":"false";
break;case"array":this.serializeArray(aK,aL);break;case"object":case"error":this.serializeObject(aK,aL);break;case"date":this.serializeDate(aK,aL);break;case"regexp":this.serializeString(aK.toString(),aL);
break;case"function":break;default:aL[aL.length]=aI}}},padZero:function(aK){return(aK<10)?"0"+aK:aK},serializeDate:function(aM,aK){var aL=this.padZero;result=isFinite(aM.valueOf())?'"'+aM.getUTCFullYear()+"-"+aL(aM.getUTCMonth()+1)+"-"+aL(aM.getUTCDate())+"T"+aL(aM.getUTCHours())+":"+aL(aM.getUTCMinutes())+":"+aL(aM.getUTCSeconds())+'Z"':aI;
aK[aK.length]=result},serializeString:function(aM,aK){var aL=aM.replace(aJ.replaceTo,function(aP){var aO,aN;if(aP in aJ.charsCache){return aJ.charsCache[aP]}aO=aP.charCodeAt(0);
aN="\\u";if(aO<16){aN+="000"}else{if(aO<256){aN+="00"}else{if(aO<4096){aN+="0"}}}aN=aN+aO.toString(16);aJ.charsCache[aP]=aN;return aN});aK[aK.length]='"'+aL+'"'},serializeNumber:function(aL,aK){aK[aK.length]=(isFinite(aL)&&!isNaN(aL))?aL:aI
},serializeArray:function(aL,aP){var aK,aM="",aO,aN,aR;aK=aL&&aL.length;aP[aP.length]="[";for(aO=0;aO<aK;aO++){aN=true;try{aR=aL[aO]}catch(aQ){aN=false}if(aN){aP[aP.length]=aM;
this.serializeAll(aR,aP);aM=","}}aP[aP.length]="]"},serializeObject:function(aQ,aN){var aK="",aM,aL,aO;aN[aN.length]="{";for(aM in aQ){aL=true;if(W.call(aQ,aM)){try{aO=aQ[aM];
if(al(aO)){throw aO}}catch(aP){aL=false}if(aL){aN[aN.length]=aK;this.serializeString(aM,aN);aN[aN.length]=":";this.serializeAll(aO,aN);aK=","}}}aN[aN.length]="}"
}});B(ao.Serializer,{serializeToJSON:function(aK){return(new aJ()).serialize(aK)},parseFromJSON:B(function(aM){var aK=ao.Serializer.parseFromJSON,aL;aL=String(aM).replace(aK.PATTERNS.CLEAN,"");
if(aK.isValid(aK,aL)){return ao.localEval("("+aL+")")}else{throw new Error("Invalid JSON string: "+aL)}},{PATTERNS:{META:/\\["\\\/bfnrtu]/g,STRING:/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1F\x80-\x9F]*"/g,EXPRS:/true|false|null|[+-]?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,BRACKETS:/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,REMAINDER:/^[\],:{}\s\u2028\u2029]*$/,SPACE:/^\s*$/,CLEAN:/^(?:[{[(']{0}[')\]}]+|)[;\s\u00A0]*|[;\s\u00A0]*$/g},isValid:function(aN,aM){var aK="@",aO="[]".charAt(1),aL=aN.PATTERNS;
if(aL.SPACE.test(aM)){return false}return aL.REMAINDER.test(aM.replace(aL.META,aK).replace(aL.STRING,aO).replace(aL.EXPRS,aO).replace(aL.BRACKETS,""))}})})}());B(ao.Serializer,{serializeToQueryString:function(aL){var aJ=[],aK,aI;
if(!aL||aL==false){return""}if(typeof Buffer!=="undefined"&&aL.constructor===Buffer){return aL}if(ay(aL)){return R(aL)}aI=x(aL);if(aI||ah(aL)){aK=ao.URI.urlEncode;
aH(aL,function(aS,aN){var aT,aR,aM,aU,aO=0,aQ=true;if(aI){aT=[aN,aS]}else{aT=aS}try{aR=R(aT[0],false);aM=aT[1]}catch(aP){aQ=false}if(aQ&&(aR||aM)){if(!aI){aH(aL,function(aV){if(aV){try{if(R(aV[0],false)===aR){aO++
}}catch(aW){}}})}if(aO>1||b(aM)){aU="=";aR=R(aR,true)+"[]"}else{aU=aR?"=":""}aH(aC(aM),function(aV){aJ[aJ.length]=aK(aR)+aU+aK(R(aV,true))})}})}return aJ.join("&")
},parseFromQueryString:function(aN,aM){var aI=[],aL,aK,aJ;if(x(aN)||b(aN)){return aN}if(aM){aI={}}aK=R(aN,true);if(aK){aL=ao.URI.urlDecode;aJ=/&(?:(?:amp|#(?:0*38|[xX]0*26));|)/;
while(aK.charAt(0)==="?"){aK=aK.substring(1)}aH(aK.split(aJ),function(aQ){var aP,aS,aR,aO;aR=aQ.split("=");switch(aR.length){case 0:break;case 1:aS=aR[0];break;default:aP=aR[0];
aS=aR[1];break}if(aP||aS){aP=R(aL(aP));aS=R(aL(aS));if(aP.slice(-2)==="[]"){aO=aP.slice(0,-2);if(aM){if(W.call(aI,aO)){aI[aO]=aA.call([],aC(aI[aO]),aC(aS))}else{aI[aO]=[aS]
}}else{aI[aI.length]=[aO,aS]}}else{if(aM){aI[aP]=aS}else{aI[aI.length]=[aP,aS]}}}})}return aI}});ao.update({serializeToJSON:ao.Serializer.serializeToJSON,parseFromJSON:ao.Serializer.parseFromJSON,serializeToQueryString:ao.Serializer.serializeToQueryString,parseFromQueryString:ao.Serializer.parseFromQueryString});
ao.update({URI:{}});B(ao.URI,{urlEncode:B(function(aJ){var aI="",aL=ao.URI.urlEncode,aK;aK=R(aJ,true);if(aK){if(ao.isPercentEncoded(aK)){aI=aK}else{try{aI=aL.encoder.component(aK)
}catch(aM){aI=aL.encoder.encode(aK)}}}return R(aI,true)},{encoder:{component:function(aI){return encodeURIComponent(aI)},encode:function(aK){var aI="",aM,aL,aN,aJ;
aM=R(aK,true);if(aM){aL=/[^!'-*.0-9A-Z_a-z~-]/g;aJ="%";aN=function(aO){var aP,aQ=aO.charCodeAt(0);if(aQ<16){aP=aJ+"0"+aQ.toString(16)}else{if(aQ<128){aP=aJ+aQ.toString(16)
}else{if(aQ<2048){aP=aJ+(aQ>>6|192).toString(16)+aJ+(aQ&63|128).toString(16)}else{aP=aJ+(aQ>>12|224).toString(16)+aJ+(aQ>>6&63|128).toString(16)+aJ+(aQ&63|128).toString(16)
}}}return aP.toUpperCase()};aI=aM.replace(aL,aN)}return aI}}}),urlDecode:B(function(aJ){var aI="",aL=ao.URI.urlDecode,aK;aK=R(aJ,true);if(aK){aK=aK.replace(aL.decoder.reSpace.from,aL.decoder.reSpace.to);
try{aI=aL.decoder.component(aK)}catch(aM){aI=aL.decoder.decode(aK)}}return R(aI,true)},{decoder:{reSpace:{from:/[+]/g,to:" "},component:function(aI){return decodeURIComponent(aI)
},decode:function(aJ){var aI="",aL,aK,aM;aL=R(aJ,true);if(aL){aK=new RegExp("%(?:E(?:0%[AB]|[1-CEF]%[89AB]|D%[89])[0-9A-F]|C[2-9A-F]|D[0-9A-F])%[89AB][0-9A-F]|%[0-7][0-9A-F]","gi");
aM=function(aN){var aO,aP=parseInt(aN.substring(1),16);if(aP<128){aO=aP}else{if(aP<224){aO=((aP&31)<<6|parseInt(aN.substring(4),16)&63)}else{aO=(((aP&15)<<6|parseInt(aN.substring(4),16)&63)<<6|parseInt(aN.substring(7),16)&63)
}}return g(aO)};aI=aL.replace(aK,aM)}return aI}}})});ao.update({urlEncode:ao.URI.urlEncode,urlDecode:ao.URI.urlDecode});ao.update({Crypt:{}});B(ao.Crypt,{hashCode:function(aO){var aL=0,aN,aM,aK,aJ=4294967296,aI=false;
if(aO==null){aN=String(aO)}else{if(ah(aO)){aN=aC(aO);aI=true}else{aN=aO.toString?aO.toString():String(aO)}}aK=aN.length;for(aM=0;aM<aK;++aM){aL=31*aL+(aI?aN[aM]:aN.charCodeAt(aM));
aL%=aJ}return aL}});ao.update({hashCode:ao.Crypt.hashCode});(function(){ao.update({Net:{}});B(ao.Net,{request:function(aN,aM){if(q.isGreasemonkey){return ao.Net.requestByGreasemonkey(aN,aM)
}else{if(q.isNodeJS){return ao.Net.requestByNodeJS(aN,aM)}else{return ao.Net.XHR.request(aN,aM)}}},XHR:{ReadyState:{UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4},factory:function(){var aM;
try{aM=new XMLHttpRequest()}catch(aN){}if(!aM&&q.hasActiveXObject){aH(["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],function(aP){try{aM=new ActiveXObject(aP)
}catch(aO){}if(aM){throw aw}})}return aM},request:(function(){var aO=function(aQ,aP){return new aO.prototype.doit(aQ,aP)},aM={URI:/^([^:]+)(?::+\/{0,}((?:[^@]+@|)[^\/\\?&#:;]*)(?::(\d+)|)|)/},aN=aM.URI.exec(ao.currentURI().toLowerCase())||[];
aO.prototype=B(aO.prototype,{xhr:null,url:null,options:{},deferred:null,doit:function(aQ,aP){var aS=this;this.url=R(aQ,true);this.deferred=new h({canceller:function(){try{aS.cancel(true)
}catch(aU){}}});if(this.url){try{this.setOptions(aP);if(this.factory()){this.open();this.setHeaders();this.setReadyStateChange();this.send()}}catch(aT){try{this.cancel(true)
}catch(aR){}this.deferred.raise(aT)}}return this},factory:function(){this.xhr=ao.Net.XHR.factory();if(!this.xhr){this.deferred.raise("Failed to create XMLHttpRequest");
return false}else{return true}},setOptions:function(aP){var aQ,aS,aR={method:"GET",sendContent:null,queryString:null,callback:null,username:null,password:null,mimeType:null,responseType:null,binary:false,cache:true,sync:false,cookie:false,crossDomain:null,headers:{Accept:["*/"]+["*"],"X-Requested-With":"XMLHttpRequest"}};
if(x(aP)){aQ=B({},aP)}else{aQ={}}this.options=B({},aR,aQ||{});this.method=am(this.options.method).toUpperCase();if(!this.method){this.method=aR.method}this.url=aI(this.url,this.options.queryString);
this.options.sendContent=R(ao.Serializer.serializeToQueryString(this.options.sendContent),true);if((this.options.method==="GET"||this.options.method===aR.method)&&(this.options.sendContent)){this.options.method="POST"
}if(!this.options.cache&&(this.options.method==="GET"||this.options.method==="HEAD")){this.url=aK(this.url)}if(this.options.crossDomain==null){aM.URI.lastIndex=0;
aS=aM.URI.exec(ao.currentURI().toLowerCase());this.options.crossDomain=!!(aS&&(aS[1]!==aN[1]||aS[2]!==aN[2]||aS[3]!==aN[3]))}if(this.options.binary&&!this.options.mimeType){this.options.mimeType="text/plain; charset=x-user-defined"
}if(this.options.sync){this.deferred.async(false)}},open:function(){var aP=this.options.sync?false:true;if(this.options.username!=null){this.xhr.open(this.options.method,this.url,aP,R(this.options.username,true),R(this.options.password,true))
}else{this.xhr.open(this.options.method,this.url,aP)}},setHeaders:function(){var aP=this,aR;try{if(this.options.responseType){try{this.xhr.responseType=this.options.responseType
}catch(aQ){}}if(this.options.cookie){try{this.xhr.withCredentials="true"}catch(aQ){}}try{if(this.xhr.overrideMimeType&&this.options.mimeType!=null){this.xhr.overrideMimeType(this.options.mimeType)
}}catch(aQ){}if(this.options.contentType!=null){aR=this.options.contentType}if(this.options.headers!=null){aH(this.options.headers,function(aT,aS){if(!aR&&/^Content-?Type/i.test(aS)){aR=aT
}else{aP.xhr.setRequestHeader(aS,aT)}})}if(!aR&&this.options.method==="POST"){aR="application/x-www-form-urlencoded; charset=UTF-8"}if(aR){this.xhr.setRequestHeader("Content-Type",aR)
}}catch(aQ){}},setReadyStateChange:function(){var aQ=this,aP;if(this.options.sync){aP=function(aR){var aS=new h({async:false});return aS.then(aR).begin()}}else{aP=h.flush
}this.xhr.onreadystatechange=function(){var aR=null,aT;if(aQ.xhr.readyState==ao.Net.XHR.ReadyState.COMPLETE){aQ.cancel();try{aR=parseInt(aQ.xhr.status,10);aT=aQ.xhr.responseText;
if(!aR&&aT){aR=304}}catch(aS){}if((aR>=200&&aR<300)||aR===304||aR===1223){aQ.assignResponseText();if(al(aQ.options.callback)){aP(function(){aQ.options.callback.call(aQ.xhr,aT,aQ.xhr)
}).ensure(function(aU){aQ.deferred.begin(aQ.xhr)})}else{aQ.deferred.begin(aQ.xhr)}}else{aQ.deferred.raise(B({},aQ.xhr));try{aQ.cancel(true)}catch(aS){}}}}},assignResponseText:function(){var aS,aP,aQ,aU,aW,aT;
if(this.options.binary){aQ=[];aU=[];try{aT=this.xhr.responseText||""}catch(aV){aT=""}aP=aT.length;for(aS=0;aS<aP;aS++){aW=aT.charCodeAt(aS)&255;aQ[aS]=aW;aU[aS]=g(aW)
}try{this.xhr.originalText=aT;this.xhr.responseBytes=aQ;this.xhr.responseText=aU.join("")}catch(aV){try{this.xhr=B(this.xhr,{originalText:aT,responseBytes:aQ,responseText:aU.join("")})
}catch(aR){}}}},cancel:function(aP){try{this.xhr.onreadystatechange=null}catch(aQ){try{this.xhr.onreadystatechange=n}catch(aQ){}}if(aP){try{this.xhr.abort()}catch(aQ){}}},send:function(){this.xhr.send(this.options.sendContent);
this.deferred.data({request:this.xhr})}});aO.prototype.doit.prototype=aO.prototype;return function(aQ,aP){return(new aO(aQ,aP)).deferred}}())},requestByGreasemonkey:function(aN,aM){var aS=new h(),aP,aO,aQ=B({cache:true},aM||{}),aR={sendContent:"data",mimeType:"overrideMimeType",username:"user",sync:"synchronous"};
aH(aR,function(aT,aU){if(aU in aQ){aQ[aT]=aQ[aU]}});aQ.method=am(aQ.method).toUpperCase()||"GET";aQ.url=aI(aN,aQ.queryString);if(aQ.data){aQ.data=ao.Serializer.serializeToQueryString(aQ.data)
}if(aQ.data&&aQ.method==="GET"){aQ.method="POST"}if(!aQ.cache&&(aQ.method==="GET"||aQ.method==="HEAD")){aQ.url=aK(aQ.url)}aP=aQ.contentType;if(aQ.headers){aH(aQ.headers,function(aU,aT){if(!aP&&/^Content-?Type/i.test(aT)){aP=aU;
throw aw}})}if(!aP&&aQ.method==="POST"){aP="application/x-www-form-urlencoded"}if(aP){aQ.headers=B(aQ.headers||{},{"Content-Type":aP})}if(aQ.sync){aS.async(false);
aO=function(aT){aT()}}else{aO=h.callLazy}if(aQ.onload){aS.then(aQ.onload)}if(aQ.onerror){aS.rescue(aQ.onerror)}B(aQ,{onload:function(){aS.begin.apply(aS,arguments)
},onerror:function(){aS.raise.apply(aS,arguments)}});aO(function(){var aT=GM_xmlhttpRequest(aQ);aS.data({request:aT});aS.canceller(function(){try{aT.abort()}catch(aU){}})
});return aS},requestByNodeJS:(function(){function aN(aO){return new aN.prototype.doit(aO)}function aM(aO){return new aM.prototype.init(aO)}aM.prototype=B(aM.prototype,{responseText:"",responseXML:"",status:null,statusText:null,init:function(aO){var aP=aO||{};
B(this,aP,{getResponseHeader:this.getResponseHeader,getAllResponseHeaders:this.getAllResponseHeaders,responseText:aP.responseText,responseXML:aP.responseXML,status:aP.status,statusText:aP.statusText});
return this},getResponseHeader:function(aP){var aO=null,aQ;aQ=R(aP);lkey=aQ.toLowerCase();if(this.headers){if(lkey in this.headers){aO=this.headers[lkey]}else{if(aQ in this.headers){aO=this.headers[aQ]
}}}return aO},getAllResponseHeaders:function(){var aP=[],aO;if(this.headers){for(aO in this.headers){aP.push(aO+": "+this.headers[aO])}}return aP.join("\r\n")}});
aN.prototype=B(aN.prototype,{deferred:null,request:null,response:null,headers:{},requestOptions:{},defaultHeaders:{Accept:["*/"]+["*"],"User-Agent":["Pot.js/"+ao.VERSION,ao.TYPE,"(Node.js; *)"].join(" ")},doit:function(aO){var aP=this;
this.deferred=new h({canceller:function(){try{aP.abort()}catch(aQ){}}});this.setOptions(aO);this.send();return this},setOptions:function(aX){var aP,aO,aT,aQ,aV,aR,aW,aS,aU;
aP=B({cache:true,sync:false},aX||{});aO=am(aP.method).toUpperCase()||"GET";aT=false;aQ=require("url").parse(aP.url);switch(aQ.protocol){case"https:":aT=true;case"http:":aV=aQ.hostname;
break;default:throw new Error("Not supported protocol: "+aQ.protocol)}aR=aQ.port||(aT?443:80);aW=aQ.pathname+(aQ.search?aQ.search:"");this.headers=B({},this.defaultHeaders,aP.headers||{});
this.headers.Host=aV;if(aP.username!=null){aS=new Buffer([R(aP.username,true),R(aP.password,true)].join(":"));this.headers.Authorization="Basic "+aS.toString("base64")
}aU=aP.sendContent||aP.queryString;if(aO==="GET"||aO==="HEAD"){aW=aI(aW,aU);if(!aP.cache){aW=aK(aW)}aU=null}else{aU=ao.Serializer.serializeToQueryString(aU);if(aU){this.headers["Content-Length"]=Buffer.byteLength(aU);
if(!this.headers["Content-Type"]){this.headers["Content-Type"]="application/x-www-form-urlencoded"}}}if(aP.sync){this.deferred.async(false)}this.requestOptions={data:aU,ssl:aT,sync:aP.sync,settings:{host:aV,port:aR,path:aW,method:aO,headers:this.headers}}
},send:function(){var aP=this,aO,aQ=true;if(this.requestOptions.ssl){aO=require("https").request}else{aO=require("http").request}this.request=aO(this.requestOptions.settings,function(aR){aP.response=new aM(aR);
aP.response.responseText="";aP.response.responseXML="";aP.response.setEncoding("utf8");aP.response.status=aP.response.statusCode;if(aP.response.status==200&&!aP.response.statusText){aP.response.statusText="OK"
}aP.response.on("data",function(aS){if(aS){aP.response.responseText+=R(aS,true)}});aP.response.on("end",function(){aQ=false;aP.deferred.begin(aP.response)});aP.response.on("error",function(aS){aQ=false;
aP.handleError(aS)})}).on("error",function(aR){aQ=false;aP.handleError(aR)});if(this.requestOptions.data){this.request.write(this.requestOptions.data)}this.request.end();
if(this.requestOptions.sync){while(aQ){}}},handleError:function(aO){this.response.status=503;this.response.statusText=aO;this.response.responseText=aO&&aO.stack;
this.deferred.raise(this.response)},abort:function(){if(this.response){this.response.responseText="";this.response.responseXML=""}try{if(this.request&&this.request.abort){this.request.abort()
}}catch(aO){}}});aN.prototype.doit.prototype=aN.prototype;aM.prototype.init.prototype=aM.prototype;return function(aP,aO){var aQ=B({},aO||{},{url:aP});return(new aN(aQ)).deferred
}}()),requestByJSONP:(function(){var aM={KEY:/json|call/i,DONE:/loaded|complete/};return function(aO,a1){var aV,aN,aQ,aP,a0,aZ,aY,aR,aX,aW,aT,aS;aS="callback";aV=new h();
aN=B({cache:false,sync:false},a1||{});aQ=aq||ap;aY=q.currentDocument;aX=aL();if(!aQ||!aY||!aX||!aO){return aV.raise(aQ||aO||aX||aY)}try{if(aN.callback){if(ay(aN.callback)){aP=aN.callback
}else{if(al(aN.callback)){a0=aN.callback}else{if(x(aN.callback)){for(aZ in aN.callback){aS=aZ;if(ay(aN.callback[aZ])){aP=aN.callback[aZ]}else{if(al(aN.callback[aZ])){a0=aN.callback[aZ]
}}break}}}}}else{aH(aN,function(a3,a2){if(aM.KEY.test(a2)){aS=a2;if(ay(a3)){aP=a3}else{if(al(a3)){a0=a3}}throw aw}})}if(!aP){do{aP=Q(ao,"")}while(aP in aQ)}aR=aI(aJ(aO,aP,aS),aN.queryString||aN.sendContent);
if(!aN.cache){aR=aK(aR)}if(q.isGreasemonkey){return ao.Net.requestByGreasemonkey(aR,{method:"GET",sync:aN.sync}).then(function(a2){var a3=am(a2&&a2.responseText);
a3=a3.replace(/^[^{]*|[^}]*$/g,"");return ao.Serializer.parseFromJSON(a3)})}aW=aY.createElement("script");if(aN.sync){aV.async(false)}else{aW.async="async"}if(aN.type){aW.type=aN.type
}if(aN.charset){aW.charset=aN.charset}aQ[aP]=function(){var a2=arguments;try{delete aQ[aP]}catch(a3){try{aQ[aP]=null}catch(a3){}}try{if(aW){aW.parentNode.removeChild(aW)
}aW=void 0}catch(a3){}if(al(a0)){a0.apply(a0,a2)}aV.begin.apply(aV,a2)};aW.src=aR;aW.onload=aW.onreadystatechange=function(a3,a2){if(!aT&&aW&&(a2===1||!aW.readyState||aM.DONE.test(aW.readyState))){aT=true;
try{aW.onload=aW.onreadystatechange=null}catch(a4){}if(aX&&aW&&aW.parentNode){try{aX.removeChild(aW)}catch(a4){}}aW=void 0}};aV.canceller(function(){try{if(aW){aW.onload(0,1)
}}catch(a2){}});aX.insertBefore(aW,aX.firstChild)}catch(aU){aV.raise(aU)}return aV}}()),getJSON:(function(){var aM=/^[^{]*|[^}]*$/g,aN="application/json";return function(aP,aO){return ao.Net.request(aP,B({mimeType:aN,headers:{"Content-Type":aN}},aO||{})).then(function(aQ){var aR=am(aQ&&aQ.responseText).replace(aM,"");
return ao.Serializer.parseFromJSON(aR)})}}()),loadScript:(function(){var aM;if(q.isNonBrowser||!q.isNotExtension){return function(aO,aN){return ao.Net.request(aO,B({method:"GET",mimeType:"application/javascript",headers:{"Content-Type":"application/javascript"}},{cache:false,sync:false},aN||{})).then(function(aP){return ao.globalEval(aP.responseText)
})}}aM={DONE:/loaded|complete/,CALLBACK:/^callback|(?:on|)(?:load(?:ed|)|ready)/i};return function(aO,aX){var aS,aU,aN,aV,aT,aP,aW,aQ;aS=new h();try{if(al(aX)){aN={callback:aN};
aW=aN.callback}else{aN=B({},aX||{});aH(aN,function(aZ,aY){if(al(aZ)){aW=aZ;if(aM.CALLBACK.test(aY)){throw aw}}})}if(aW){aS.then(function(){return aW.apply(this,arguments)
})}aP=aI(aO,aN.queryString||aN.sendContent);if(!aN.cache){aP=aK(aP)}aV=q.currentDocument;aT=aL();if(!aV||!aT||!aP){return aS.raise(aP||aT||aV)}aU=aV.createElement("script");
if(aN.sync){aS.async(false)}else{aU.async="async"}aU.type=aN.type||"text/javascript";if(aN.charset){aU.charset=aN.charset}aU.src=aP;aU.onload=aU.onreadystatechange=function(aZ,aY){if(!aQ&&aU&&(aY===1||!aU.readyState||aM.DONE.test(aU.readyState))){aQ=true;
try{aU.onload=aU.onreadystatechange=null}catch(a0){}if(aT&&aU&&aU.parentNode){try{aT.removeChild(aU)}catch(a0){}}aU=void 0;aS.begin()}};aS.canceller(function(){try{if(aU){aU.onload(0,1)
}}catch(aY){}});aT.insertBefore(aU,aT.firstChild)}catch(aR){aS.raise(aR)}return aS}}())});function aI(aN,aP){var aM,aO,aQ;aM=R(aN);aQ=(~aM.indexOf("?"))?"&":"?";
aO=R(ao.Serializer.serializeToQueryString(aP));while(aM.slice(-1)===aQ){aM=aM.slice(0,-1)}while(aO.charAt(0)===aQ){aO=aO.substring(1)}if(aO){aO=aQ+aO}return aM?aM+aO:null
}function aK(aP){var aN=R(aP),aO,aM="?",aQ="_";if(aN){do{aO=aQ+Q(ao,"").toLowerCase()}while(~aN.indexOf(aO));if(~aN.indexOf(aM)){aM="&";while(aN.slice(-1)===aM){aN=aN.slice(0,-1)
}}aN=aN+aM+aO+"="+au()}return aN}function aL(){var aM,aO=q.currentDocument;try{if(aO.head&&Y(aO.head)){return aO.head}}catch(aN){}try{aM=aO.getElementsByTagName("head");
if(aM&&Y(aM[0])){return aM[0]}}catch(aN){}try{return aO.documentElement}catch(aN){}}function aJ(aM,aP,aO){var aN=R(aM);if(~aN.indexOf("=?")){aN=aN.replace("=?","="+aP)
}else{if(~aN.indexOf("?")){aN=aN.replace("?","?"+aO+"="+aP)}else{while(aN.slice(-1)==="&"){aN=aN.slice(0,-1)}aN=aN+"?"+aO+"="+aP}}return aN}ao.update({request:ao.Net.request,jsonp:ao.Net.requestByJSONP,getJSON:ao.Net.getJSON,loadScript:ao.Net.loadScript})
}());ao.update({XPCOM:{}});B(ao.XPCOM,{evalInSandbox:function(aL,aJ){var aI,aK,aM;if(q.hasComponents){if(!K){q.isWaitable=q.hasComponents=false;return}aK=/^[\s;]*|[\s;]*$/g;
aM=R(aL).replace(aK,"");aI=K.evalInSandbox(aM,K.Sandbox(aJ))}return aI},throughout:function(aJ){var aI;if(q.hasComponents){try{aI=T["@mozilla.org/thread-manager;1"].getService(P.nsIThreadManager).mainThread
}catch(aK){q.isWaitable=q.hasComponents=false}if(aI&&q.hasComponents){do{aI.processNextEvent(true)}while(aJ&&!aJ())}}},getMostRecentWindow:function(){var aJ;if(q.hasComponents){try{aJ=T["@mozilla.org/appshell/window-mediator;1"].getService(P.nsIWindowMediator).getMostRecentWindow("navigator:browser")
}catch(aI){q.isWaitable=q.hasComponents=false}}return aJ},getChromeWindow:function(aK){var aJ,aM,aN,aI;if(!q.hasComponents){return}aI=aK||"chrome://browser/content/browser.xul";
try{aN=T["@mozilla.org/appshell/window-mediator;1"].getService(P.nsIWindowMediator).getXULWindowEnumerator(null)}catch(aL){q.isWaitable=q.hasComponents=false;return
}while(aN.hasMoreElements()){try{aM=aN.getNext().QueryInterface(P.nsIXULWindow).docShell.QueryInterface(P.nsIInterfaceRequestor).getInterface(P.nsIDOMWindow);if(aM&&aM.location&&(aM.location.href==aI||aM.location==aI)){aJ=aM;
break}}catch(aL){}}return aJ}});ao.update({evalInSandbox:ao.XPCOM.evalInSandbox,throughout:ao.XPCOM.throughout,getMostRecentWindow:ao.XPCOM.getMostRecentWindow,getChromeWindow:ao.XPCOM.getChromeWindow});
(function(){var a0=[],aW=[],aV=[],a7={},a1=false,a4="*e",aM=".",aU={MOUSE_OVER:/mouse(?:over|enter)/,MOUSE_OUT:/mouse(?:out|leave)/,EVENT_ONCE:/^(?:on|)(?:(?:un|)load|DOMContentLoaded)$/,ID_CLEAN:/^#/},aZ,a3;
ao.update({Signal:{}});i=ao.Signal;B(i,{NAME:"Signal",toString:H,Handler:B(function(a8){return new aZ.fn.init(a8)},{advices:{normal:1,before:2,around:4,after:8,propBefore:16,propAround:32,propAfter:64}}),Observer:function(a9,bc){var bb=this,a8,bd=this.PotInternal;
if(!bd.serial){bd.serial=Q(this)}B(bd,{orgEvent:bc||(typeof window==="object"&&window.event)||{},object:a9});a8=bd.orgEvent;if(!x(a8)){bd.orgEvent=a8={type:a8}}aH(B({},a8),function(be,bf){if(!W.call(bb,bf)){bb[bf]=be
}});try{if(!a8.target){a8.target=a8.srcElement||ao.currentDocument()||{}}if(a8.target.nodeType==3&&a8.target.parentNode){a8.target=a8.target.parentNode}if(a8.metaKey==null){a8.metaKey=a8.ctrlKey
}if(a8.timeStamp==null){a8.timeStamp=au()}if(a8.relatedTarget==null){if(aU.MOUSE_OVER.test(a8.type)){a8.relatedTarget=a8.fromElement}else{if(aU.MOUSE_OUT.test(a8.type)){a8.relatedTarget=a8.toElement
}}}}catch(ba){}this.originalEvent=a8},DropFile:function(a9,a8){return new m.fn.init(a9,a8)},isHandler:function(a8){return a8!=null&&((a8 instanceof aZ)||(a8.id!=null&&a8.id===aZ.fn.id&&a8.NAME!=null&&a8.NAME===aZ.fn.NAME))
},isObserver:function(a8){return a8!=null&&((a8 instanceof a3)||(a8.PotInternal!=null&&a8.PotInternal.id!=null&&a8.PotInternal.id===a3.fn.PotInternal.id&&a8.PotInternal.NAME!=null&&a8.PotInternal.NAME===a3.fn.PotInternal.NAME))
},attach:function(bc,bf,bi,ba,a8){var bd=[],bg,be,bh,bb,a9=aQ(bc);if(!a9){return}bg=aR(a9);bh=!!ba;if(b(bf)){be=true}bb=aZ.advices.normal;aH(aC(bf),function(bm){var bj,bk,bl;
bj=R(bm);bl=aN(a9,bj,bi,bh,bg,a8,bb);bk=new aZ({object:a9,signal:bj,listener:bl,callback:bi,isDOM:bg,useCapture:bh,advice:bb,attached:true});aL(function(bn){bn[bn.length]=bk
});if(bg){if(a9.addEventListener){a9.addEventListener(aX(a9,bj),bl,bh)}else{if(a9.attachEvent){a9.attachEvent(aX(a9,bj),bl)}}}bd[bd.length]=bk});return be?bd:bd[0]
},attachBefore:function(ba,a9,bc,a8,bb){return a5(ba,a9,bc,aZ.advices.before,bb)},attachAfter:function(ba,a9,bc,a8,bb){return a5(ba,a9,bc,aZ.advices.after,bb)},attachPropBefore:function(a9,bb,bc,a8,ba){return aY(a9,bb,bc,aZ.advices.propBefore,ba)
},attachPropAfter:function(a9,bb,bc,a8,ba){return aY(a9,bb,bc,aZ.advices.propAfter,ba)},detach:function(bc,ba,bf,a9){var a8=false,bb=arguments,bd,be=aQ(bc);if(!be){return
}if(i.isHandler(be)){aO(function(bg){if(bg&&bg.attached&&bg===be){bd=bg;throw aw}})}else{if(bb.length>1){aO(function(bg){if(bg&&bg.attached&&bg.object===be&&bg.signal==ba&&bg.callback===bf){bd=bg;
throw aw}})}}if(bd){a2(bd);a8=true}return a8},detachAll:function(){var ba=arguments,bc,a9=[],bb={},a8=[];switch(ba.length){case 0:break;case 1:bc=ba[0];break;case 2:bc=ba[0];
a9=ba[1]||[];break;default:bc=ba[0];a9=aC(ba,1)}if(bc!=null){bc=aQ(bc)}a9=aC(a9);aH(a9,function(bd){bb[aM+R(bd)]=true});aO(function(bd){if(!bd||((bc==null||bd.object===bc)&&((!a9||a9.length===0)||(a9.length&&bd.signal in bb)))){if(bd&&bd.attached){a8[a8.length]=bd
}}});aH(a8,function(bd){a2(bd)})},signal:function(ba,bd){var bg,bc=aC(arguments,2),be=[],bf,a9,bb={},a8=aQ(ba);if(!a8){return}bg=aJ();bf=bd;a9=aZ.advices.normal;
aH(aC(bf),function(bh){bb[aM+R(bh)]=true});aO(function(bh){if(bh&&bh.attached&&bh.advice===a9&&bh.object===a8&&((aM+bh.signal) in bb)){bg.then(function(){var bi=bh.listener.apply(a8,bc);
if(M(bi)){bi.begin()}return bi},function(bi){be[be.length]=bi})}});return bg.ensure(function(bh){if(d(bh)){be[be.length]=bh}switch(be.length){case 0:break;case 1:throw be[0];
default:throw B(be[0]||{},{errors:be})}return bh}).begin()},cancelEvent:function(a8){var a9=function(ba){try{ba.preventDefault();ba.stopPropagation()}catch(bb){}};
if(a8){a9();if(a8.originalEvent){a9(a8.originalEvent)}if(a8.PotInternal&&a8.PotInternal.orgEvent){a9(a8.PotInternal.orgEvent)}}return false}});m=i.DropFile;aZ=i.Handler;
a3=i.Observer;m.fn=m.prototype=B(m.prototype,{constructor:m,id:C.getMagicNumber(),NAME:"DropFile",serial:null,toString:H,defaultOptions:{onShow:null,onHide:null,onDrop:null,onLoadImage:null,onLoadText:null,onLoadUnknown:null,onLoadEnd:null,onProgress:null,onProgressFile:null,readAs:null,encoding:null},encoding:null,loadedFiles:[],handleCache:[],target:[],options:{},isShow:false,init:function(a9,a8){if(!this.serial){this.serial=Q(this)
}this.isShow=false;this.target=aQ(a9);this.options=B({},this.defaultOptions,a8||{});if(this.options.encoding){this.encoding=this.options.encoding}this.assignReadType();
if(this.target){this.initEvents()}return this},clearDropEvents:function(){aH(this.handleCache,function(a8){i.detach(a8)});this.handleCache=[]},initEvents:function(){var ba=this,bb=this.target,a9,a8=this.handleCache,bd=this.options,bc=i;
a8[a8.length]=bc.attach(bb,"drop",function(bl){var bk,be,bh=0,bj,bf,bi={seek:new h(),files:[],steps:[],ends:[true],done:false},bg=function(bm){if(bm&&bm.target&&bm.target.result!=null){ba.loadedFiles.push(bm.target.result);
return true}else{return false}};ba.isShow=false;bf=bl.dataTransfer&&bl.dataTransfer.files;if(bf){bj=0;bk=[];aH(bf,function(bm){if(bm){bk[bj++]=bm}});if(bd.onDrop){bd.onDrop.call(ba,bk,bj)
}if(q.hasFileReader){be=new FileReader();be.onloadend=function(bm){if(bg(bm)){if(bi.files[bh]&&!bi.ends[bh]){bi.files[bh].begin()}}};h.forEach(bk,function(bm){if(bm){bi.seek.then(function(){var bn=B({},bm,{index:bh++});
return h.till(function(){return !ao.some(bi.ends,function(bo){return bo===false})}).then(function(){bi.ends[bh]=false;bi.steps[bh]=new h();bi.files[bh]=new h().then(function(){if(ba.isImageFile(bn.type)){ba.loadAsImage(bi,bh,bj,bm,bn)
}else{if(ba.isTextFile(bn.type)){ba.loadAsText(bi,bh,bj,bm,bn)}else{ba.loadAsUnknown(bi,bh,bj,bm,bn)}}return bi.steps[bh]});ba.readFile(be,bm);return bi.files[bh]
})})}}).then(function(){bi.seek.then(function(){var bm=ao.every(bi.ends,function(bn){return bn===true});if(bm&&!bi.done){bi.done=true;if(bd.onProgress){ba.updateProgressEnd()
}if(bd.onLoadEnd){bd.onLoadEnd.call(ba,aC(ba.loadedFiles))}}}).begin()})}}});a8[a8.length]=bc.attach(bb,"dragenter",function(be){ba.isShow=true;bc.cancelEvent(be)
});a8[a8.length]=bc.attach(bb,"dragover",function(be){ba.isShow=true;bc.cancelEvent(be)});a8[a8.length]=bc.attach(bb,"dragleave",function(be){ba.isShow=false});if(bd.onHide){bd.onHide.call(ba)
}a9=ao.currentDocument().documentElement;a8[a8.length]=bc.attach(a9,"drop",function(be){ba.isShow=false;if(bd.onHide){bd.onHide.call(ba)}bc.cancelEvent(be)});a8[a8.length]=bc.attach(a9,"dragleave",function(be){S(function(){if(ba.isShow){ba.isShow=false
}else{if(bd.onHide){bd.onHide.call(ba)}}},1000)});aH(["dragenter","dragover"],function(be){a8[a8.length]=bc.attach(a9,be,function(bi){var bh=bi&&bi.dataTransfer,bg,bf;
if(bh){if(bh.files&&bh.files.length){bg=true}else{if(bh.types){bf=/Files/i;if(bf.test(bh.types)){bg=true}else{if(ah(bh.types)){aH(bh.types,function(bj){if(bf.test(bj)){bg=true;
throw aw}})}}}}}if(bg){ba.isShow=true;if(bd.onShow){bd.onShow.call(ba)}}bc.cancelEvent(bi)})})},readFile:function(a8,a9,ba){switch(this.options.readAs){case"text":if(this.encoding){a8.readAsText(a9,this.encoding)
}else{a8.readAsText(a9)}break;case"binary":a8.readAsBinaryString(a9);break;case"arraybuffer":a8.readAsArrayBuffer(a9);break;case"datauri":a8.readAsDataURL(a9);break;
default:if(ba){if(this.encoding){a8.readAsText(a9,this.encoding)}else{a8.readAsText(a9)}}else{a8.readAsDataURL(a9)}}},assignReadType:function(){var a8,a9=R(this.options.readAs).toLowerCase();
if(~a9.indexOf("text")){a8="text"}else{if(~a9.indexOf("bin")){a8="binary"}else{if(~a9.indexOf("arr")||~a9.indexOf("buf")){a8="arraybuffer"}else{if(~a9.indexOf("data")||~a9.indexOf("ur")){a8="datauri"
}else{a8=null}}}}this.options.readAs=a8},isImageFile:function(a8){return/image/i.test(a8)},isTextFile:function(a8){return !/image|audio|video|zip|compress|stream/i.test(a8)
},upload:function(ba,bg){var bd,bb,a9=this.loadedFiles,a8={},bf,bc,be="file";if(a9&&a9.length){if(ay(bg)){be=bg}else{if(x(bg)){bf=/key|file|name/i;aH(bg,function(bi,bh){if(ay(bi)&&bf.test(bh)){be=bi;
throw aw}});a8=B({},bg)}}bb=R(ba);bf=/([^@:;#?&=\/\\]+)=[?]/;if(bf.test(bb)){be=bb.match(bf)[1];bb=bb.replace(be,"")}bc=a8.sendContent||a8.queryString||{};if(b(bc)){bc[bc.length]=[be,a9.splice(0,a9.length)]
}else{bc[be]=a9.splice(0,a9.length)}a8.sendContent=bc;a8.queryString=null;a8.method=a8.method||"POST";bd=ao.Net.request(bb,a8)}return h.maybeDeferred(bd)},loadAsImage:function(bg,ba,be,a9,a8){var bd=this,bb=this.options,bc=new FileReader(),bf=bb.onLoadImage;
if(bb.onProgressFile){bc.onprogress=function(bh){bd.updateProgressFile(bh,a8,be)}}bc.onload=function(bh){bg.ends[ba]=true;bg.steps[ba].begin();if(bb.onProgressFile){bd.updateProgressFileEnd(a8)
}if(bf){bf.call(bd,bh&&bh.target&&bh.target.result,a8)}};bc.onerror=function(bh){bg.ends[ba]=true;bg.steps[ba].raise(bh)};this.readFile(bc,a9)},loadAsText:function(bg,ba,be,a9,a8){var bd=this,bb=this.options,bc=new FileReader(),bf=bb.onLoadText;
if(bb.onProgressFile){bc.onprogress=function(bh){bd.updateProgressFile(bh,a8,be)}}bc.onload=function(bh){bg.ends[ba]=true;bg.steps[ba].begin();if(bb.onProgressFile){bd.updateProgressFileEnd(a8)
}if(bf){bf.call(bd,bh&&bh.target&&bh.target.result,a8)}};bc.onerror=function(bh){bg.ends[ba]=true;bg.steps[ba].raise(bh)};this.readFile(bc,a9,true)},loadAsUnknown:function(bg,ba,be,a9,a8){var bd=this,bb=this.options,bc=new FileReader(),bf=bb.onLoadUnknown;
if(bb.onProgressFile){bc.onprogress=function(bh){bd.updateProgressFile(bh,a8,be)}}bc.onload=function(bh){bg.ends[ba]=true;bg.steps[ba].begin();if(bb.onProgressFile){bd.updateProgressFileEnd(a8)
}if(bf){bf.call(bd,bh&&bh.target&&bh.target.result,a8)}};bc.onerror=function(bh){bg.ends[ba]=true;bg.steps[ba].raise(bh)};this.readFile(bc,a9)},updateProgress:function(a9,ba){var a8,bb=this.options.onProgress;
if(bb){a8=Math.max(0,Math.min(100,Math.round((a9/ba)*100)));bb.call(this,a8)}},updateProgressEnd:function(){var a8=this.options.onProgress;if(a8){a8.call(this,100)
}},updateProgressFile:function(a8,bb,ba){var a9,bd=this.options,bc=bd.onProgressFile;if(bc&&a8&&a8.lengthComputable&&a8.loaded!=null){a9=Math.max(0,Math.min(100,Math.round((a8.loaded/a8.total)*100)));
bc.call(this,a9,bb)}if(bd.onProgress){this.updateProgress(bb.index,ba)}},updateProgressFileEnd:function(a8){var a9=this.options.onProgressFile;if(a9){a9.call(this,100,a8)
}}});m.fn.init.prototype=m.fn;aZ.fn=aZ.prototype=B(aZ.prototype,{constructor:aZ,id:C.getMagicNumber(),NAME:"Handler",serial:null,toString:H,init:function(a8){if(!this.serial){this.serial=Q(this)
}B(this,a8);return this}});aZ.fn.init.prototype=aZ.fn;a3.fn=a3.prototype={constructor:a3,PotInternal:{id:C.getMagicNumber(),NAME:"Observer",serial:null,orgEvent:null,object:null},toString:function(){return at(this.PotInternal.NAME)
},preventDefault:function(){var a8;try{a8=this.PotInternal.orgEvent;if(a8){if(a8.preventDefault){a8.preventDefault()}else{a8.returnValue=false}}}catch(a9){}if(this.originalEvent){try{a8=this.originalEvent;
if(a8){if(a8.preventDefault){a8.preventDefault()}else{a8.returnValue=false}}}catch(a9){}}},stopPropagation:function(){var a8;try{a8=this.PotInternal.orgEvent;if(a8){if(a8.stopPropagation){a8.stopPropagation()
}a8.cancelBubble=true}}catch(a9){}if(this.originalEvent){try{a8=this.originalEvent;if(a8){if(a8.stopPropagation){a8.stopPropagation()}a8.cancelBubble=true}}catch(a9){}}}};
aH({attach:4,attachBefore:4,attachAfter:4,attachPropBefore:4,attachPropAfter:4},function(a9,a8){B(i[a8],{once:function(){var ba=aC(arguments);ba[a9]=true;return i[a8].apply(i,ba)
}})});aH({normal:true,before:true,after:true,propBefore:true,propAfter:true},function(a9,a8){var ba={};ba[a8]=function(bb,be,bd,bc){return aS(bb,be,bd,aZ.advices[a8],bc)
};B(a7,ba)});function aN(bd,bk,bi,ba,bh,a9,bc){var bl,bj=(bh&&aU.EVENT_ONCE.test(bk)),bf,bb,bg,a8=i,be;if(a9||bj){bf=true;bb=function(bm){a8.detach(bd,bk,bi,ba)}
}if(a6(bd,bk,true)){if(bc===aZ.advices.normal){aI(bd,bk)}bg=n;if(bh){return bg}else{aO(function(bm){if(bm&&!bm.isDOM&&bm.advice===aZ.advices.normal&&bm.object===bd&&bm.signal==bk&&bm.listener!==n){if(be){bm.listener=n
}else{if(!bm.attached){bg=bm.listener;bm.listener=n;be=true}}}});return bg}}aV[aV.length]={object:bd,signal:bk,advice:bc,attached:true};bl=function(bo){var bp=aJ(),bm=arguments,bn=bl,bq=bh?new a3(bd,bo):bm;
bp.data(a4,[]);a7.before(bp,bd,bk,bq);a7.normal(bp,bd,bk,bq);a7.after(bp,bd,bk,bq);return bp.ensure(function(br){var bs;if(d(br)){this.data(a4,aA.call(this.data(a4)||[],br))
}bs=this.data(a4);if(bf){bb(bn)}if(bs&&bs.length){if(bs.length>1){throw B(bs[0],{errors:bs})}else{throw bs[0]}}return br}).begin()};return bl}function aS(bg,bb,bf,ba,be){var bc={},bd,a8,a9=aQ(bb);
if(!a9){return}bd=aC(bf);aH(bd,function(bh){bc[aM+R(bh)]=true});a8=false;switch(ba){case aZ.advices.normal:a8=true;break;case aZ.advices.before:case aZ.advices.after:aH(bd,function(bh){if(a6(a9,R(bh))){a8=true;
throw aw}});break;case aZ.advices.propBefore:case aZ.advices.propAfter:aH(bd,function(bh){if(aK(a9,R(bh))){a8=true;throw aw}});break;default:a8=false}if(a8){aO(function(bi){var bh=R(bi&&bi.signal);
if(bi&&bi.attached&&bi.advice===ba&&bi.object===a9&&((aM+bh) in bc)){bg.ensure(function(bj){if(d(bj)){this.data(a4,aA.call(this.data(a4)||[],bj))}if(ba===aZ.advices.normal){return bi.callback.apply(a9,aC(be))
}else{return bi.listener.apply(a9,aC(be))}})}})}return bg}function a6(ba,a9,bb){var a8=false;aH(aC(a9),function(bf){var bd,be,bc=R(bf);for(bd=aV.length-1;bd>=0;bd--){be=aV[bd];
if(be&&(bb||be.attached)&&be.advice===aZ.advices.normal&&be.object===ba&&be.signal==bc){a8=true;throw aw}}});return a8}function aI(ba,a9){var a8=false;aH(aC(a9),function(be){var bc,bd,bb=R(be);
for(bc=aV.length-1;bc>=0;bc--){bd=aV[bc];if(bd&&!bd.attached&&bd.advice===aZ.advices.normal&&bd.object===ba&&bd.signal==bb){bd.attached=true;throw aw}}});return a8
}function aK(a9,bb,ba){var a8=false;aH(aC(bb),function(bf){var bd,be,bc=R(bf);for(bd=aW.length-1;bd>=0;bd--){be=aW[bd];if(be&&(ba||be.attached)&&be.object===a9&&be.signal==bc){a8=true;
throw aw}}});return a8}function aT(a9,ba){var a8=false;aH(aC(ba),function(be){var bc,bd,bb=R(be);for(bc=aW.length-1;bc>=0;bc--){bd=aW[bc];if(bd&&!bd.attached&&(bd.advice===aZ.advices.propBefore||bd.advice===aZ.advices.propAfter)&&bd.object===a9&&bd.signal==bb){bd.attached=true;
throw aw}}});return a8}function a2(bg){var ba,bd,a9,bf,bb,bc,be,a8;if(!bg||!bg.attached){return}bg.attached=false;ba=bg.object;bd=bg.signal;bf=bg.useCapture;a9=bg.listener;
if(!bg.isDOM){if(bg.advice===aZ.advices.propBefore||bg.advice===aZ.advices.propAfter){be=false;aO(function(bh){if(bh&&bh.attached&&!bh.isDOM&&(bh.advice===aZ.advices.propBefore||bh.advice===aZ.advices.propAfter)&&bh.object===ba&&bh.signal==bd){be=true;
throw aw}});if(!be){for(bb=aW.length-1;bb>=0;bb--){bc=aW[bb];if(bc&&bc.attached&&bc.object===ba&&bc.signal==bd){bc.attached=false}}}}else{if(bg.advice===aZ.advices.normal){be=false;
a8=null;aO(function(bh){if(bh&&bh.attached&&!bh.isDOM&&bh.advice===aZ.advices.normal&&bh.object===ba&&bh.signal==bd){be=true;a8=bh;throw aw}});if(be){if(a8&&a8.listener===n&&a9!==n){a8.listener=a9
}}else{for(bb=aV.length-1;bb>=0;bb--){bc=aV[bb];if(bc&&bc.attached&&bc.object===ba&&bc.signal==bd){bc.attached=false}}}}}}else{if(bg.advice===aZ.advices.normal){be=false;
aO(function(bh){if(bh&&bh.attached&&bh.isDOM&&bh.advice===aZ.advices.normal&&bh.object===ba&&bh.signal==bd){be=true;throw aw}});if(!be){for(bb=aV.length-1;bb>=0;
bb--){bc=aV[bb];if(bc&&bc.attached&&bc.advice===aZ.advices.normal&&bc.object===ba&&bc.signal==bd){bc.attached=false}}}}}aP()}function a5(bb,be,bh,ba,a8){var bc=[],a9,bg,bd,bf;
a9=aQ(bb);if(!a9){return}bf=function(bj){var bi=function(){var bk=arguments;bh.apply(a9,bk);if(a8){i.detach(a9,bj,bi,false)}};return bi};bg=aR(a9);if(b(be)){bd=true
}aH(aC(be),function(bl){var bi=R(bl),bj,bk;bk=bf(bi);bj=new aZ({object:a9,signal:bi,listener:bk,callback:bk,isDOM:bg,useCapture:false,advice:ba,attached:true});aL(function(bm){bm[bm.length]=bj
});bc[bc.length]=bj});return bd?bc:bc[0]}function aY(bb,be,bh,ba,a9){var bc=[],bd,bf,bg,a8=i;if(!bb||!al(bh)){return}if(b(be)){bd=true}bg=function(bi){var bj=function(){var bk=arguments;
bh.apply(bb,bk);if(a9){a8.detach(bb,bi,bj,false)}};return bj};bf=aC(be);aH(bf,function(bj){var bi=R(bj);if(aK(bb,bi,true)){if(ba===aZ.advices.propBefore||ba===aZ.advices.propAfter){aT(bb,bi)
}}else{aW[aW.length]={object:bb,signal:bi,advice:ba,attached:true};ao.override(bb,bi,function(bo,bk){var bn={},bm=aJ(),bl=bn;bm.data(a4,[]);a7.propBefore(bm,bb,bi,bk);
bm.ensure(function(bp){if(d(bp)){this.data(a4,aA.call(this.data(a4)||[],bp))}return bo.apply(bb,bk)}).then(function(bp){bl=bp;return bp});a7.normal(bm,bb,bi,bk);
a7.propAfter(bm,bb,bi,bk);bm.ensure(function(bp){var bq;if(d(bp)){this.data(a4,aA.call(this.data(a4)||[],bp))}bq=this.data(a4);if(bq&&bq.length){if(bq.length>1){throw B(bq[0],{errors:bq})
}else{throw bq[0]}}return bp}).begin();return(bl===bn)?null:bl})}});aH(bf,function(bl){var bi=R(bl),bj,bk;bk=bg(bi);bj=new aZ({object:bb,signal:bi,listener:bk,callback:bk,isDOM:false,useCapture:false,advice:ba,attached:true});
aL(function(bm){bm[bm.length]=bj});bc[bc.length]=bj});return bd?bc:bc[0]}function aX(a8,bb){var a9=R(bb),ba="on";if(a8){if(a8.addEventListener){if(a9.indexOf(ba)===0){a9=a9.substring(2)
}}else{if(a8.attachEvent){if(a9.indexOf(ba)!==0){a9=ba+a9}}}}return a9}function aR(a8){return !!(a8&&(a8.addEventListener&&a8.removeEventListener)||(a8.attachEvent&&a8.detachEvent))
}function aQ(a9){if(typeof a9==="object"||al(a9)){if(a9.jquery&&a9.get){return a9.get(0)}else{return a9}}if(ay(a9)){try{return ao.currentDocument().getElementById(R(a9).replace(aU.ID_CLEAN,""))
}catch(a8){}}return false}function aO(bd){var a9,bb=null,ba,a8;a1=true;try{a8=a0.length;for(ba=0;ba<a8;ba++){a9=bd(a0[ba],ba)}}catch(bc){bb=bc}finally{a1=false}if(bb!==null&&!aB(bb)){throw bb
}return a9}function aL(bd){var a8,bb=255,ba={},a9=false;(function bc(){try{if(a1){if(--bb>=0){throw ba}else{bb=-1;S(function(){bc()},0)}}else{if(!a9){a9=true;a8=bd(a0)
}}}catch(be){if(be===ba){return bc()}else{throw be}}})();return a8}function aP(){var ba,a8,bb,a9=[],bc;if(!a1){a1=true;try{a8=a0.length;for(ba=0;ba<a8;ba++){bb=a0[ba];
if(!bb||(!bb.attached&&((bb.advice===aZ.advices.normal&&bb.listener===n)||(bb.advice===aZ.advices.propBefore||bb.advice===aZ.advices.propAfter)||(bb.advice===aZ.advices.before||bb.advice===aZ.advices.after)))){continue
}a9[a9.length]=bb}a0.splice(0,a8);f.apply(a0,a9)}catch(bd){bc=bd}finally{a1=false}if(bc!=null){throw bc}}}function aJ(){return new h({async:false})}ao.update({attach:ao.Signal.attach,attachBefore:ao.Signal.attachBefore,attachAfter:ao.Signal.attachAfter,attachPropBefore:ao.Signal.attachPropBefore,attachPropAfter:ao.Signal.attachPropAfter,detach:ao.Signal.detach,detachAll:ao.Signal.detachAll,signal:ao.Signal.signal,cancelEvent:ao.Signal.cancelEvent,DropFile:ao.Signal.DropFile})
}());ao.update({Debug:{}});B(ao.Debug,{debug:p});ao.update({deferrizejQueryAjax:(function(){if(typeof jQuery!=="function"||!jQuery.fn){return n}return function(){return(function(aI){var aJ=aI.ajax;
aI.pot=ao;aI.fn.extend({deferred:function(aN){var aM,aK=aC(arguments,1),aL=false;aH(aK,function(aO){if(al(aO)){aL=true;throw aw}});if(!aL){aK.push(function(){return aC(arguments)
})}aM=h.deferrize(aN,this);return aM.apply(this,aK)}});aI.ajax=function(aK){var aP,aO=new h(),aM=B({},aK||{}),aL=B({},aM);B(aM,{success:function(){var aR=aC(arguments),aS,aQ;
try{if(aL.success){aL.success.apply(this,aR)}}catch(aT){aQ=true;aS=aT||new Error(aT);aR.push(aS);aO.raise.apply(aO,aR)}if(!aQ){aO.destAssign=true;aO.begin.apply(aO,aR)
}},error:function(){var aQ=aC(arguments),aR;try{if(aL.error){aL.error.apply(this,aQ)}}catch(aS){aR=aS||new Error(aS);aQ.unshift(aR)}finally{aO.raise.apply(aO,aQ)
}}});try{aO.data({result:aJ(aM)})}catch(aN){aP=aN;aO.raise(aP)}return aO}}(jQuery))}}())});B(aF,{storage:{},shelter:{},add:function(aK,aN,aM){var aI=true,aL,aJ;if(x(aK)){aL=aK;
aJ=!!(aM||aN)}else{aL={};aL[R(aK,true)]=aN;aJ=!!aM}aH(aL,function(aP,aO){var aQ=R(aO,true),aR;if(al(aP)){aR=function(){return aP.apply(aP,arguments)};B(aR,{deferred:(function(){try{return h.deferreed(aR)
}catch(aS){return h.deferrize(aR)}}())})}else{aR=aP}if(aQ&&(aJ||!aF.has(aQ))){if(aQ in ao){aF.shelter[aQ]=ao[aQ]}ao[aQ]=aF.storage[aQ]=C.PotExportProps[aQ]=aR}else{aI=false
}});return aI},has:function(aJ){var aI=true;aH(aC(aJ),function(aK){var aL=R(aK,true);if(!(aL in aF.storage)){aI=false;throw aw}});return aI},remove:function(aJ){var aI=true;
aH(aC(aJ),function(aK){var aL=R(aK,true);if(aF.has(aL)){try{if(aL in aF.shelter){ao[aL]=C.PotExportProps[aL]=aF.shelter[aL];delete aF.shelter[aL]}else{if(aL in ao){delete ao[aL]
}if(aL in C.PotExportProps){delete C.PotExportProps[aL]}}delete aF.storage[aL];if(aF.has(aL)){throw false}}catch(aM){aI=false}}});return aI},list:function(){var aI=ao.keys(aF.storage);
return aI}});ao.update({addPlugin:aF.add,hasPlugin:aF.has,removePlugin:aF.remove,listPlugin:aF.list});ao.update({globalize:function(aO,aL){var aJ=false,aN=aC(arguments),aK,aP,aI=aN.length,aM=[];
if(aI<=1&&this===ao&&!x(aO)){aK=this;if(aI>=1&&an(aO)){aL=aO}else{aL=!!aO}}else{if(aO&&(x(aO)||al(aO)||b(aO))){aK=aO}}aP=C.getExportObject(true);if(aK&&aP){if(aK===ao){if(C.exportPot&&C.PotExportProps){aJ=C.exportPot(aL,true,true)
}}else{aH(aK,function(aR,aQ){if(aL&&aQ in aP){aM[aM.length]=aQ}else{aP[aQ]=aR}});aJ=aM}}return aJ}});B(C,{exportPot:function(aJ,aN,aL,aI){var aM,aK=[];aM=C.getExportObject(aN);
if(aM){if(aL){aH(C.PotExportProps,function(aP,aO){if(aJ&&aO in aM){aK[aK.length]=aO}else{aM[aO]=aP}})}else{aH(C.PotExportObject,function(aP,aO){if(aJ&&aO in aM){aK[aK.length]=aO
}else{aM[aO]=aP}})}}if(aI){aM=C.getExportObject(q.isNodeJS?false:true);if(aM){B(aM,C.PotExportObject)}if((q.isNonBrowser||!q.isNotExtension)&&typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=ao
}exports.Pot=ao}else{if(typeof define==="function"&&define.amd){define("pot",function(){return ao})}}if(aM&&!aM.Pot){aM.Pot=ao}}return aK},PotExportObject:{Pot:ao},PotExportProps:{Pot:ao,update:B,isBoolean:ao.isBoolean,isNumber:ao.isNumber,isString:ao.isString,isFunction:ao.isFunction,isArray:ao.isArray,isDate:ao.isDate,isRegExp:ao.isRegExp,isObject:ao.isObject,isError:ao.isError,typeOf:ao.typeOf,typeLikeOf:ao.typeLikeOf,StopIteration:ao.StopIteration,isStopIter:ao.isStopIter,isIterable:ao.isIterable,isScalar:ao.isScalar,isBlob:ao.isBlob,isFileReader:ao.isFileReader,isArguments:ao.isArguments,isTypedArray:ao.isTypedArray,isArrayBuffer:ao.isArrayBuffer,isArrayLike:ao.isArrayLike,isDeferred:ao.isDeferred,isIter:ao.isIter,isWorkeroid:ao.isWorkeroid,isPercentEncoded:ao.isPercentEncoded,isNumeric:ao.isNumeric,isInt:ao.isInt,isNativeCode:ao.isNativeCode,isBuiltinMethod:ao.isBuiltinMethod,isWindow:ao.isWindow,isDocument:ao.isDocument,isElement:ao.isElement,isNodeLike:ao.isNodeLike,isNodeList:ao.isNodeList,Cc:ao.Cc,Ci:ao.Ci,Cr:ao.Cr,Cu:ao.Cu,Deferred:ao.Deferred,succeed:ao.Deferred.succeed,failure:ao.Deferred.failure,wait:ao.Deferred.wait,callLater:ao.Deferred.callLater,callLazy:ao.Deferred.callLazy,maybeDeferred:ao.Deferred.maybeDeferred,isFired:ao.Deferred.isFired,lastResult:ao.Deferred.lastResult,lastError:ao.Deferred.lastError,register:ao.Deferred.register,unregister:ao.Deferred.unregister,deferrize:ao.Deferred.deferrize,deferreed:ao.Deferred.deferreed,begin:ao.Deferred.begin,flush:ao.Deferred.flush,till:ao.Deferred.till,parallel:ao.Deferred.parallel,chain:ao.Deferred.chain,forEach:ao.forEach,repeat:ao.repeat,forEver:ao.forEver,iterate:ao.iterate,items:ao.items,zip:ao.zip,Iter:ao.Iter,toIter:ao.Iter.toIter,map:ao.map,filter:ao.filter,reduce:ao.reduce,every:ao.every,some:ao.some,range:ao.range,indexOf:ao.indexOf,lastIndexOf:ao.lastIndexOf,globalEval:ao.globalEval,localEval:ao.localEval,tokenize:ao.tokenize,joinTokens:ao.joinTokens,isWords:ao.isWords,isNL:ao.isNL,hasReturn:ao.hasReturn,override:ao.override,getErrorMessage:ao.getErrorMessage,getFunctionCode:ao.getFunctionCode,currentWindow:ao.currentWindow,currentDocument:ao.currentDocument,currentURI:ao.currentURI,serializeToJSON:ao.Serializer.serializeToJSON,parseFromJSON:ao.Serializer.parseFromJSON,serializeToQueryString:ao.Serializer.serializeToQueryString,parseFromQueryString:ao.Serializer.parseFromQueryString,urlEncode:ao.URI.urlEncode,urlDecode:ao.URI.urlDecode,request:ao.Net.request,jsonp:ao.Net.requestByJSONP,getJSON:ao.Net.getJSON,loadScript:ao.Net.loadScript,hashCode:ao.Crypt.hashCode,evalInSandbox:ao.XPCOM.evalInSandbox,throughout:ao.XPCOM.throughout,getMostRecentWindow:ao.XPCOM.getMostRecentWindow,getChromeWindow:ao.XPCOM.getChromeWindow,Workeroid:ao.Workeroid,attach:ao.Signal.attach,attachBefore:ao.Signal.attachBefore,attachAfter:ao.Signal.attachAfter,attachPropBefore:ao.Signal.attachPropBefore,attachPropAfter:ao.Signal.attachPropAfter,detach:ao.Signal.detach,detachAll:ao.Signal.detachAll,signal:ao.Signal.signal,cancelEvent:ao.Signal.cancelEvent,DropFile:ao.Signal.DropFile,rescape:O,arrayize:aC,invoke:A,stringify:R,trim:am,now:au,globalize:ao.globalize,debug:ao.Debug.debug,addPlugin:ao.Plugin.add,hasPlugin:ao.Plugin.has,removePlugin:ao.Plugin.remove,listPlugin:ao.Plugin.list}});
C.exportPot(false,false,false,true);return ao}(this||{}));
