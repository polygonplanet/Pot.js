/*!
 * PotLite.js - JavaScript library
 *
 * PotLite.js is an implemental utility library
 *  that can execute JavaScript without burdening the CPU.
 *
 * Version 1.35, 2012-04-15
 * Copyright (c) 2012 polygon planet <polygon.planet.aqua@gmail.com>
 * Dual licensed under the MIT or GPL v2 licenses.
 * http://polygonplanet.github.com/Pot.js/
 */
(function a(ao){"use strict";var am={VERSION:"1.35",TYPE:"lite"},q,aD,G,c,ac,ax,an,n,W,B,t,R,H,au,aa,T,al,E,aw,aj,b,k,ae,w,d,af,r,az,L,x,aE,e,D,av,X,aC,y,h,v,ad,i,m,ai,M=Array.prototype,s=Object.prototype,aB=String.prototype,F=Function.prototype,f=M.push,u=M.slice,ag=M.splice,ay=M.concat,at=M.unshift,o=M.indexOf,ah=M.lastIndexOf,Z=s.toString,V=s.hasOwnProperty,I=F.toString,j=String.fromCharCode,l=(typeof l==="undefined")?void 0:l,g=(function(){var aG,aH=[];
for(aG=0;aG<=65535;aG++){aH[aG]=j(aG)}return function(aI){return aH[aI&65535]}}()),ap=/([-.*+?^${}()|[\]\/\\])/g,C=/^(?:[a-zA-Z0-9_~.-]|%[0-9a-fA-F]{2})*$/,ab=/List|Collection/i,Y=/^[\s\u00A0\u3000]+|[\s\u00A0\u3000]+$/g,O,S,K,J;
(function(aG){A(am,{NAME:"Pot",System:{},Plugin:{},toString:function(){return aq(this.NAME||this.name||typeof this)},Browser:(function(aJ){var aH={},aK,aI,aN,aM,aO,aQ={webkit:/(webkit)(?:.*version|)[\s\/]+([\w.]+)/,opera:/(opera)(?:.*version|)[\s\/]+([\w.]+)/,msie:/(msie)[\s\/]+([\w.]+)/,mozilla:/(?!^.*compatible.*$).*(mozilla)(?:.*?\s+rv[:\s\/]+([\w.]+)|)/},aL=[/webkit.*version[\s\/]+([\w.]+).*(safari)/,/webkit.*(chrome|safari)[\s\/]+([\w.]+)/,/(iphone|ipod|ipad|android).*version[\s\/]+([\w.]+)/,/(blackberry)(?:[\s\d]*|.*version)[\s\/]+([\w.]+)/,aQ.webkit,aQ.opera,aQ.msie,/(?!^.*compatible.*$).*mozilla.*?(firefox)(?:[\s\/]+([\w.]+)|)/,aQ.mozilla],aP=String(aJ&&aJ.userAgent).toLowerCase();
if(aP){for(aM=0,aO=aL.length;aM<aO;aM++){if((aK=aL[aM].exec(aP))){break}}if(aK){if(/[^a-z]/.test(aK[1])){aI=aK[2];aN=aK[1]}else{aI=aK[1];aN=aK[2]}if(aI){aH[aI]={version:String(aN||0)}
}}aK=aQ.webkit.exec(aP)||aQ.opera.exec(aP)||aQ.msie.exec(aP)||aQ.mozilla.exec(aP)||[];if(aK&&aK[1]){aH[aK[1]]={version:String(aK[2]||0)}}}return aH}(aG)),LANG:(function(aH){return((aH&&(aH.language||aH.userLanguage||aH.browserLanguage||aH.systemLanguage))||"en").split(/[^a-zA-Z0-9]+/).shift().toLowerCase()
}(aG)),OS:(function(aO){var aH={},aL=aO||{},aM,aN,aK,aP=String(aL.platform).toLowerCase(),aI=String(aL.userAgent).toLowerCase(),aJ=String(aL.appVersion).toLowerCase(),aQ=[{s:"iphone",p:aP},{s:"ipod",p:aP},{s:"ipad",p:aI},{s:"blackberry",p:aI},{s:"android",p:aI},{s:"mac",p:aP},{s:"win",p:aP},{s:"linux",p:aP},{s:"x11",p:aJ}];
for(aM=0,aN=aQ.length;aM<aN;aM++){aK=aQ[aM];if(~aK.p.indexOf(aK.s)){aH[aK.s]=true}}if(aH.android&&!~aI.indexOf("mobile")){aH.androidtablet=true}if(aH.ipad||aH.androidtablet){aH.tablet=true
}aH.toString=function(){var aR=[],aS;for(aS in aH){if(aH[aS]===true){aR.push(aS)}}return aR.join("/")};return aH}(aG)),Global:(function(){var aH=(new Function("return this;"))();
if(!ao||typeof ao!=="object"||!("setTimeout" in ao)){ao=this||aH||{}}return this||aH||{}}()),noop:function(){},tmp:{},Internal:{getMagicNumber:(function(aH){var aJ=0,aI=+aH;
return function(){var aK=aI+(aJ++);if(!isFinite(aK)||isNaN(aK)){aJ=aI=aK=0}return aK}}("0xC26BEB642C0A")),getExportObject:function(aK){var aJ,aL,aH;if(aK){if(q.isNonBrowser){aJ=an||ao
}else{aJ=(D(ao)&&ao)||(D(an)&&an)||am.currentWindow()}if(!aJ&&typeof window!=="undefined"&&D(window)){aJ=window}if(aJ){do{aL=P(am,"")}while(aL in aJ);aJ[aL]=1;aH=(new Function("try{return "+aL+"===1;}catch(e){}"))();
try{delete aJ[aL]}catch(aI){try{aJ[aL]=void 0}catch(aI){}}if(!aH){aJ=an}}}if(!aJ){if(q.isNodeJS){if(typeof module==="object"&&typeof module.exports==="object"){aJ=module.exports
}else{if(typeof exports==="object"){aJ=exports}else{aJ=ao}}}else{aJ=ao}if(!aJ){aJ=ao||an||am.currentWindow()}}return aJ},ScriptImplementation:a},update:A,Pot:am})
}(typeof navigator!=="undefined"&&navigator||{}));q=am.System;aD=am.Plugin;G=am.toString;c=am.Browser;ac=am.LANG;ax=am.OS;an=am.Global;n=am.noop;W=am.tmp;B=am.Internal;
A(q,(function(){var aL={},aJ,aH,aG,aI;aL.isWaitable=false;if(typeof window==="object"&&"setTimeout" in window&&window.window==window&&typeof document==="object"&&document.nodeType>0&&typeof document.documentElement==="object"){aL.isWebBrowser=true;
if(window.location&&/^(?:chrome|resource):?$/.test(window.location.protocol)){try{if(typeof Components!=="object"){throw false}S=Components.classes;O=Components.interfaces;
K=Components.results;J=Components.utils;aL.isWaitable=true;aL.hasComponents=true;if(c.firefox||c.mozilla){aL.isFirefoxExtension=true}}catch(aK){O=S=K=J=null}}}else{aL.isNonBrowser=true;
if(typeof process!=="undefined"&&process&&process.version&&typeof require==="function"&&(typeof exports==="object"||(typeof module==="object"&&typeof module.exports==="object"))){aL.isNodeJS=true
}}if(an&&an.ActiveXObject||typeof ActiveXObject!=="undefined"&&ActiveXObject){aL.hasActiveXObject=true}if(!aL.isFirefoxExtension){if(c.chrome||c.webkit||c.safari){if(typeof chrome==="object"&&typeof chrome.extension==="object"){aL.isChromeExtension=true
}else{if(typeof safari==="object"&&typeof safari.extension==="object"){aL.isSafariExtension=true}}}}if(!aL.isChromeExtension&&!aL.isSafariExtension){if(typeof GM_log==="function"&&typeof GM_xmlhttpRequest==="function"){aL.isGreasemonkey=true
}else{if(typeof require==="function"){try{if("title" in require("windows").browserWindows.activeWindow){aL.isJetpack=true}}catch(aK){}}}if(aL.isWebBrowser&&!aL.isGreasemonkey&&!aL.isFirefoxExtension){aL.isNotExtension=true
}}try{aJ=(new Function("yield(0);"))();if(aJ&&typeof aJ.next==="function"){aL.isYieldable=true}}catch(aK){}try{aG=(typeof BlobBuilder!=="undefined")?BlobBuilder:(typeof MozBlobBuilder!=="undefined")?MozBlobBuilder:(typeof WebKitBlobBuilder!=="undefined")?WebKitBlobBuilder:(typeof MSBlobBuilder!=="undefined")?MSBlobBuilder:null;
if(!aG||typeof aG!=="function"||typeof aG.prototype.append!=="function"||typeof aG.prototype.getBlob!=="function"){aG=null}else{aL.BlobBuilder=aG;if(aG&&typeof MozBlobBuilder!=="undefined"&&aG===MozBlobBuilder){aL.isMozillaBlobBuilder=true
}}}catch(aK){}try{aI=(typeof URL!=="undefined")?URL:(typeof webkitURL!=="undefined")?webkitURL:null;if(!aI||typeof aI.createObjectURL!=="function"){aI=null}else{aL.BlobURI=aI
}}catch(aK){}aH=[];if(typeof Worker==="function"){aH.push([Worker,"Worker"])}if(typeof ChromeWorker==="function"){aH.push([ChromeWorker,"ChromeWorker"])}while(aH.length){(function(){var aY=aH.shift(),aO=aY[0],aX=aY[1],aQ="has"+aX,aZ="can"+aX+"DataURI",aS="can"+aX+"BlobURI",aP="can"+aX+"PostObject",aN,aM,aW,aV,aR;
aN=function(){return 1};aM={a:function(){return aN()}};try{if(typeof aO.prototype.postMessage==="function"){aL[aQ]=true;aW=new aO("data:application/javascript;base64,b25tZXNzYWdlPWZ1bmN0aW9uKGUpe3Bvc3RNZXNzYWdlKChlJiZlLmRhdGEmJigodHlwZW9mIGUuZGF0YS5hPT09J2Z1bmN0aW9uJyYmZS5kYXRhLmEoKSl8fGUuZGF0YSkpKzEpfQ==");
aW.onmessage=function(a1){if(a1){switch(a1.data){case (aM.a()+1):q[aP]=true;case (aM+1):case"x1":q[aZ]=true}}try{aW.terminate()}catch(a0){}};try{aW.postMessage(aM)
}catch(aU){aW.postMessage("x")}}}catch(aT){}if(aL[aQ]&&aL.BlobBuilder&&aL.BlobURI){try{aV=new aL.BlobBuilder();aV.append('onmessage=function(e){postMessage((e&&e.data&&((typeof e.data.a==="function"&&e.data.a())||e.data))+1)}');
aR=new aO(aL.BlobURI.createObjectURL(aV.getBlob()));aR.onmessage=function(a1){if(a1){switch(a1.data){case (aM.a()+1):q[aP]=true;case (aM+1):case"x1":q[aS]=true}}try{aR.terminate()
}catch(a0){}};try{aR.postMessage(aM)}catch(aU){aR.postMessage("x")}}catch(aT){}}}())}return aL}()));(function(aI){var aH=0,aG=aI.length,aJ={};for(;aH<aG;aH++){(function(){var aL=aI[aH],aK=aL.toLowerCase();
aJ[aq(aL)]=aK;am["is"+aL]=(function(){switch(aK){case"error":return function(aM){return(aM!=null&&(aM instanceof Error||aa(aM)===aK))||false};case"date":return function(aM){return(aM!=null&&(aM instanceof Date||aa(aM)===aK))||false
};default:return function(aM){return aa(aM)===aK}}}())}())}am.update({typeOf:function(aK){return(aK==null)?String(aK):(aJ[Z.call(aK)]||"object")},typeLikeOf:function(aL){var aK=aa(aL);
if(aK!=="array"&&af(aL)){aK="array"}return aK}})}("Boolean Number String Function Array Date RegExp Object Error".split(" ")));al=am.isBoolean;E=am.isNumber;aw=am.isString;
aj=am.isFunction;b=am.isArray;k=am.isDate;ae=am.isRegExp;w=am.isObject;d=am.isError;af=am.isArrayLike;aa=am.typeOf;T=am.typeLikeOf;(function(aG){A(B,{callInBackground:{flush:function(aI){var aH=this.byEvent||this.byTick||this.byTimer;
aH(aI)},byEvent:(function(){var aI;if(q.isNonBrowser||q.isNodeJS||typeof window!=="object"||typeof document!=="object"||typeof Image!=="function"||window.opera||c.opera||typeof document.addEventListener!=="function"){return false
}try{if(typeof(new Image()).addEventListener!=="function"){return false}}catch(aH){return false}aI="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
return function(aN){var aJ,aL,aK=new Image();aL=function(){try{aK.removeEventListener("load",aL,false);aK.removeEventListener("error",aL,false)}catch(aO){}if(!aJ){aJ=true;
aN()}};aK.addEventListener("load",aL,false);aK.addEventListener("error",aL,false);try{aK.src=aI}catch(aM){this.byEvent=this.byTimer}}}()),byTick:(function(){if(!q.isNodeJS||typeof process!=="object"||typeof process.nextTick!=="function"){return false
}return function(aH){process.nextTick(aH)}}()),byTimer:function(aI,aH){return setTimeout(aI,aH||0)}},setTimeout:function(aH,aJ){try{return t.byTimer(aH,aJ||0)}catch(aI){}},clearTimeout:function(aI){try{return clearTimeout(aI)
}catch(aH){}},setInterval:function(aH,aJ){try{return setInterval(aH,aJ||0)}catch(aI){}},clearInterval:function(aI){try{return clearInterval(aI)}catch(aH){}}});t=B.callInBackground;
R=B.setTimeout;H=B.clearTimeout;am.update({Cc:S,Ci:O,Cr:K,Cu:J,StopIteration:(function(){var aH=A(function(){return aH},{NAME:aG,toString:G});aH.prototype={constructor:aH,NAME:aH.NAME,toString:aH.toString};
aH.prototype.constructor.prototype=aH.constructor.prototype;return new aH()}()),isStopIter:function(aH){if(!aH){return false}if(au!==void 0&&(aH==au||aH instanceof au)){return true
}if(typeof l!=="undefined"&&(aH==l||aH instanceof l)){return true}if(this&&this.StopIteration!==void 0&&(aH==this.StopIteration||aH instanceof this.StopIteration)){return true
}if(~Z.call(aH).indexOf(aG)||~String(aH&&aH.toString&&aH.toString()||aH).indexOf(aG)){return true}if(d(aH)&&aH[aG]&&!(aG in aH[aG])&&!d(aH[aG])&&az(aH[aG])){return true
}return false},isIterable:function(aH){return !!(aH&&aj(aH.next)&&(~am.getFunctionCode(aH.next).indexOf(aG)||am.isNativeCode(aH.next)))},isScalar:function(aH){return aH!=null&&(aw(aH)||E(aH)||al(aH))
},isArguments:function(aI){var aH=false;if(aI){if(Z.call(aI)=="[object Arguments]"){aH=true}else{try{if("callee" in aI&&typeof aI.length==="number"){aH=true}}catch(aJ){}}}return aH
},isArrayLike:function(aI){var aH;if(!aI){return false}if(b(aI)||aI instanceof Array||aI.constructor===Array){return true}aH=aI.length;if(!E(aH)||(!w(aI)&&!b(aI))||aI===am||aI===an||aI===ao||D(aI)||av(aI)||X(aI)){return false
}if(aI.isArray||am.isArguments(aI)||aC(aI)||((typeof aI.item==="function"||typeof aI.nextNode==="function")&&aI.nodeType!=3&&aI.nodeType!=4)||(0 in aI&&((aH-1) in aI))||ab.test(Z.call(aI))){return true
}else{return false}},isDeferred:function(aH){return aH!=null&&((aH instanceof h)||(aH.id!=null&&aH.id===h.fn.id&&aH.NAME!=null&&aH.NAME===h.fn.NAME))},isIter:function(aH){return aH!=null&&((aH instanceof v)||(aH.id!=null&&aH.id===v.fn.id&&aH.NAME!=null&&aH.NAME===v.fn.NAME&&typeof aH.next==="function"))
},isWorkeroid:function(aH){return aH!=null&&((aH instanceof ai)||(aH.id!=null&&aH.id===ai.fn.id&&aH.NAME!=null&&aH.NAME===ai.fn.NAME))},isPercentEncoded:function(aH){return C.test(aH)
},isNumeric:function(aH){return(aH==null||(aH===""||(aH==""&&aH&&aH.constructor===String))||(typeof aH==="object"&&aH.constructor!==Number))?false:!isNaN(aH-0)},isInt:function(aH){return E(aH)&&isFinite(aH)&&aH%1==0
},isNativeCode:function(aI){var aH;if(!aI){return false}if(am.getFunctionCode){aH=am.getFunctionCode(aI)}else{if(aj(aI)){aH=I.call(aI)}else{if(aI.toString){aH=aI.toString()
}else{aH=""+aI}}}return !!(~aH.indexOf("[native code]")&&aH.length<=92)},isBuiltinMethod:function(aH){return aH!=null&&(typeof aH==="function"||aH.constructor===Function)&&am.isNativeCode(aH)
},isWindow:function(aH){return aH!=null&&typeof aH==="object"&&"setInterval" in aH&&aH.window==aH&&!!(aH.location||aH.screen||aH.navigator||aH.document)},isDocument:function(aH){return aH!=null&&typeof aH==="object"&&"getElementById" in aH&&aH.nodeType>0&&typeof aH.documentElement==="object"
},isElement:function(aH){return aH!=null&&typeof aH==="object"&&aH.nodeType==1},isNodeLike:function(aH){return aH!=null&&typeof aH==="object"&&aH.nodeType>0},isNodeList:function(aH){var aI;
if(aH&&E(aH.length)){aI=typeof aH.item;if(w(aH)){return aI==="function"||aI==="string"}else{if(aj(aH)){return aI==="function"}}}return false}})}("StopIteration"));
if(typeof l==="undefined"||!l){l=am.StopIteration}au=am.StopIteration;af=am.isArrayLike;r=am.isNumeric;az=am.isStopIter;L=am.isDeferred;x=am.isHash;aE=am.isIter;
e=am.isWorkeroid;D=am.isWindow;av=am.isDocument;X=am.isElement;aC=am.isNodeList;y=am.isNodeLike;(function(){var aK,aP,aG,aN,aI,aO;aN="window contentWindow defaultView parentWindow content top".split(" ");
aI="ownerDocument document".split(" ");function aJ(aQ){var aR;if(aQ){if(D(aQ)){aR=aQ}else{aF(aN,function(aT){try{if(D(aQ[aT])){aR=aQ[aT]}if(aQ[aT].content&&D(aQ[aT].content)){aR=aQ[aT].content
}}catch(aS){}if(aR){throw au}})}}return aR}function aH(aQ){var aR;if(aQ){if(av(aQ)){aR=aQ}else{aF(aI,function(aT){try{if(av(aQ[aT])){aR=aQ[aT]}if(aQ[aT].content&&av(aQ[aT].content.document)){aR=aQ[aT].content.document
}}catch(aS){}if(aR){throw au}})}}return aR}aF([ao,an,typeof window==="undefined"?this:window,typeof document==="undefined"?this:document],function(aQ){if(aQ){if(!aK){aK=aJ(aQ)
}if(!aP){aP=aH(aQ)}if(aK&&aP){throw au}}});if(q.isNodeJS){aG=(typeof process==="object"&&process.mainModule&&process.mainModule.filename)||(typeof __filename==="string"&&__filename)
}else{if(aP){try{aG=aP.documentURI||aP.baseURI||aP.URL}catch(aL){}}if(!aG&&aK){try{aG=aK.location&&aK.location.href||aK.location}catch(aL){try{aO=aP.createElement("a");
aO.href="";aG=aO.href}catch(aM){}}}}A(q,{currentWindow:aK||{},currentDocument:aP||{},currentURI:Q(aG,true)});am.update({currentWindow:function(){return q.currentWindow
},currentDocument:function(){return q.currentDocument},currentURI:function(){return q.currentURI}})}());A(q,{isBuiltinObjectKeys:am.isBuiltinMethod(Object.keys),isBuiltinArrayForEach:am.isBuiltinMethod(M.forEach),isBuiltinArrayIndexOf:am.isBuiltinMethod(M.indexOf),isBuiltinArrayLastIndexOf:am.isBuiltinMethod(M.lastIndexOf)});
am.update({keys:(function(){var aI=!({toString:null}).propertyIsEnumerable("toString"),aH=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],aG=aH.length;
return function(aK){var aL=[],aQ=typeof aK,aN,aJ,aM;if(aQ!=="object"&&aQ!=="function"||aK===null){return aL}if(af(aK)){aN=aK.length;for(aM=0;aM<aN;aM++){if(aM in aK){aL[aL.length]=aM
}}}else{if(q.isBuiltinObjectKeys){try{aL=Object.keys(aK);return aL}catch(aO){}}for(aJ in aK){try{if(V.call(aK,aJ)){aL[aL.length]=aJ}}catch(aP){}}if(aI){for(aM=0;
aM<aG;aM++){try{if(V.call(aK,aH[aM])){aL[aL.length]=aH[aM]}}catch(aR){}}}}return aL}}()),globalEval:A(function(aH){var aK=am.globalEval,aG,aO,aI,aN,aM,aL;if(aH&&aK.patterns.valid.test(aH)){if(q.hasActiveXObject){if(typeof execScript!=="undefined"&&execScript&&aK.test(execScript)){return execScript(aH,aK.language)
}else{aI="execScript";if(aI in ao&&aK.test(aI,ao)){return ao[aI](aH,aK.language)}else{if(aI in an&&aK.test(aI,an)){return an[aI](aH,aK.language)}}}}aI="eval";if(aI in ao&&aK.test(aI,ao)){aO=ao
}else{if(aI in an&&aK.test(aI,an)){aO=an}}if(q.isGreasemonkey){return am.localEval(aH,aO||an)}if(aO){if(aO[aI].call&&aO[aI].apply&&aK.test(aI,aO,true)){return aO[aI].call(aO,aH)
}if(aK.worksForGlobal==null){aK.worksForGlobal=false;do{aG=P(am,"")}while(aG in aO);aO[aG]=1;aO[aI]("try{delete "+aG+";}catch(e){}");if(!(aG in aO)){aK.worksForGlobal=true
}try{delete aO[aG]}catch(aJ){try{aO[aG]=void 0}catch(aJ){}}}if(aK.worksForGlobal){return aO[aI](aH)}}if(q.isNodeJS){return aK.doEvalInGlobalNodeJS(aI,aH)}if(q.isWebBrowser&&typeof document==="object"){aN=document;
aL=aN.getElementsByTagName("head");if(aL&&aL[0]){aL=aL[0]}else{aL=aN.head||aN.body||aN.documentElement}if(aL){aM=aN.createElement("script");aM.type="text/javascript";
aM.defer=aM.async=false;if(q.hasActiveXObject&&"text" in aM){aM.text=aH}else{aM.appendChild(aN.createTextNode(aH))}aL.appendChild(aM);aL.removeChild(aM)}}else{return am.localEval(aH,aO||an)
}}},{language:"JavaScript",patterns:{valid:/\S/},test:function(aI,aK,aH){var aG=false,aL="(void 0);";try{if(aK){if(aH){aK.func.call(null,aL)}else{aK.func(aL)}}else{if(aH){aI.call(null,aL)
}else{aI(aL)}}aG=true}catch(aJ){aG=false}return aG},doEvalInGlobalNodeJS:function(aJ,aH){var aO,aL=am.globalEval.doEvalInGlobalNodeJS,aI,aM,aN=an,aG;if(aL.worksForGlobal==null){try{aL.worksForGlobal=false;
do{aG=P(am,"")}while(aG in aN);aN[aG]=1;aN[aJ].call(aN,"try{delete "+aG+";}catch(e){}");if(!(aG in aN)){aL.worksForGlobal=true}else{try{delete aN[aG]}catch(aK){}}}catch(aK){aL.worksForGlobal=false
}}if(aL.worksForGlobal){aO=aN[aJ].call(aN,aH)}else{if(typeof require!=="undefined"&&require){aI=require("vm");if(aI&&aI.createScript){aM=aI.createScript(aH);if(aM&&aM.runInThisContext){aO=aM.runInThisContext()
}}}}return aO}}),localEval:A(function(aL,aH){var aK=am.globalEval,aJ=am.localEval,aI,aG;if(aL&&aK.patterns.valid.test(aL)){aI="eval";if(aI in ao&&aK.test(aI,ao)){aG=ao
}else{if(aI in an&&aK.test(aI,an)){aG=an}}if(aG&&aG[aI]){if(aG[aI].call&&aG[aI].apply&&aK.test(aI,aG,true)){return aJ.doEval(aL,aG,aH)}else{if(aH==null){return aJ.doEval(aL,aG,aH,true)
}}}return aJ.doEvalByFunc(aL,aH)}},{isLiteral:/^\s*(?!(?:return|var|if|do|for|try|while)\b\s*)[\w$.!"'~(){}[\]]/,isFunc:/^\s*function\b[^{]*[{][\s\S]*[}][^}]*$/,clean:/^(?:[{[(']{0}[')\]}]+|)[;\s\u00A0]*|[;\s\u00A0]*$/g,doEval:function(){try{return arguments[1]["eval"].call(arguments[2]||arguments[1],arguments[0])
}catch(aG){}if(arguments[3]){return arguments[1]["eval"](arguments[0])}else{return am.localEval.doEvalByFunc(arguments[0],arguments[2]||arguments[1])}},doEvalByFunc:function(aI,aG){var aH=am.localEval,aJ;
if(aH.isFunc.test(aI)||(aH.isLiteral.test(aI)&&!am.hasReturn(aI))){aJ="return("+String(aI).replace(aH.clean,"")+");"}else{aJ=aI}return(new Function("return(function(){"+aJ+"}).call(this);")).call(aG)
}}),getFunctionCode:function(aG){if(aj(aG)){return I.call(aG)}if(aw(aG)){if(aG.toString){return aG.toString()}return""+aG}return""},isWords:(function(){var aH=/\s/,aG=/[^$\w\u0100-\uFFFF]/;
return function(aI){return aw(aI)&&!aH.test(aI)&&!aG.test(aI)}}()),isNL:(function(){var aG=/[^\r\n\u2028\u2029]/;return function(aH){return aw(aH)&&!aG.test(aH)}
}()),format:(function(){var aG,aH=/#(\d+)/g,aI=function(aJ,aK){return aG&&aG[+aK]};return function(aJ){var aK=Q(aJ,true);aG=aA(arguments);if(!aG||!aG.length){return aK
}aH.lastIndex=0;return aK.replace(aH,aI)}}()),tokenize:(function(){var aJ={TOKEN:new RegExp("(/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\[\\s\\S]|[^\"\\r\\n\\\\])*\"|'(?:\\\\[\\s\\S]|[^'\\r\\n\\\\])*'|(^|[-!%&*+,/:;<=>?[{(^|~])(?:((?![\\r\\n])\\s+|(?:\\r\\n|\\r|\\n))|\\s*)(?:((?:/(?![*])(?:\\\\.|[^/\\r\\n\\\\])+/)(?:[gimy]{0,4}|\\b))(?=\\s*(?:(?!\\s*[/\\\\<>*+%`^\"'\\w$-])[^/\\\\<>*+%`^'\"@({[\\w$-]|===?|!==?|[|][|]|[&][&]|/(?:[*]|/)|[,.;:!?)}\\]\\r\\n]|$)))|<(\\w+(?::\\w+|))\\b[^>]*>(?:(?!</\\5>(?!\\s*['\"]))[\\s\\S])*</\\5>|<>[\\s\\S]*?</>|>>>=?|<<=|===|!==|>>=|[+][+](?=[+])|[-][-](?=[-])|[=!<>*+/&|^-]=|[&][&]|[|][|]|[+][+]|[-][-]|<<|>>|0(?:[xX][0-9a-fA-F]+|[0-7]+)|\\d+(?:[.]\\d+)?(?:[eE][+-]?\\d+)?|[1-9]\\d*|[-+/%*=&|^~<>!?:,;@()\\\\[\\].{}]|(?:(?![\\r\\n])\\s)+|(?:\\r\\n|\\r|\\n)|[^\\s+/%*=&|^~<>!?:,;@()\\\\[\\].{}'\"-]+)","g"),LINEBREAK:/^(?:\r\n|\r|\n)/,NOTSPACE:/[\S\r\n]/,COMMENTS:/^\/{2,}[\s\S]*$|^\/[*][\s\S]*?[*]\/$/},aG=8192,aI=0,aH=".",aK={};
return function(aQ){var aP=[],aL,aM,aO,aN=am.getFunctionCode(aQ);if(aN){if((aH+aN) in aK){return aK[aH+aN]}aJ.TOKEN.lastIndex=0;while((aL=aJ.TOKEN.exec(aN))!=null){aM=aL[1];
if(!aJ.NOTSPACE.test(aM)||aJ.COMMENTS.test(aM)){continue}if(aL[4]){if(aL[2]){aP[aP.length]=aL[2]}if(aL[3]&&aJ.NOTSPACE.test(aL[3])){aP[aP.length]=aL[3]}aP[aP.length]=aL[4]
}else{aO=aP[aP.length-1];if(!aO||!aJ.LINEBREAK.test(aO)||!aJ.LINEBREAK.test(aM)){aP[aP.length]=aM}}}if(aI<aG){aK[aH+aN]=aP;aI++}}return aP}}()),joinTokens:(function(){var aH=/^[^\s+\/%*=&|^~<>!?:,;@()\\[\].{}'"-]+$/,aG=/^[-+]+$/;
return function(aN){var aQ=[],aM,aK,aP,aJ,aO,aL,aI;if(b(aN)){aM=aN.length;for(aL=0;aL<aM;aL++){aI=aN[aL];if(!aK){aQ[aQ.length]=aI}else{aJ="";aO="";if(aI==="in"){if(!aP){aJ=" "
}aO=" "}else{if(aG.test(aI)){if(!aP&&aG.test(aK)){aJ=" "}}else{if(aH.test(aK.slice(-1))&&aH.test(aI.charAt(0))){aJ=" "}}}if(aP===" "){aJ=""}aQ[aQ.length]=aJ+aI+aO
}aK=aI;aP=aO}}return aQ.join("")}}()),hasReturn:(function(){var aH={STRIP:new RegExp("^\\s*function\\b[^{]*[{]|[}][^}]*$|/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'","g"),RETURN:/(?:^|\s|[^\w$.]\b)return(?:[^\w$.]\b|\s|$)/,FUNC:/(?:^|\s|[^\w$.]\b)function(?:[^\w$.]\b|\s|)[^{}]*$/,PREREGEX:/(?:^|[,;:!?=&|!([]|[^\w$.<>%'"@){}\]])\s*\/$/,REGEXP:/(\/(?![*])(?:\\.|[^\/\r\n\\])+\/)$/,E4X:/(?:^|[(){}<>&|%*~^!?:;,\/[\]=+-])\s*<([^\s>]*)[^>]*>$/,TAG:/<([^\s>]*)[^>]*>$/},aG=8192,aJ=0,aI={};
return function(aN){var aQ=false,aL,aR,aT,aK,aS,aY,aZ,a0,aV,aP,aO,aU,aX,aM,a1,aW;aL=am.getFunctionCode(aN);if(aL in aI){return aI[aL]}aK=aL;aL=aL.replace(aH.STRIP,"");
if(aL&&aH.RETURN.test(aL)){aV=0;aP=0;aU="";aO="";aS="";a1="";aW=false;aM=false;aZ=aL.length;for(aY=0;aY<aZ;aY++){a0=aL.charAt(aY);if(aU&&a0!=="/"){aU+=a0;continue
}switch(a0){case"{":if(aP===0&&aH.FUNC.test(aS)){aV++}break;case"}":if(aP===0&&aV>0){aV--}break;case"/":if(!aW&&aV===0){if(aP>0){aO+=a0}else{if(!aU){aS+=a0;if(aH.PREREGEX.test(aS)){aU=a0;
aS=aS.slice(0,-1)+" "}}else{if(aU){aU+=a0;if(aH.REGEXP.test(aU)){aU=""}}}}}break;case"-":if(aV===0){if(aP>0){aO+=a0;if(aO.slice(-4)==="<!--"){aW=true;aO=aO.slice(0,-4)+" "
}}else{aS+=a0}}break;case"[":if((aM||!aW)&&aV===0){if(aP>0){aO+=a0;if(aO.slice(-9).toUpperCase()==="<![CDATA["){aW=true;aM=true;aO=aO.slice(0,-9)+" "}}else{aS+=a0
}}break;case"]":case"<":if((aM||!aW)&&aV===0){if(aP>0){aO+=a0}else{aS+=a0}}break;case">":if(aV===0){if(aP===0){aS+=a0;if(aH.E4X.test(aS)){aX=aS.match(aH.TAG);aP++;
aS=aS.slice(0,-aX[0].length)+" ";a1=aX[1];aT=new RegExp("</"+N(a1)+">$");aR=new RegExp("<"+N(a1)+"\\b[^>]*>$")}}else{if(aP>0){if(aW){if((!aM&&aO.slice(-2)==="--")||(aM&&aO.slice(-2)==="]]")){aW=aM=false;
aO=aO.slice(0,-2)}aO+=" ";break}aO+=a0;if(aT&&aT.test(aO)){aP--;if(aP===0){a1=aO=""}}else{if(aR&&aR.test(aO)){aP++}}}}}break;default:if(!aW&&aV===0){if(aP>0){aO+=a0
}else{aS+=a0}}}}if(aH.RETURN.test(aS)){aQ=true}}if(aJ<aG){aI[aK]=aQ;aJ++}return aQ}}()),override:function(aG,aI,aL,aK){var aJ=[],aH;if(aG&&aI&&(aL||aK)){if(aK){if(aj(aL)){aH=aL;
aL=aK;aK=aH}}else{if(aj(aL)){aK=aL}}if(ae(aL)){aL=[aL,""]}else{if(aw(aL)){aL=[new RegExp(N(aL),"g"),""]}}aF(aA(aI),function(aM){if(aM){aF(aG,function(aN,aO){if(aj(aN)&&((ae(aM)&&aM.test(aO))||aM==aO)){aJ[aJ.length]=aO
}})}});aF(aJ,function(aR){var aQ,aO,aP,aN,aM;if(V.call(aG,aR)){aQ=aG[aR];aM=!!(aG[aR]&&aG[aR].apply&&typeof aG[aR].apply===typeof aG[aR].call);if(aL){aO=aP=am.getFunctionCode(aQ);
aN=aA(aL);if(!b(aN[0])){aN=[aN]}aF(aN,function(aS){var aV,aU;try{aV=aS[0];aU=aS[1];if(aw(aV)){aV=new RegExp(N(aV),"g")}if(!aw(aU)){aU=""}aO=aO.replace(aV,aU)}catch(aT){}});
if(aP!==aO){aQ=am.localEval(aO,aG)}}aG[aR]=A(function(){var aT=this,aS=arguments;if(aj(aK)){return aK.call(aT,function(){var aU=arguments;if(aU.length===1&&aU[0]&&am.isArguments(aU[0])&&aU[0]===aS){if(aM){return aQ.apply(aT,aA(aU[0]))
}else{return z(aG,aR,aA(aU[0]))}}else{if(aM){return aQ.apply(aT,aA(aU))}else{return z(aG,aR,aA(aU))}}},aS,aT,aR)}else{return aQ.apply(aT,aS)}},aG[aR]);if(!aG[aR].overridden||E(aG[aR].overridden)){A(aG[aR],{overridden:((aG[aR].overridden||0)-0)+1})
}}})}return aG},getErrorMessage:function(aG,aH){var aI;if(d(aG)){aI=String(aG.message||aG.description||(aG.toString&&aG.toString())||aG)}return Q(aI)||Q(aH)||"error"
}});function A(){var aI=arguments,aH=aI.length,aJ=1,aM,aL,aG;if(aH===aJ){aM=this||{};aJ--}else{aM=aI[aJ-1]}if(aM){do{aG=aI[aJ];if(aG){for(aL in aG){try{aM[aL]=aG[aL]
}catch(aK){}}}}while(++aJ<aH)}return aM}function aA(aI,aH){var aN,aK,aG,aL=aA,aJ;if(aL.canNodeList==null){if(q.currentDocument){try{aJ=u.call(q.currentDocument.documentElement.childNodes)[0].nodeType;
aJ=null;aL.canNodeList=true}catch(aM){aL.canNodeList=false}}}if(aI==null){aN=[aI]}else{switch(aa(aI)){case"array":aN=aI.slice();break;case"object":if(af(aI)){if(!aL.canNodeList&&aC(aI)){aN=[];
aK=0;aG=aI.length;do{aN[aK]=aI[aK]}while(++aK<aG)}else{aN=u.call(aI)}break}default:aN=u.call(ay.call([],aI))}}if(aH>0){aN=aN.slice(aH)}return aN}function ar(){return +new Date
}function Q(aI,aJ){var aH="",aK,aG=arguments.length;if(aI!==null){switch(typeof aI){case"string":case"number":case"xml":aH=aI;break;case"boolean":if(aG>=2&&!aJ){aH=aI
}else{if(!aJ){aH=aI?1:""}}break;case"object":if(aI){aK=aI.constructor;if(aK===String||aK===Number||(typeof XML!=="undefined"&&aK===XML)||(typeof Buffer!=="undefined"&&aK===Buffer)){aH=aI
}else{if(aK===Boolean){if(aG>=2&&!aJ){aH=aI}else{if(!aJ){aH=(aI==true)?1:""}}}}}}}return aH.toString()}function ak(aI,aJ,aG){var aH;if(aJ){aH=new RegExp(["^[","]+|[","]+$"].join(N(aJ)),"g"+(aG?"i":""))
}else{aH=Y}return Q(aI,true).replace(aH,"")}function N(aG){return Q(aG,true).replace(ap,"\\$1")}function z(){var aO=aA(arguments),aQ=aO.length,aK,aG,aJ,aP,aH,aR,aL,aM,aI;
try{switch(aQ){case 0:throw false;case 1:aG=aO[0];break;case 2:aK=aO[0];aG=aO[1];break;case 3:aK=aO[0];aG=aO[1];aJ=aA(aO[2]);break;default:aK=aO[0];aG=aO[1];aJ=aA(aO,2)
}if(!aG){throw aG}if(!aK&&aw(aG)){aK=(aK&&aK[aG]&&aK)||(ao&&ao[aG]&&ao)||(an&&an[aG]&&an)}if(aw(aG)){aP=true;if(!aK){aK=(ao||an)}}}catch(aN){aI=aN;throw d(aI)?aI:new Error(aI)
}if(aj(aG.apply)&&aj(aG.call)){if(aJ==null||!aJ.length){return aG.call(aK)}else{return aG.apply(aK,aJ)}}else{aH=aJ||[];aM=aH.length||0;if(aP){switch(aM){case 0:return aK[aG]();
case 1:return aK[aG](aH[0]);case 2:return aK[aG](aH[0],aH[1]);case 3:return aK[aG](aH[0],aH[1],aH[2])}}else{switch(aM){case 0:return aG();case 1:return aG(aH[0]);
case 2:return aG(aH[0],aH[1]);case 3:return aG(aH[0],aH[1],aH[2])}}aR=[];for(aL=0;aL<aM;aL++){aR[aR.length]="p["+aL+"]"}return(new Function("e,o,m,p",["return e?o[m](","):m(",");"].join(aR.join(","))))(aP,aK,aG,aH)
}}function p(aL){var aG=arguments,aJ=p,aI,aH;try{if(!aJ.firebug("log",aG)){if(!q.hasComponents){throw false}aH=S["@mozilla.org/consoleservice;1"].getService(O.nsIConsoleService);
aH.logStringMessage(String(aL))}}catch(aK){if(typeof console!=="undefined"&&console){aI=console.debug||console.dir||console.log}else{if(typeof opera!=="undefined"&&opera&&opera.postError){aI=opera.postError
}else{if(typeof GM_log==="function"){aI=GM_log}else{aI=function(aM){throw aM}}}}try{if(aI.apply){aI.apply(aI,aG)}else{throw aI}}catch(aK){try{aI(aL)}catch(aK){try{console.log(aL)
}catch(aK){try{aJ.divConsole(aL)}catch(aK){}}}}}return aL}A(p,{firebug:function(aM,aI){var aG=false,aK,aH;try{if(!q.hasComponents){throw false}aK=am.XPCOM.getMostRecentWindow();
if(!aK){throw aK}if(aK.FirebugConsole&&aK.FirebugContext){aH=new aK.FirebugConsole(aK.FirebugContext,aK.content);aH[aM].apply(aH,aI);aG=true}else{if(aK.Firebug&&aK.Firebug.Console){try{aK.Firebug.Console.logFormatted.call(aK.Firebug.Console,aA(aI),aK.FirebugContext,aM);
aG=true}catch(aL){}}}}catch(aJ){}return aG},dump:function(aJ){var aI,aH=p.dump,aG;aG=function(aK){return(aK==null)?String(aK):aK.toString?aK.toString():String(aK)
};if(aJ==null){return String(aJ)}if(typeof uneval==="function"){return uneval(aJ)}else{if(typeof aJ.toSource==="function"){return aJ.toSource()}}aI=[];switch(T(aJ)){case"array":aF(aJ,function(aK){aI[aI.length]=aH(aK)
});return"["+aI.join(", ")+"]";case"object":if(y(aJ)||D(aJ)||av(aJ)){aI[aI.length]=Z.call(aJ)}else{aF(aJ,function(aL,aK){aI[aI.length]=aK+": "+aH(aL)})}return"{"+aI.join(", ")+"}";
case"string":return'"'+aG(aJ)+'"';case"function":return"("+aG(aJ)+")";default:return aG(aJ)}},divConsole:A(function(aH){var aL=p.divConsole,aI,aO,aN,aG,aK,aM;if(q.hasActiveXObject&&typeof document!=="undefined"){aO=document;
aN=aO.documentElement||{};try{aI=(typeof aN.style.maxHeight==="undefined")}catch(aJ){}if(aL.done&&aL.ieConsole){aL.append(aH)}else{if(!aL.msgStack){aL.msgStack=[]
}aL.msgStack.push(aH);if(!aL.done){aL.done=true;h.till(function(){return !!(aO&&aO.body)}).then(function(){var aQ,aP,aR,aS;aQ={border:"1px solid #999",background:"#fff",color:"#333",fontSize:"13px",fontFamily:"monospace",position:"absolute",padding:"10px",margin:"0px",zoom:1};
aS=aO.createElement("div");aP=aS.style;aF(aQ,function(aU,aT){aP[aT]=aU});aP.borderWidth="3px";aP.width="95%";aP.zIndex=9996;aP.left="0px";aP.bottom="0px";aP.zoom=1;
if(aI){aP.height=Math.floor(aN.clientHeight/3.2)+"px"}else{aP.position="fixed";aP.height="25%"}aL.titlebar=aO.createElement("div");aP=aL.titlebar.style;aP.zIndex=9999;
aP.border="0";aP.width="95%";aP.position="relative";aP.margin="2px";aP.fontWeight="bold";aP.color="#333";aP.background="#fff";aP.fontFamily="verdana";aP.zoom=1;aL.titlebar.appendChild(aO.createTextNode("Pot.js Console"));
aL.ieConsole=aS.cloneNode(false);aL.ieConsole.id=aL.ieConsoleId=P(am,"");aP=aL.ieConsole.style;aP.borderWidth="1px";aP.width="95%";aP.height="68%";aP.position="relative";
aP.zIndex=9997;aP.marginTop="3px";aP.padding="5px";aP.whiteSpace="pre";aP.wordWrap="break-word";aP.overflowX="hidden";aP.overflowY="auto";aP.zoom=1;aL.hr=aO.createElement("hr");
aP=aL.hr.style;aP.position="relative";aP.width="100%";aP.border="1px solid #aaa";aP.zIndex=9998;aP.zoom=1;aR=aO.createElement("div");aP=aR.style;aF(aQ,function(aU,aT){aP[aT]=aU
});aP.zIndex=9999;aP.fontFamily="sans-serif";aP.fontWeight="bold";aP.borderWidth="1px";aP.padding="1px 4px";aP.lineHeight=1;aP.right="2px";aP.top="2px";aP.cursor="pointer";
aP.zoom=1;aR.title="close";aR.appendChild(aO.createTextNode("x"));aL.histories=[];aL.historyIndex=0;aL.historyLimit=50;aL.executer=aO.createElement("input");aL.executer.type="text";
aP=aL.executer.style;aP.zIndex=9999;aP.position="relative";aP.display="block";aP.fontFamily="monospace";aP.fontSize="13px";aP.padding="2px";aP.marginTop="5px";aP.width="95.5%";
aP.border="2px solid #999";aP.zoom=1;aG=function(){var aU,aT,aV="95%";aU=aO.body.clientWidth-7;aS.style.width=(aU<=0)?aV:aU+"px";aU=aS.offsetWidth-55;aL.ieConsole.style.width=(aU<=0)?aV:aU+"px";
aT=Math.floor(aN.clientHeight/3.2)+"px";aS.style.height=aT;aK()};aK=function(){var aT=aN.scrollTop+(aN.clientHeight-aS.clientHeight)-7;if(aT>0){aS.style.top=aT+"px"
}};aM=function(){try{aS.parentNode.removeChild(aS);window.dettachEvent("onscroll",aK);window.dettachEvent("onresize",aG);aS=aL.ieConsole=null}catch(aT){}};onKeydown=function(aX){var aU,aV,aT,aW=ak(aL.executer.value);
aX=window.event||aX;if(aX){if(aW&&aX.keyCode==13){try{aU=am.localEval(aW)}catch(aY){aU=am.getErrorMessage(aY)}am.debug(aU);if(aL.histories.length>aL.historyLimit){aL.histories.pop()
}aL.histories.unshift(aW);aL.executer.value="";aL.historyIndex=0}else{if(aX.keyCode==38){aV=aL.histories[aL.historyIndex];aL.historyIndex=Math.max(0,Math.min(aL.histories.length-1,aL.historyIndex+1));
if(aV){aL.executer.value=aV}}else{if(aX.keyCode==40){if(aL.historyIndex-1<0){aL.executer.value="";aL.historyIndex=0}else{aL.historyIndex=Math.max(0,Math.min(aL.histories.length-1,aL.historyIndex-1));
aT=aL.histories[aL.historyIndex];if(aT){aL.executer.value=aT}}}else{aL.historyIndex=0}}}}};if(typeof window!=="undefined"&&window&&window.attachEvent){if(aI){aF({onscroll:aK,onresize:aG},function(aU,aT){window.attachEvent(aT,aU)
})}if(aR.attachEvent){aR.attachEvent("onclick",aM)}if(aL.executer.attachEvent){aL.executer.attachEvent("onkeydown",onKeydown)}}if(aI){h.wait(0.25).then(function(){aS.style.bottom="1px"
}).wait(0.5).then(function(){aS.style.bottom="0px"})}aF([aR,aL.titlebar,aL.ieConsole,aL.executer],function(aT){aS.appendChild(aT)});aO.body.appendChild(aS);aL.append()
})}}}},{append:function(aL){var aJ=this,aH,aI,aG;if(aJ.ieConsole){try{aG=aA(aJ.msgStack||[]);while(aJ.msgStack&&aJ.msgStack.length){aJ.msgStack.pop()}if(arguments.length){aG.push(aL)
}while(aG.length){aH=aG.shift();aI=p.dump(aH);if(aw(aH)&&aI.charAt(0)==='"'&&aI.slice(-1)==='"'){aI=aI.slice(1,-1)}aF([document.createTextNode(aI),aJ.hr.cloneNode(false)],function(aM){aJ.ieConsole.appendChild(aM)
})}R(function(){aJ.ieConsole.scrollTop=aJ.ieConsole.scrollHeight},10)}catch(aK){}}}})});am.update({arrayize:aA,stringify:Q,trim:ak,rescape:N,invoke:z,now:ar,debug:p});
function aF(aK,aP,aH){var aL,aM,aI,aJ,aG,aQ;if(aK){aM=aK.length;try{if(af(aK)){for(aL=0;aL<aM;aL++){if(aL in aK){try{aI=aK[aL]}catch(aN){continue}aP.call(aH,aI,aL,aK)
}}}else{aQ=am.keys(aK);aM=aQ.length;for(aL=0;aL<aM;aL++){aG=aQ[aL];try{aI=aK[aG]}catch(aN){continue}aP.call(aH,aI,aG,aK)}}}catch(aO){aJ=aO;if(!az(aJ)){throw aJ}}}return aK
}function P(aH,aG){return[String((aH&&(aH.NAME||aH.name))||(void 0)),Math.random().toString(36).substring(2),ar()].join(arguments.length>=2?aG:"-")}function aq(aG){return"[object "+aG+"]"
}function U(aJ,aH){var aI,aG;if(aJ&&aH){if(w(aJ.options)){aI=aJ.options}else{if(w(aJ)){aI=aJ}}if(w(aH.options)){aG=aH.options}else{if(w(aH)){aG=aH}}if("async" in aG){aI.async=!!aG.async
}if("speed" in aG&&r(aG.speed)){aI.speed=aG.speed}if("cancellers" in aG){if(!aG.cancellers||!aG.cancellers.length){aG.cancellers=[]}else{if(aI.cancellers&&aI.cancellers.length){aI.cancellers=ay.call([],aA(aI.cancellers),aA(aG.cancellers))
}else{aI.cancellers=aA(aG.cancellers)}}}if("stoppers" in aG){if(!aG.stoppers||!aG.stoppers.length){aG.stoppers=[]}else{if(aI.stoppers&&aI.stoppers.length){aI.stoppers=ay.call([],aA(aI.stoppers),aA(aG.stoppers))
}else{aI.stoppers=aA(aG.stoppers)}}}if("storage" in aG){aI.storage=aG.storage||{}}if(!aI.storage){aI.storage={}}}}(function(){am.update({Deferred:function(){return L(this)?this.init(arguments):new h.fn.init(arguments)
}});h=am.Deferred;A(h,{StopIteration:au,speeds:{limp:2400,doze:1000,slow:100,normal:36,fast:20,rapid:12,ninja:0},states:{success:1,failure:2,fired:3,unfired:4}});
aF(h.states,function(aW,aV){h.states[aW]=aV});A(h,{defaults:{speed:h.speeds.ninja,canceller:null,stopper:null,async:true}});h.fn=h.prototype=A(h.prototype,{constructor:h,id:B.getMagicNumber(),serial:null,chains:[],chained:false,cancelled:false,freezing:false,tilling:false,waiting:false,nested:0,state:null,results:null,destAssign:false,chainDebris:null,options:{},plugins:{},NAME:"Deferred",toString:G,isDeferred:L,init:function(aV){if(!this.serial){this.serial=P(this)
}this.options={};this.plugins={};aG.call(this,aA(aV),h.defaults);A(this,{results:{success:null,failure:null},state:h.states.unfired,chains:[],nested:0,chained:false,cancelled:false,freezing:false,tilling:false,waiting:false,destAssign:false,chainDebris:null});
B.referSpeeds.call(this,h.speeds);return this},speed:function(aY){var aW=this,aV=arguments,aX;if(r(aY)){aX=aY-0}else{if(r(h.speeds[aY])){aX=h.speeds[aY]-0}else{aX=this.options.speed
}}if(this.state===h.states.unfired&&!this.chains.length){if(aV.length===0){return this.options.speed}this.options.speed=aX}else{this.then(function(aZ){if(aV.length===0){return aW.options.speed
}aW.options.speed=aX;return aZ})}return this},async:function(aX){var aW=this,aV=arguments;if(this.state===h.states.unfired&&!this.chains.length){if(aV.length===0){return this.options.async
}this.options.async=!!aX}else{this.then(function(aY){if(aV.length===0){return aW.options.async}aW.options.async=!!aX;return aY})}return this},canceller:function(aW){var aV=arguments;
if(this.state===h.states.unfired&&!this.chains.length){if(aV.length===0){return this.options.cancellers}if(!this.cancelled&&aj(aW)){this.options.cancellers.push(aW)
}}else{this.stopper.apply(this,aV)}return this},stopper:function(aX){var aW=this,aV=arguments;if(this.state===h.states.unfired&&!this.chains.length){this.canceller.apply(this,aV)
}else{this.then(function(aY){if(aV.length===0){return aW.options.stoppers}if(!aW.cancelled&&aj(aX)){aW.options.stoppers.push(aX)}return aY})}return this},then:function(aW,aV){if(!this.chained&&!this.cancelled){this.chains.push({success:aW,failure:aV});
if(this.state&h.states.fired){if(!this.freezing&&!this.tilling&&!this.waiting){aL.call(this)}}}B.referSpeeds.call(this,h.speeds);return this},rescue:function(aV){return this.then(null,aV)
},ensure:function(aV){return this.then(aV,aV)},cancel:function(){if(!this.cancelled){this.cancelled=true;switch(this.state){case h.states.unfired:aN.call(this,"cancellers");
if(this.state===h.states.unfired){this.raise(new Error(this))}break;case h.states.success:aN.call(this,"stoppers");if(L(this.results.success)){this.results.success.cancel()
}break;case h.states.failure:aN.call(this,"stoppers")}}return this},begin:function(){var aX=this,aV,aW=aA(arguments),aY;aV=aW[0];if(aW.length>1){aY=aW}else{aY=aW[0]
}if(!this.cancelled&&this.state===h.states.unfired){if(L(aV)&&!aV.cancelled){aV.ensure(function(){aX.begin.apply(this,arguments)})}else{this.options.cancellers=[];
aT.call(this,aY)}}B.referSpeeds.call(this,h.speeds);return this},raise:function(){var aW=aA(arguments),aV,aX;aV=aW[0];if(!d(aV)){aW[0]=new Error(aV)}if(aW.length>1){aX=aW
}else{aX=aW[0]}return this.begin.apply(this,aA(aX))},end:function(){this.chained=true;return this},wait:function(aZ,aX){var aY=new h(),aW=this,aV=arguments;return this.then(function(a0){if(d(a0)){throw a0
}aW.waiting=true;h.wait(aZ).ensure(function(a1){aW.waiting=false;if(d(a1)){aY.raise(a1)}else{aY.begin(aV.length>=2?aX:a0)}});return aY})},till:function(aV){var aW=this,aX=new h();
return this.then(function(aY){if(d(aY)){throw aY}aW.tilling=true;h.till(aV,aY).ensure(function(aZ){aW.tilling=false;if(d(aZ)){aX.raise(aZ)}else{aX.begin(aY)}});return aX
})},args:function(){var aW=aA(arguments),aV=aW.length;if(aV===0){return h.lastResult(this)}else{return this.then(function(){var aY,aX=aA(arguments);if(aX.length>1){aY=aX
}else{aY=aX[0]}if(aV>1){return aW}else{if(aj(aW[0])){return aW[0].apply(this,aA(aY))}else{return aW[0]}}})}},data:function(){var aZ=this,aW=this,aX=aA(arguments),aY,aV=aX.length,a0=".";
if(this.options){if(!this.options.storage){this.options.storage={}}switch(aV){case 0:aW={};aF(this.options.storage,function(a3,a1){try{if(a1&&a1.charAt(0)===a0){aW[a1.substring(1)]=a3
}}catch(a2){}});break;case 1:if(aX[0]==null){this.options.storage={}}else{if(w(aX[0])){aF(aX[0],function(a2,a1){aZ.options.storage[a0+Q(a1)]=a2})}else{aW=this.options.storage[a0+Q(aX[0])]
}}break;case 2:this.options.storage[a0+Q(aX[0])]=aX[1];break;default:aY=0;do{this.options.storage[a0+Q(aX[aY++])]=aX[aY++]}while(aY<aV)}}return aW},update:function(){var aW=h.fn,aV=aA(arguments);
aV.unshift(aW);A.apply(aW,aV);return this}});h.fn.init.prototype=h.fn;function aO(aV){if(d(aV)){this.state=h.states.failure}else{this.state=h.states.success}return this.state
}function aT(aV){aO.call(this,aV);this.results[h.states[this.state]]=aV;if(!this.freezing&&!this.tilling&&!this.waiting){aL.call(this)}}function aL(aV){if(aV||(!this.freezing&&!this.tilling&&!this.waiting)){if(this.options&&this.options.async){aJ.call(this)
}else{aS.call(this)}}}function aJ(){var aV=this,aW,aX;if(this.options&&r(this.options.speed)){aW=this.options.speed}else{aW=h.defaults.speed}this.freezing=true;aX=function(){try{aK.call(aV)
}catch(aY){aV.freezing=false;throw aY}if(aP.call(aV)){aL.call(aV,true)}else{aV.freezing=false}};if(!aW&&this.state===h.states.unfired){t.flush(aX)}else{R(aX,aW)}}function aS(){aK.call(this);
if(this.options&&this.options.async){aL.call(this)}}function aK(){var aZ=this,aV,aX,aY,a2,a0=null,aW;aR.call(this);aV=this.results[h.states[this.state]];while(aP.call(this)){aY=this.chains.shift();
a2=aY&&aY[h.states[this.state]];if(!aj(a2)){continue}aW=false;try{if(this.destAssign||(E(a2.length)&&a2.length>1&&b(aV)&&aV.length===a2.length)){aX=a2.apply(this,aV)
}else{aX=a2.call(this,aV)}if(aX===void 0&&this.state!==h.states.failure&&!d(aV)&&!am.hasReturn(a2)){aX=aV}aV=aX;if(e(aV)){aV=aQ.call(this,aV)}this.destAssign=false;
this.state=aO.call({},aV);if(L(aV)){a0=function(a3){return aM.call(aZ,a3)};this.nested++}}catch(a1){aV=a1;if(az(aV)){aW=true}else{aH.call(this,aV)}this.destAssign=false;
this.state=h.states.failure;if(!d(aV)){aV=new Error(aV);if(aW){A(aV,{StopIteration:au})}}}if(this.options&&this.options.async){break}}this.results[h.states[this.state]]=aV;
if(a0&&this.nested){aV.ensure(a0).end()}aU.call(this)}function aP(){return this.chains&&this.chains.length&&this.nested===0&&!this.cancelled}function aI(){var aZ,aY,aV,aX,a0,aW;
aX=h.states[h.states.failure];a0=this.chains;aV=a0&&a0.length;if(aV){for(aY=0;aY<aV;aY++){if(a0[aY]){aW=a0[aY][aX];if(aW&&aj(aW)){aZ=true;break}}}}return aZ}function aH(aV){if(!aI.call(this)){this.chainDebris={error:aV}
}}function aU(){var aV=this,aW;if(this.chainDebris&&"error" in this.chainDebris&&(this.cancelled||this.chained||(!this.chains||!this.chains.length))){if(this.options&&r(this.options.speed)){aW=this.options.speed
}else{aW=h.defaults.speed}this.chainDebris.timerId=R(function(){throw aV.chainDebris.error},aW)}}function aR(){if(this.chainDebris&&this.chainDebris.timerId!=null&&(this.state&h.states.fired)&&aI.call(this)){H(this.chainDebris.timerId);
delete this.chainDebris.error;delete this.chainDebris.timerId;this.chainDebris=null}}function aM(aV){aT.call(this,aV);this.nested--;if(this.nested===0&&!this.cancelled&&(this.state&h.states.fired)){aL.call(this)
}}function aQ(aX){var aV,aW=false;if(this.options&&this.options.async){aW=true}aV=new h({async:aW});return aV.then(function(){var aZ=new h({async:aW}),aY=0;if(aX&&aX.workers){aF(aX.workers,function(a0,a1){if(a0&&a1&&a1.charAt&&a1.charAt(0)==="."){a0.callback=function(a2){aY--;
if(aY===0){aZ.begin(a2)}};aY++}});if(aY===0){aZ.begin()}}else{aZ.begin()}return aZ}).begin()}function aG(aW,a1){var aZ,a0,aV,aY,aX,a2;if(aW){if(aW.length===1&&aW[0]&&w(aW[0])){aZ=aW[0];
if(aZ.speed!==a2||aZ.canceller!==a2||aZ.async!==a2||aZ.stopper!==a2){a0=aZ.speed;aV=aZ.canceller;aY=aZ.stopper;aX=aZ.async}else{a0=aZ.options&&aZ.options.speed;aV=aZ.options&&aZ.options.canceller;
aY=aZ.options&&aZ.options.stopper;aX=aZ.options&&aZ.options.async}}else{if(aW.length===1&&aW[0]&&b(aW[0])){aZ=aW[0]}else{aZ=aW}aF(aZ||[],function(a3){if(a0===a2&&r(a3)){a0=a3
}else{if(a0===a2&&r(h.speeds[a3])){a0=h.speeds[a3]}else{if(aV===a2&&aj(a3)){aV=a3}else{if(aX===a2&&al(a3)){aX=a3}else{if(aY===a2&&aV===a2&&aj(a3)){aY=a3}}}}}})}}this.options=this.options||{};
this.options.storage=this.options.storage||{};if(!b(this.options.cancellers)){this.options.cancellers=[]}if(!b(this.options.stoppers)){this.options.stoppers=[]}if(!r(a0)){if(this.options.speed!==a2&&r(this.options.speed)){a0=this.options.speed-0
}else{a0=a1.speed}}if(!aj(aV)){aV=a1.canceller}if(!aj(aY)){aY=a1.stopper}if(!al(aX)){if(this.options.async!==a2&&al(this.options.async)){aX=this.options.async}else{aX=a1.async
}}A(this.options,{speed:a0-0,async:aX});if(aj(aV)){this.options.cancellers.push(aV)}if(aj(aY)){this.options.stoppers.push(aY)}return this}function aN(aV){var aW;
while(this.options[aV]&&this.options[aV].length){aW=this.options[aV].shift();if(aj(aW)){aW.call(this)}}}A(h,{extendSpeeds:function(a0,aY,aV,aX){var aZ=function(a2,a3){var a1=function(){var a6={},a4=arguments,a5=a1;
a4=aA(a4);aG.call(a6,a4,{speed:a3,canceller:h.defaults.canceller,stopper:h.defaults.stopper,async:h.defaults.async});a6.speedName=a2;a4.unshift(a6);return aV.apply(a5.instance,a4)
};return a1},aW={};aF(aX,function(a2,a1){aW[a1]=aZ(a1,a2)});return A(a0[aY],aW)}});A(B,{referSpeeds:A(function(aV){var aW=B.referSpeeds,aY,aX;if(aV&&this.forEach.fast.instance!==this){for(aY in aW.props){if(aY in this&&this[aY]){for(aX in aW.speeds){if(aX in aV&&aX in this[aY]&&this[aY][aX]){this[aY][aX].instance=this
}}}}}},{props:{forEach:true,repeat:true,forEver:true,iterate:true,items:true,zip:true,map:true,filter:true,reduce:true,every:true,some:true},speeds:{limp:0,doze:1,slow:2,normal:3,fast:4,rapid:5,ninja:6}})});
h.extendSpeeds(am,"Deferred",function(aV){return h(aV)},h.speeds)}());(function(){A(h,{isDeferred:L,succeed:function(){var aG=new h();return aG.begin.apply(aG,arguments)
},failure:function(){var aG=new h();return aG.raise.apply(aG,arguments)},wait:function(aI,aG){var aJ,aH=new h({canceller:function(){try{H(aJ)}catch(aK){}}});if(arguments.length>=2){aH.then(function(){return aG
})}aJ=R(function(){aH.begin()},Math.floor(((aI-0)||0)*1000));return aH},callLater:function(aH,aI){var aG=aA(arguments,2);return h.wait(aH).then(function(){if(L(aI)){return aI.begin.apply(aI,aG)
}else{if(aj(aI)){return aI.apply(aI,aG)}else{return aI}}})},callLazy:function(aH){var aG=aA(arguments,1);return h.begin(function(){if(L(aH)){return aH.begin.apply(aH,aG)
}else{if(aj(aH)){return aH.apply(aH,aG)}else{return aH}}})},maybeDeferred:function(aH){var aG;if(L(aH)){if(h.isFired(aH)){aG=aH}else{aG=aH.begin()}}else{if(d(aH)){aG=h.failure(aH)
}else{aG=h.succeed(aH)}}return aG},isFired:function(aG){return L(aG)&&((aG.state&h.states.fired)!==0)},lastResult:function(aH,aK){var aG,aI=arguments,aJ;if(L(aH)){try{aJ=h.states[h.states.success];
if(aI.length<=1){aG=aH.results[aJ]}else{aH.results[aJ]=aK;aG=aH}}catch(aL){}}return aG},lastError:function(aH,aK){var aG,aI=arguments,aJ;if(L(aH)){try{aJ=h.states[h.states.failure];
if(aI.length<=1){aG=aH.results[aJ]}else{if(!d(aK)){aK=new Error(aK)}aH.results[aJ]=aK;aG=aH}}catch(aL){}}return aG},register:function(){var aG=0,aJ=h.fn,aI=aA(arguments),aH=[];
switch(aI.length){case 0:break;case 1:if(w(aI[0])){aF(aI[0],function(aL,aK){if(aj(aL)&&aw(aK)){aH.push([aK,aL])}else{if(aj(aK)&&aw(aL)){aH.push([aL,aK])}}})}break;
default:if(aj(aI[0])){aH.push([aI[1],aI[0]])}else{aH.push([aI[0],aI[1]])}}if(aH&&aH.length){aF(aH,function(aN){var aL={},aK,aM,aO;if(aN&&aN.length>=2&&aj(aN[1])){aK=Q(aN[0],true);
aM=aN[1];aO=function(){var aP={};aP.inputs=arguments;return this.then(function(){aP.results=arguments;return aM.call(this,aP)})};aL[aK]=aO;A(aJ,aL);aG++}})}return aG
},unregister:function(){var aG=0,aI=h.fn,aH=aA(arguments),aJ;if(aH.length>1){aJ=aH}else{aJ=aH[0]}aF(aA(aJ),function(aK){try{delete aI[aK];aG++}catch(aL){}});return aG
},deferrize:function(aH,aM){var aG=arguments,aK,aI,aJ;try{switch(aG.length){case 0:throw false;case 1:aK=aH;break;default:if(w(aM)){aI=aM;aK=aH}else{aK=aM;aI=aH}}if(!aK){throw aK
}}catch(aL){aJ=aL;throw (d(aJ)?aJ:new Error(aJ))}return function(){var aO=this,aN=aA(arguments),aP=new h();aP.then(function(){var aR=new h(),aQ,aV=[],aS=false,aT,aW=h.isFired;
aF(aN,function(aX){if(aj(aX)){aV.push(function(){var aY,a0;try{aY=aX.apply(aO,arguments)}catch(aZ){a0=aZ;if(!aW(aR)){aR.raise(a0)}}finally{if(!aW(aR)){aR.begin(aY)
}}if(a0!=null){throw a0}return aY});aS=true}else{aV[aV.length]=aX}});try{aQ=z(aI,aK,aV)}catch(aU){aT=aU;if(!aS&&!aW(aR)){aR.raise(aT)}}finally{if(!aS&&!aW(aR)){aR.begin(aQ)
}}if(aT!=null){throw d(aT)?aT:new Error(aT)}return aR}).begin();return aP}},update:function(){var aH=h,aG=aA(arguments);aG.unshift(aH);return A.apply(aH,aG)}});A(h,{begin:function(aG){var aJ=new h(),aH=aA(arguments,1),aI;
if(aG&&aj(aG)){aJ.then(function(){return aG.apply(this,aH)})}else{aI=aG}t.flush(function(){aJ.begin(aI)});return aJ},flush:function(aH){var aG=aA(arguments,1);return h.begin(function(){if(L(aH)){return aH.begin.apply(aH,aG)
}else{if(aj(aH)){return aH.apply(this,aG)}else{return aH}}})},till:function(aI){var aJ=new h(),aH=aA(arguments,1),aG=13;return h.begin(function aK(){var aL=this,aM=ar();
if(aI&&!aI.apply(this,aH)){R(function(){aK.call(aL)},Math.min(1000,aG+(ar()-aM)))}else{aJ.begin()}return aJ})},parallel:function(aL){var aG,aI=arguments,aM,aK,aH,aJ;
if(aI.length===0){aG=h.succeed()}else{if(aI.length===1){if(w(aL)){aK=aL}else{aK=aA(aL)}}else{aK=aA(aI)}aG=new h({canceller:function(){aF(aK,function(aN){if(L(aN)){aN.cancel()
}})}});aM=new h();aJ=[];aH=w(aK)?{}:[];aF(aK,function(aN,aO){var aP;if(L(aN)){aP=aN}else{if(aj(aN)){aP=new h();aP.then(function(){var aQ=aN();if(L(aQ)&&aQ.state===h.states.unfired){aQ.begin()
}return aQ})}else{aP=h.succeed(aN)}}if(!L(aP)){aP=h.maybeDeferred(aP)}aJ[aJ.length]=aO;aM.then(function(){if(aP.state===h.states.unfired){h.flush(aP)}aP.then(function(aQ){if(aJ.length){aH[aO]=aQ;
aJ.pop();if(aJ.length===0){aG.begin(aH)}}},function(aQ){aJ=[];aG.raise(aQ)})})});h.flush(aM)}return aG},chain:(function(){var aG={funcName:/^\s*[()]*\s*function\s*([^\s()]+)/,rescue:/rescue|raise|err|fail/i};
return function(){var aI=arguments,aH=aI.length,aK,aJ=new h();if(aH>0){aK=aA((aH===1)?aI[0]:aI);aF(aK,function(aN){var aL;if(aj(aN)){try{aL=am.getFunctionCode(aN).match(aG.funcName)[1]
}catch(aM){}if(aL&&aG.rescue.test(aL)){aJ.rescue(aN)}else{aJ.then(aN)}}else{if(L(aN)){aJ.then(function(aO){if(aN.state===h.states.unfired){aN.begin(aO)}return aN
})}else{if(w(aN)||b(aN)){aJ.then(function(){return h.parallel(aN)})}else{if(d(aN)){aJ.then(function(){throw aN})}else{aJ.then(function(){return aN})}}}}})}h.callLazy(aJ);
return aJ}}())});h.extendSpeeds(h,"begin",function(aG,aN){var aL,aH,aM=aA(arguments,2),aI=(aN&&aj(aN)),aK=aG.options||aG||{},aJ,aO;if(!aK.cancellers){aK.cancellers=[]
}aK.cancellers.push(function(){try{if(aH!=null){H(aH)}}catch(aP){}});aL=new h(aK);if(aI){aL.then(function(){return aN.apply(this,aM)})}else{aO=aN}aJ=(((aG.options&&aG.options.speed)||aG.speed)-0)||0;
if(r(aJ)&&aJ>0){aH=R(function(){aL.begin(aO)},aJ)}else{t.flush(function(){aL.begin(aO)})}return aL},h.speeds);h.extendSpeeds(h,"flush",function(aI,aL){var aJ,aH,aK,aG=aA(arguments,2);
aJ=aI.options?aI.options.speed:aI.speed;if(aJ in h.speeds&&aw(h.speeds[aJ])){aH=h.speeds[aJ]}else{aF(h.speeds,function(aN,aM){if(aN==aJ){aH=aM;throw au}})}if(aH&&aH in h.begin){aK=h.begin[aH]
}else{aK=h.begin}return aK(function(){if(L(aL)){return aL.begin.apply(aL,aG)}else{if(aj(aL)){return aL.apply(this,aG)}else{return aL}}})},h.speeds);am.update({succeed:am.Deferred.succeed,failure:am.Deferred.failure,wait:am.Deferred.wait,callLater:am.Deferred.callLater,callLazy:am.Deferred.callLazy,maybeDeferred:am.Deferred.maybeDeferred,isFired:am.Deferred.isFired,lastResult:am.Deferred.lastResult,lastError:am.Deferred.lastError,register:am.Deferred.register,unregister:am.Deferred.unregister,deferrize:am.Deferred.deferrize,begin:am.Deferred.begin,flush:am.Deferred.flush,till:am.Deferred.till,parallel:am.Deferred.parallel,chain:am.Deferred.chain})
}());(function(){var aH,aJ,aG,aI;A(B,{LightIterator:A(function(aL,aM,aK){return new aH.fn.doit(aL,aM,aK)},{speeds:{limp:-1,doze:0,slow:2,normal:5,fast:12,rapid:36,ninja:60},delays:{limp:1000,doze:100,slow:13,normal:0,fast:0,rapid:0,ninja:0},types:{forLoop:1,forInLoop:2,repeat:4,forEver:8,iterate:16,items:32,zip:64}})});
ad=aH=B.LightIterator;A(aH,{defaults:{speed:aH.speeds.normal},revSpeeds:{}});aF(aH.speeds,function(aL,aK){aH.revSpeeds[aL]=aK});aH.fn=aH.prototype=A(aH.prototype,{constructor:aH,interval:aH.defaults.speed,iter:null,result:null,deferred:null,revDeferred:null,isDeferStopIter:false,time:{},waiting:false,restable:false,async:false,options:null,doit:function(aL,aM,aK){this.setOptions(aK);
this.execute(aL,aM);this.watch();return this},setOptions:function(aK){this.options=aK||{};this.setInterval();this.setAsync()},setInterval:function(){var aK=null;
if(r(this.options.interval)){aK=this.options.interval-0}else{if(this.options.interval in aH.speeds){aK=aH.speeds[this.options.interval]-0}}if(aK!==null&&!isNaN(aK)){this.interval=aK
}if(!r(this.interval)){this.interval=aH.defaults.speed}},setAsync:function(){var aK=null;if(this.options.async!==void 0){aK=!!this.options.async}if(aK!==null){this.async=!!aK
}if(!al(this.async)){this.async=!!this.async}},createDeferred:function(){return new h({async:false})},watch:function(){var aK=this;if(!this.async&&this.waiting===true&&q.isWaitable){am.XPCOM.throughout(function(){return aK.waiting!==true
})}},execute:function(aK,aN){var aM,aL=this;this.waiting=true;if(!aK){this.result={};this.waiting=false}else{this.waiting=true;this.restable=true;this.time={start:ar(),total:null,loop:null,diff:null,risk:null,axis:null,count:1,rest:100,limit:255};
this.setIter(aK,aN);if(!this.async&&!q.isWaitable){this.revback();this.waiting=false}else{aM=this.createDeferred();aM.then(function(){var aP=aL.createDeferred(),aO=aL.createDeferred();
aP.then(function(){return aL.revolve().then(function(){aO.begin()})}).begin();return aO}).ensure(function(){aL.waiting=false});if(this.async){this.deferred=aM.then(function(){if(L(aL.result)&&az(h.lastError(aL.result))){aL.result=h.lastResult(aL.result)
}return aL.result})}this.flush(aM)}}},setIter:function(aK,aO){var aN=this.options.type,aM=aH.types,aL=this.options.context;switch(true){case ((aN&aM.iterate)===aM.iterate):this.result=null;
this.iter=this.iterate(aK,aO,aL);break;case ((aN&aM.forEver)===aM.forEver):this.result={};this.iter=this.forEver(aK,aL);break;case ((aN&aM.repeat)===aM.repeat):this.result={};
this.iter=this.repeat(aK,aO,aL);break;case ((aN&aM.items)===aM.items):this.result=[];this.iter=this.items(aK,aO,aL);break;case ((aN&aM.zip)===aM.zip):this.result=[];
this.iter=this.zip(aK,aO,aL);break;default:if(af(aK)){this.result=aK;this.iter=this.forLoop(aK,aO,aL)}else{this.result=aK;this.iter=this.forInLoop(aK,aO,aL)}}},revback:function(){var aN=this,aK,aM,aL=false,aP;
this.time.loop=ar();REVOLVE:{do{try{if(this.isDeferStopIter){this.isDeferStopIter=false;throw au}aK=this.iter.next()}catch(aO){aM=aO;if(az(aM)){break REVOLVE}throw aM
}if(this.async&&L(aK)){return aK.ensure(function(aQ){if(aQ!==void 0){if(d(aQ)){if(az(aQ)){aN.isDeferStopIter=true;if(L(aN.result)&&az(h.lastError(aN.result))){aN.result=h.lastResult(aN.result)
}}else{h.lastError(this,aQ)}}else{h.lastResult(this,aQ)}}aN.flush(aN.revback,true)})}aP=ar();if(q.isWaitable){if(this.time.total===null){this.time.total=aP}else{if(aP-this.time.total>=this.time.rest){am.XPCOM.throughout(0);
this.time.total=ar()}}}else{if(!this.async){if(this.restable&&this.time.count>=this.time.limit){this.restable=false}}}this.time.risk=aP-this.time.start;this.time.diff=aP-this.time.loop;
if(this.time.diff>=this.interval){if(this.async&&this.interval<aH.speeds.normal){aL=true}else{if(this.async||this.restable||q.isWaitable){if(this.time.diff<this.interval+8){this.time.axis=2
}else{if(this.time.diff<this.interval+36){this.time.axis=5}else{if(this.time.diff<this.interval+48){this.time.axis=7}else{this.time.axis=10}}}if(this.time.axis>=10||(Math.random()*10<this.time.axis)){aL=true
}}}}}while(!aL);if(this.time.count<=this.time.limit){this.time.count++}return this.flush(this.revback,true)}if(L(this.revDeferred)){this.revDeferred.begin()}},revolve:function(){var aK=this,aL=this.createDeferred(),aM=this.createDeferred();
aL.then(function(){var aN=aK.createDeferred();aK.revDeferred=aK.createDeferred();aN.then(function(){return aK.revback()}).begin();return aK.revDeferred}).ensure(function(aN){aM.begin();
if(d(aN)){throw aN}});this.flush(aL);return aM},flush:function(aQ,aN){var aL=this,aP,aK=false,aM,aO;if(this.async||q.isWaitable){aK=true}if(!aK&&aj(aQ)){return aQ.call(this)
}else{aP=this.createDeferred();aP.then(function(){if(L(aQ)){aQ.begin()}else{aQ.call(aL)}});if(aK){aM=0;if(aN){aO=aH.revSpeeds[this.interval];if(aO&&r(aH.delays[aO])){aM=aH.delays[aO]
}if(Math.random()*10<Math.max(2,(this.time.axis||2)/2.75)){aM+=Math.min(this.time.rest,Math.max(1,Math.ceil((this.time.risk/(this.time.rest+this.time.diff))+this.time.diff)))
}}R(function(){aP.begin()},aM)}else{aP.begin()}}},noop:function(){return{next:function(){throw au}}},forEver:function(aM,aL){var aK=0;if(!aj(aM)){return this.noop()
}return{next:function(){var aN=aM.call(aL,aK);try{if(!isFinite(++aK)||aK>=Number.MAX_VALUE){throw 0}}catch(aO){aK=0}return aN}}},repeat:function(aK,aQ,aN){var aM,aL,aP,aO;
if(!aj(aQ)){return this.noop()}if(!aK||aK==null){aP=0}else{if(r(aK)){aP=aK-0}else{aP=aK||{};if(r(aP.start)){aP.begin=aP.start}if(r(aP.stop)){aP.end=aP.stop}}}aL={begin:r(aP.begin)?aP.begin-0:0,end:r(aP.end)?aP.end-0:(aP||0)-0,step:r(aP.step)?aP.step-0:1,last:false,prev:null};
aM=aL.step?aL.begin:aL.end;aO=aL.end-aL.step;return{next:function(){var aR;if(aM<aL.end){aL.last=(aM>=aO);aR=aQ.call(aN,aM,aL.last,aL);aL.prev=aR}else{throw au}aM+=aL.step;
return aR}}},forLoop:function(aK,aO,aM){var aN,aL=0;if(!aK||!aK.length||!aj(aO)){return this.noop()}aN=aA(aK);return{next:function(){var aR,aP;while(true){if(aL>=aN.length){throw au
}if(!(aL in aN)){aL++;continue}try{aR=aN[aL]}catch(aQ){aL++;continue}aP=aO.call(aM,aR,aL,aK);aL++;return aP}}}},forInLoop:function(aK,aO,aM){var aN,aL=0;if(aj(aO)){aN=[];
aF(aK,function(aP,aQ){aN[aN.length]=[aP,aQ]})}if(!aN||!aN.length){return this.noop()}return{next:function(){var aP,aT,aQ,aS;while(true){if(aL>=aN.length){throw au
}if(!(aL in aN)){aL++;continue}try{aT=aN[aL];aS=aT[0];aQ=aT[1]}catch(aR){aL++;continue}aP=aO.call(aM,aS,aQ,aK);aL++;return aP}}}},iterate:function(aK,aO,aL){var aM=this,aN;
if(am.isIterable(aK)&&!am.isIter(aK)){if(aj(aO)){return{next:function(){var aP=aK.next();aM.result=aO.apply(aL,aA(aP));return aM.result}}}else{return{next:function(){aM.result=aK.next();
return aM.result}}}}else{aN=v.toIter(aK);if(!aE(aN)){return this.noop()}if(aj(aO)){return{next:function(){var aP=aN.next();aP=aA(aP);while(aP.length<2){aP.push((void 0))
}aP.push(aK);aM.result=aO.apply(aL,aP);return aM.result}}}else{return{next:function(){aM.result=aN.next();return aM.result}}}}},items:function(aK,aQ,aM){var aN=this,aP,aL=0,aO;
if(w(aK)){aP=[];aF(aK,function(aR,aS){aP[aP.length]=[aS,aR]});aO=true}else{if(af(aK)){aP=aA(aK)}}if(!aP||!aP.length){return this.noop()}if(aj(aQ)){return{next:function(){var aR,aV,aS,aU;
while(true){if(aL>=aP.length){throw au}if(!(aL in aP)){aL++;continue}try{aV=aP[aL];if(aO){aS=aV[0];aU=aV[1]}else{aS=aL;aU=aV}}catch(aT){aL++;continue}aR=aQ.call(aM,[aS,aU],aK);
aL++;aN.result[aN.result.length]=aR;return aR}}}}else{return{next:function(){var aU,aT,aS,aR;while(true){if(aL>=aP.length){throw au}if(!(aL in aP)){aL++;continue
}try{aT=aP[aL];if(aO){aS=aT[0];aR=aT[1]}else{aS=aL;aR=aT}}catch(aV){aL++;continue}aL++;aU=[aS,aR];aN.result[aN.result.length]=aU;return aU}}}}},zip:function(aL,aQ,aN){var aO=this,aP,aM=0,aK;
if(af(aL)){aP=aA(aL);aK=aP.length}if(!aK||!aP||!aP.length){return this.noop()}if(aj(aQ)){return{next:function(){var aR,aT=[],aS,aU;for(aS=0;aS<aK;aS++){aU=aA(aP[aS]);
if(!aU||!aU.length||aM>=aU.length){throw au}aT[aT.length]=aU[aM]}aR=aQ.call(aN,aT,aL);aO.result[aO.result.length]=aR;aM++;return aR}}}else{return{next:function(){var aT=[],aR,aS;
for(aR=0;aR<aK;aR++){aS=aA(aP[aR]);if(!aS||!aS.length||aM>=aS.length){throw au}aT[aT.length]=aS[aM]}aO.result[aO.result.length]=aT;aM++;return aT}}}}});aH.fn.doit.prototype=aH.fn;
A(aH,{QuickIteration:{resolve:function(aK){var aL;try{while(true){aK.next()}}catch(aM){aL=aM;if(!az(aL)){throw aL}}},forEach:function(aM,aP,aN){var aK,aL,aO=aH.fn;
if(!aM){aK={}}else{aK=aM;if(af(aM)){aL=aO.forLoop(aM,aP,aN)}else{aL=aO.forInLoop(aM,aP,aN)}aJ.resolve(aL)}return aK},repeat:function(aL,aP,aN){var aK={},aM,aO=aH.fn;
if(aL){aM=aO.repeat(aL,aP,aN);aJ.resolve(aM)}return aK},forEver:function(aO,aM){var aK={},aL,aN=aH.fn;if(aO){aL=aN.forEver(aO,aM);aJ.resolve(aL)}return aK},iterate:function(aM,aQ,aN){var aK,aL,aP,aO=aH.fn;
if(!aM){aK={}}else{aK=null;aP={noop:aO.noop,result:null};aL=aO.iterate.call(aP,aM,aQ,aN);aJ.resolve(aL);aK=aP.result}return aK},items:function(aM,aQ,aN){var aK=[],aL,aP,aO=aH.fn;
if(aM){aP={noop:aO.noop,result:[]};aL=aO.items.call(aP,aM,aQ,aN);aJ.resolve(aL);aK=aP.result}return aK},zip:function(aM,aQ,aN){var aK=[],aL,aP,aO=aH.fn;if(aM){aP={noop:aO.noop,result:[]};
aL=aO.zip.call(aP,aM,aQ,aN);aJ.resolve(aL);aK=aP.result}return aK}}});aJ=aH.QuickIteration;A(W,{createLightIterateConstructor:function(aO){var aM,aN=function(aQ){var aP;
if(aH.speeds[aQ]===void 0){aP=aH.defaults.speed}else{aP=aH.speeds[aQ]}return aO(aP)},aL={},aK=aN();for(aM in aH.speeds){aL[aM]=aN(aM)}return A(aK,aL)}});aG=W.createLightIterateConstructor;
am.update({forEach:aG(function(aK){if(q.isWaitable&&aK<aH.speeds.normal){return function(aL,aO,aM){var aN={};aN.type=aH.types.forLoop|aH.types.forInLoop;aN.interval=aK;
aN.async=false;aN.context=aM;return(new aH(aL,aO,aN)).result}}else{return function(aL,aN,aM){return aJ.forEach(aL,aN,aM)}}}),repeat:aG(function(aK){if(q.isWaitable&&aK<aH.speeds.normal){return function(aL,aO,aM){var aN={};
aN.type=aH.types.repeat;aN.interval=aK;aN.async=false;aN.context=aM;return(new aH(aL,aO,aN)).result}}else{return function(aL,aN,aM){return aJ.repeat(aL,aN,aM)}}}),forEver:aG(function(aK){if(q.isWaitable&&aK<aH.speeds.normal){return function(aN,aL){var aM={};
aM.type=aH.types.forEver;aM.interval=aK;aM.async=false;aM.context=aL;return(new aH(aN,null,aM)).result}}else{return function(aM,aL){return aJ.forEver(aM,aL)}}}),iterate:aG(function(aK){if(q.isWaitable&&aK<aH.speeds.normal){return function(aL,aO,aM){var aN={};
aN.type=aH.types.iterate;aN.interval=aK;aN.async=false;aN.context=aM;return(new aH(aL,aO,aN)).result}}else{return function(aL,aN,aM){return aJ.iterate(aL,aN,aM)}
}}),items:aG(function(aK){if(q.isWaitable&&aK<aH.speeds.normal){return function(aL,aO,aM){var aN={};aN.type=aH.types.items;aN.interval=aK;aN.async=false;aN.context=aM;
return(new aH(aL,aO,aN)).result}}else{return function(aL,aN,aM){return aJ.items(aL,aN,aM)}}}),zip:aG(function(aK){if(q.isWaitable&&aK<aH.speeds.normal){return function(aL,aO,aM){var aN={};
aN.type=aH.types.zip;aN.interval=aK;aN.async=false;aN.context=aM;return(new aH(aL,aO,aN)).result}}else{return function(aL,aN,aM){return aJ.zip(aL,aN,aM)}}})});A(h,{forEach:aG(function(aK){return function(aL,aO,aM){var aN={};
aN.type=aH.types.forLoop|aH.types.forInLoop;aN.interval=aK;aN.async=true;aN.context=aM;return(new aH(aL,aO,aN)).deferred}}),repeat:aG(function(aK){return function(aL,aO,aM){var aN={};
aN.type=aH.types.repeat;aN.interval=aK;aN.async=true;aN.context=aM;return(new aH(aL,aO,aN)).deferred}}),forEver:aG(function(aK){return function(aN,aL){var aM={};
aM.type=aH.types.forEver;aM.interval=aK;aM.async=true;aM.context=aL;return(new aH(aN,null,aM)).deferred}}),iterate:aG(function(aK){return function(aL,aO,aM){var aN={};
aN.type=aH.types.iterate;aN.interval=aK;aN.async=true;aN.context=aM;return(new aH(aL,aO,aN)).deferred}}),items:aG(function(aK){return function(aL,aO,aM){var aN={};
aN.type=aH.types.items;aN.interval=aK;aN.async=true;aN.context=aM;return(new aH(aL,aO,aN)).deferred}}),zip:aG(function(aK){return function(aL,aO,aM){var aN={};aN.type=aH.types.zip;
aN.interval=aK;aN.async=true;aN.context=aM;return(new aH(aL,aO,aN)).deferred}})});delete W.createLightIterateConstructor;am.update({Iter:function(){return aE(this)?this.init(arguments):new v.fn.init(arguments)
}});v=am.Iter;v.fn=v.prototype=A(v.prototype,{constructor:v,id:B.getMagicNumber(),serial:null,NAME:"Iter",toString:G,isIter:aE,init:function(aK){if(!this.serial){this.serial=P(this)
}return this},next:function(){throw au}});v.fn.init.prototype=v.fn;A(v,{StopIteration:au,toIter:function(aL){var aM,aO,aK,aN;if(aE(aL)){return aL}aK=aL&&af(aL);aN=aL&&!aK&&w(aL);
if(aN){aO=[];aF(aL,function(aP,aQ){aO[aO.length]=[aP,aQ]})}else{aO=aA(aL)}aM=new v();aM.next=(function(){var aP=0;if(aN){return function(){var aQ,aT,aS;while(true){if(aP>=aO.length){throw au
}if(!(aP in aO)){aP++;continue}try{aQ=aO[aP][1];aT=aO[aP][0]}catch(aR){aP++;continue}aS=[aT,aQ];aP++;return aS}}}else{return function(){var aR,aQ;while(true){if(aP>=aO.length){throw au
}if(!(aP in aO)){aP++;continue}try{aR=aO[aP]}catch(aS){aP++;continue}aQ=[aR,aP];aP++;return aQ}}}}());return aM},forEach:function(){return am.iterate.apply(null,arguments)
},map:function(aM,aQ,aK){var aR,aS,aO,aP,aN,aL;aP=this&&this.iterateSpeed;aS=aM&&af(aM);aO=aM&&!aS&&w(aM);if(aS){aR=[]}else{if(aO){aR={}}else{aR=null}}aL=aP||this&&this.iterateSpeedSync||am.iterate;
aN=function(){return aL(aM,function(aW,aU,aV){var aT=aQ.call(aK,aW,aU,aV);if(L(aT)){return aT.then(function(aX){if(aS){aR[aR.length]=aX}else{if(aO){aR[aU]=aX}else{aR=aX
}}})}else{if(aS){aR[aR.length]=aT}else{if(aO){aR[aU]=aT}else{aR=aT}}}},aK)};if(aP){return aN().then(function(){return aR})}else{aN();return aR}},filter:(function(){var aK=function(aL){return aL
};return function(aO,aS,aL){var aT,aU,aQ,aR,aP,aM,aN;aN=aS||aK;aR=this&&this.iterateSpeed;aU=aO&&af(aO);aQ=aO&&!aU&&w(aO);if(aU){aT=[]}else{if(aQ){aT={}}else{aT=null
}}aM=aR||this&&this.iterateSpeedSync||am.iterate;aP=function(){return aM(aO,function(aY,aW,aX){var aV=aN.call(aL,aY,aW,aX);if(L(aV)){return aV.then(function(aZ){if(aZ){if(aU){aT[aT.length]=aY
}else{if(aQ){aT[aW]=aY}else{aT=aY}}}})}else{if(aV){if(aU){aT[aT.length]=aY}else{if(aQ){aT[aW]=aY}else{aT=aY}}}}},aL)};if(aR){return aP().then(function(){return aT
})}else{aP();return aT}}}()),reduce:function(aM,aT,aP,aK){var aU,aO,aR,aS,aQ,aN,aL;aQ=this&&this.iterateSpeed;aU=aM&&af(aM);aO=aM&&!aU&&w(aM);if(aP===void 0){aR=(function(){var aV;
if(aU||aO){aF(aM,function(aW){aV=aW;throw au})}return aV}())}else{aR=aP}aS=true;aL=aQ||this&&this.iterateSpeedSync||am.iterate;aN=function(){return aL(aM,function(aY,aW,aX){var aV;
if(aS){aS=false}else{aV=aT.call(aK,aR,aY,aW,aX);if(L(aV)){return aV.then(function(aZ){aR=aZ})}else{aR=aV}}},aK)};if(aQ){return aN().then(function(){return aR})}else{aN();
return aR}},every:function(aL,aQ,aM){var aK=true,aP,aN,aO;aP=this&&this.iterateSpeed;aO=aP||this&&this.iterateSpeedSync||am.iterate;aN=function(){return aO(aL,function(aU,aS,aT){var aR=aQ.call(aM,aU,aS,aT);
if(L(aR)){return aR.then(function(aV){if(!aV){aK=false;throw au}})}else{if(!aR){aK=false;throw au}}},aM)};if(aP){return aN().then(function(){return aK})}else{aN();
return aK}},some:function(aL,aQ,aM){var aK=false,aP,aN,aO;aP=this&&this.iterateSpeed;aO=aP||this&&this.iterateSpeedSync||am.iterate;aN=function(){return aO(aL,function(aU,aS,aT){var aR=aQ.call(aM,aU,aS,aT);
if(L(aR)){return aR.then(function(aV){if(aV){aK=true;throw au}})}else{if(aR){aK=true;throw au}}},aM)};if(aP){return aN().then(function(){return aK})}else{aN();return aK
}},range:function(){var aP=arguments,aR,aS=[],aM=0,aN=0,aL=1,aK,aO,aQ;switch(aP.length){case 0:return;case 1:aR=aP[0];if(w(aR)){if("begin" in aR){aM=aR.begin}else{if("start" in aR){aM=aR.start
}}if("end" in aR){aN=aR.end}else{if("stop" in aR){aN=aR.stop}}if("step" in aR){aL=aR.step}}else{aN=aR}break;case 2:aM=aP[0];aN=aP[1];break;default:aM=aP[0];aN=aP[1];
aL=aP[2]}if(aw(aM)&&aM.length===1&&aw(aN)&&aN.length===1){aM=aM.charCodeAt(0)||0;aN=aN.charCodeAt(0)||0;aO=true}else{aM=aM-0;aN=aN-0;aO=false}aL=aL-0;if(isNaN(aM)||isNaN(aN)||isNaN(aL)||aL==0){return aS
}if((aL>0&&aM>aN)||(aL<0&&aM<aN)){aK=aM;aM=aN;aN=aK}aQ=new v();aQ.next=function(){if((aL>0&&aM>aN)||(aL<0&&aM<aN)){throw au}aS[aS.length]=aO?g(aM):aM;aM+=aL};am.iterate(aQ);
return aS},indexOf:function(aM,aT,aU){var aX=-1,aP,aQ,aK,aO,aS=arguments,aV=aS.length,aW=aM&&af(aM),aN=aM&&!aW&&w(aM);if(aW){try{if(q.isBuiltinArrayIndexOf){aP=o.apply(aM,aA(aS,1));
if(r(aP)){aX=aP}else{throw aP}}else{throw aP}}catch(aL){aQ=(aM&&aM.length)||0;aP=(+aU)||0;aP=(aP<0)?Math.ceil(aP):Math.floor(aP);if(aP<0){aP+=aQ}for(;aP<aQ;aP++){try{if(aP in aM){aK=aM[aP];
if(aK===aT){aX=aP;break}}}catch(aR){continue}}}}else{if(aN){aO=false;aF(aM,function(aY,aZ){if(!aO&&aV>=3&&aU!==aZ){return}else{aO=true}if(aY===aT){aX=aZ}})}else{if(aM!=null){try{aK=(aM.toString&&aM.toString())||String(aM);
aX=aB.indexOf.apply(aK,aA(aS,1))}catch(aR){aX=-1}}else{aX=-1}}}return aX},lastIndexOf:function(aN,aU,aV){var aY=-1,aQ,aR,aW,aL,aP,aK,aT=arguments,aX=aN&&af(aN),aO=aN&&!aX&&w(aN);
if(aX){try{if(q.isBuiltinArrayLastIndexOf){aQ=ah.apply(aN,aA(aT,1));if(r(aQ)){aY=aQ}else{throw aQ}}else{throw aQ}}catch(aM){aR=(aN&&aN.length)||0;aQ=(+aV);if(isNaN(aQ)){aQ=aR-1
}else{aQ=(aQ<0)?Math.ceil(aQ):Math.floor(aQ);if(aQ<0){aQ+=aR}else{if(aQ>=aR){aQ=aR-1}}}for(;aQ>-1;aQ--){try{if(aQ in aN){aL=aN[aQ];if(aL===aU){aY=aQ;break}}}catch(aS){continue
}}}}else{if(aO){aK=[];aP=false;aF(aN,function(aZ,a0){aK[aK.length]=[a0,aZ];if(aZ===aU){aY=a0}if(a0===aV){aP=true;throw au}});if(aP){aY=-1;aR=aK.length;while(--aR>=0){aW=aK[aR][0];
aL=aK[aR][1];if(aL===aU){aY=aW;break}}}}else{if(aN!=null){try{aL=(aN.toString&&aN.toString())||String(aN);aY=aB.lastIndexOf.apply(aL,aA(aT,1))}catch(aS){aY=-1}}else{aY=-1
}}}return aY}});am.update({toIter:v.toIter});A(W,{createIterators:function(aK){aF(aK,function(aL){var aM={};aM[aL.NAME]=function(){var aO={},aN=aA(arguments);aO.iterateSpeed=(this&&this.iterateSpeed)||h.iterate;
return h.begin(function(){var aP=new h();aL.method.apply(aO,aN).then(function(aQ){aP.begin(aQ)},function(aQ){aP.raise(aQ)});return aP})};A(h,aM);h.extendSpeeds(h,aL.NAME,function(aP){var aO={},aN=aA(arguments,1);
aO.iterateSpeed=h.iterate[aP.speedName];return h.begin(function(){var aQ=new h();aL.method.apply(aO,aN).then(function(aR){aQ.begin(aR)},function(aR){aQ.raise(aR)
});return aQ})},aH.speeds)})},createProtoIterators:function(aK){aF(aK,function(aL){var aN={},aM={};aN[aL.NAME]=function(){var aP=aA(arguments),aO=A({},this.options);
return this.then(function(aQ){var aR=new h();aP=aL.args(aQ,aP);aL.method.apply(aL.context,aP).ensure(function(aS){U(aR,aO);if(d(aS)){aR.raise(aS)}else{aR.begin(aS)
}});return aR})};A(h.fn,aN);if(aL.speed){if(aL.iterable){aM.methods=function(aO){return{iter:aL.iterable[aO],context:aL.context}}}else{aM.methods=function(aO){return{iter:aL.method,context:{iterateSpeed:aL.context.iterateSpeed[aO]}}
}}h.extendSpeeds(h.fn,aL.NAME,function(aQ){var aP=aA(arguments,1),aR=aM.methods(aQ.speedName),aO=A({},this.options);return this.then(function(aS){var aT=new h();
aP=aL.args(aS,aP);aR.iter.apply(aR.context,aP).ensure(function(aU){U(aT,aO);if(d(aU)){aT.raise(aU)}else{aT.begin(aU)}});return aT})},aH.speeds)}})},createSyncIterator:function(aN){var aL,aK,aM=function(aP){var aO=aP;
if(!aO){aF(aH.speeds,function(aR,aQ){if(aR===aH.defaults.speed){aO=aQ;throw au}})}return aN(aO)};aK=aM();aL={};aF(aH.speeds,function(aP,aO){aL[aO]=aM(aO)});return A(aK,aL)
}});W.createIterators([{NAME:"map",method:v.map},{NAME:"filter",method:v.filter},{NAME:"reduce",method:v.reduce},{NAME:"every",method:v.every},{NAME:"some",method:v.some}]);
W.createProtoIterators([{NAME:"forEach",method:h.forEach,context:null,speed:true,iterable:h.forEach,args:function(aK,aL){return[aK].concat(aL)}},{NAME:"repeat",method:h.repeat,context:null,speed:true,iterable:h.repeat,args:function(aK,aL){if(r(aK)){return[aK-0].concat(aL)
}if(aK&&E(aK.length)){return[aK.length].concat(aL)}if(aK&&w(aK)&&("end" in aK||"begin" in aK||"step" in aK||"stop" in aK||"start" in aK)){return[aK].concat(aL)}return aL
}},{NAME:"forEver",method:h.forEver,context:null,speed:true,iterable:h.forEver,args:function(aK,aL){return aL}},{NAME:"iterate",method:h.iterate,context:null,speed:true,iterable:h.iterate,args:function(aK,aL){return[aK].concat(aL)
}},{NAME:"items",method:h.items,context:null,speed:true,iterable:h.items,args:function(aK,aL){return[aK].concat(aL)}},{NAME:"zip",method:h.zip,context:null,speed:true,iterable:h.zip,args:function(aK,aL){return[aK].concat(aL)
}},{NAME:"map",method:v.map,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aK,aL){return[aK].concat(aL)}},{NAME:"filter",method:v.filter,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aK,aL){return[aK].concat(aL)
}},{NAME:"reduce",method:v.reduce,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aK,aL){return[aK].concat(aL)}},{NAME:"every",method:v.every,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aK,aL){return[aK].concat(aL)
}},{NAME:"some",method:v.some,context:{iterateSpeed:h.iterate},speed:true,iterable:null,args:function(aK,aL){return[aK].concat(aL)}}]);aI=W.createSyncIterator;am.update({map:aI(function(aK){return function(){var aL={iterateSpeedSync:am.iterate[aK]};
return v.map.apply(aL,arguments)}}),filter:aI(function(aK){return function(){var aL={iterateSpeedSync:am.iterate[aK]};return v.filter.apply(aL,arguments)}}),reduce:aI(function(aK){return function(){var aL={iterateSpeedSync:am.iterate[aK]};
return v.reduce.apply(aL,arguments)}}),every:aI(function(aK){return function(){var aL={iterateSpeedSync:am.iterate[aK]};return v.every.apply(aL,arguments)}}),some:aI(function(aK){return function(){var aL={iterateSpeedSync:am.iterate[aK]};
return v.some.apply(aL,arguments)}}),range:function(){return v.range.apply(null,arguments)},indexOf:function(){return v.indexOf.apply(null,arguments)},lastIndexOf:function(){return v.lastIndexOf.apply(null,arguments)
}});A(B,{defineDeferrater:aI});(function(){var aK=function(aP){return new aK.prototype.init(aP)},aN=P({NAME:".\u0000[~`{{*@:SPEED:@*}}`~]\u0001"}),aM={},aL=0,aO=8192;
aK.prototype=A(aK.prototype,{constructor:aK,id:B.getMagicNumber(),func:null,code:null,tokens:[],uniqs:{},tails:[],iteration:{},init:function(aP){this.func=aP;this.code=this.toCode(this.func);
this.tokens=[];this.iteration={};this.tails=[];return this},execute:function(){var aQ=this,aP="";if(this.code){if(this.code in aM){aP=aM[this.code]}else{this.uniqs={};
aF("key val ret rev err nxt".split(" "),function(aR){aQ.uniqs[aR]=aQ.generateUniqName({NAME:"$_"+aR+"_"})});this.tokens=this.tokenize(this.code);if(!this.hasIteration(this.tokens)){aP=this.func
}else{this.parseLoop();aP=this.deferrizeFunction();if(aP){if(aL<aO){aM[this.code]=aP;aL++}}}}}return aP},hasIteration:function(aT){var aQ=false,aS,aP,aR;if(aT){aP=aT.length;
for(aS=0;aS<aP;aS++){aR=aT[aS];if(aR==="for"||aR==="while"||aR==="do"){aQ=true;break}}}return aQ},toCode:function(aP){return am.getFunctionCode(aP)},isWord:(function(){var aP={SPACE:/\s/,WORDS:/[$\w\u0100-\uFFFF]/};
return function(aQ){return aQ!=null&&!aP.SPACE.test(aQ)&&aP.WORDS.test(aQ)}}()),isNL:(function(){var aP=/\r\n|\r|\n/;return function(aQ){return aQ!=null&&aP.test(aQ)
}}()),format:function(){var aP=aA(arguments);return aP[0].replace(/#(\d+)/g,function(aQ,aR){return aP[+aR]})},joinTokens:function(aU){var aX=[],aT=aU.length,aR,aW,aQ,aV,aS,aP;
for(aS=0;aS<aT;aS++){aP=aU[aS];if(!aR){aX[aX.length]=aP}else{aQ="";aV="";if(aP==="+"||aP==="-"||aP==="++"||aP==="--"||aP==="in"){aQ=" ";aV=" "}else{if(this.isWord(aR.slice(-1))&&this.isWord(aP.charAt(0))){aQ=" "
}}if(aW===" "){aQ=""}aX[aX.length]=aQ+aP+aV}aR=aP;aW=aV}return aX.join("")},toEnd:function(aQ){var aP;if(b(aQ)){aP=this.joinTokens(aQ)}else{aP=Q(aQ)}if(ak(aP).slice(-1)===";"){return aP
}return aP?aP+";":aP},generateUniqName:function(aQ){var aP;do{aP=P(aQ||am,"")}while(~am.indexOf(this.tokens,aP));return aP},tokenize:(function(){var aP={TOKEN:new RegExp("(^\\s*function\\b[^{]*[{]|[}][^}]*$|/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\[\\s\\S]|[^\"\\r\\n\\\\])*\"|'(?:\\\\[\\s\\S]|[^'\\r\\n\\\\])*'|/(?![*])(?:\\\\.|[^/\\r\\n\\\\])+/[gimy]{0,4}|<([^\\s>]*)[^>]*>[\\s\\S]*?</\\2>|>>>=?|<<=|===|!==|>>=|[+][+](?=[+])|[-][-](?=[-])|[=!<>*+/&|^-]=|[&][&]|[|][|]|[+][+]|[-][-]|<<|>>|0(?:[xX][0-9a-fA-F]+|[0-7]+)|\\d+(?:[.]\\d+)?(?:[eE][+-]?\\d+)?|[1-9]\\d*|[-+/%*=&|^~<>!?:,;@()\\\\[\\].{}]|(?![\\r\\n])\\s+|(?:\\r\\n|\\r|\\n)|[^\\s+/%*=&|^~<>!?:,;@()\\\\[\\].{}'\"-]+)","g"),NOTSPACE:/[\S\r\n]/,COMMENTS:/^\/{2,}[\s\S]*$|^\/[*][\s\S]*?[*]\/$/};
return function(aU){var aT=[],aQ,aR,aS=this.toCode(aU);if(aS){aP.TOKEN.lastIndex=0;while((aQ=aP.TOKEN.exec(aS))!=null){aR=aQ[1];if(!aP.NOTSPACE.test(aR)||aP.COMMENTS.test(aR)){continue
}else{aT[aT.length]=aR}}}return aT}}()),parseLoop:function(){var aZ,aX=0,aY=[],aS=[],aW=0,aQ=0,aP=0,aU,aT,aR,aV=this.tokens.length;for(aT=0;aT<aV;aT++){aR=this.tokens[aT];
switch(aR){case"for":case"while":case"do":if(!aU){aU={token:aR,org:{level:aP,nest:aQ},cur:{level:aP,nest:aQ}}}break;case"(":aQ++;if(aU){aU.cur.nest++}break;case")":aQ--;
if(aU){if(--aU.cur.nest===aU.org.nest&&aU.cur.level===aU.org.level&&aU.token==="do"){aU.last=true}}break;case"{":aP++;if(aU){aU.cur.level++}break;case"}":aP--;if(aU){if(--aU.cur.level===aU.org.level&&aU.cur.nest===aU.org.nest&&aU.token!=="do"){aU.last=true
}}break}if(aU){if(!(aW in aY)){aY[aW]=[];aS[aW]={start:aT}}aY[aW][aY[aW].length]=aR;if(aU.last){aS[aW].end=aT;aU=null;aW++}}}aV=aY.length;for(aT=0;aT<aV;aT++){if(aY[aT].length>aX){aX=aT
}}this.iteration={loops:aY[aX],start:aS[aX].start,end:aS[aX].end};return aZ},deferrizeLoop:function(){var aQ=this.iteration.loops,aP=aQ.shift();switch(aP){case"for":return this.parseFor(aQ);
case"while":return this.parseWhile(aQ);case"do":return this.parseDoWhile(aQ)}},deferrizeFunction:function(){var a0,aU,aS,aQ,aT,aW=this.tokens.length,aY="before",aX,aZ={level:0,block:0},aR={before:[],loop:[],after:[],result:[]},aV=function(a1){if(!aZ[a1]){aZ[a1]={block:aZ.block,level:aZ.level}
}},aP=function(a1){aF(a1?aA(a1):["func","cond"],function(a2){if(aZ[a2]&&aZ[a2].block===aZ.block&&aZ[a2].level===aZ.level){aZ[a2]=null}})};for(aT=1;aT<aW-1;aT++){if(aT>=this.iteration.start&&aT<=this.iteration.end){if(!aS){aS=true;
aT=this.iteration.end-1;aR.loop=aA(this.deferrizeLoop());aY="after";if(aZ.cond){aX=true}}continue}aQ=this.tokens[aT];aU=this.tokens[aT+1];switch(aQ){case"{":aZ.block++;
break;case"}":aZ.block--;aP();break;case"(":aZ.level++;break;case")":aZ.level--;if(aZ.cond&&aZ.cond.expr&&aU==="{"){aZ.cond.expr=null;aP("func")}else{aP()}break;
case";":aP("result");break;case"function":aV("func");break;case"if":aV("cond");aZ.cond.expr=true;break;case"return":if(!aZ.func&&!aZ.result){if(!aU||aU===";"||this.isNL(aU)){aQ=this.format("#1 #2=void 0#3",aQ,this.uniqs.ret,(aU===";"||this.isNL(aU))?"":";")
}else{aQ=this.format("#1(#2!==#3)?#2:#2=",aQ,this.uniqs.ret,this.uniqs.rev)}aR.result=[];aV("result")}break;default:if(aZ.result&&this.isNL(aQ)){aP("result")}break
}aR[aY][aR[aY].length]=aQ;if(aZ.result){aR.result[aR.result.length]=aQ}}a0=this.format("#1var #2={},#3=#2,#4={};return Pot.Deferred.begin(function(){#5#6#9});#7#8}).then(function(r){return(#2===#3)?r:#2;});#10",this.tokens.shift(),this.uniqs.ret,this.uniqs.rev,this.uniqs.nxt,this.toEnd(this.joinTokens(aR.before)),this.joinTokens(aR.loop),this.joinTokens(this.tails),this.joinTokens(aX?aR.after:[]),this.joinTokens(aX?aR.result:aR.after),this.tokens.pop());
return a0},parseWhile:function(aZ){var a3="",aP=0,aQ=0,aY=false,aT,aW,a1,a0="cond",aV,aS,aU,aX=aZ.length,aR=false,a2={cond:[],body:[]};for(aU=0;aU<aX;aU++){aS=aZ[aU];
aW=aZ[aU+1];a1=false;switch(aS){case"(":aQ++;if(aV){aV.cur.nest++}if(aU===0&&aQ===1){a1=true}break;case")":aQ--;if(aV){if(--aV.cur.nest===aV.org.nest&&aV.cur.level===aV.org.level&&aV.token==="do"){aV=null
}}if(!aY&&aQ===0&&aP===0&&aW==="{"){a1=true}break;case"{":aP++;if(aV){aV.cur.level++}if(aP===1&&aQ===0&&aT===")"){a1=true;aY=true;a0="body"}break;case"}":aP--;if(aV){if(--aV.cur.level===aV.org.level&&aV.cur.nest===aV.org.nest&&aV.token!=="do"){aV=null
}}if(aY&&aQ===0&&aP===0){a2.body.unshift(this.format("if(#1!==#2||!(#3)){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev,this.joinTokens(a2.cond)||"false"));
a2.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}",this.uniqs.err,this.uniqs.nxt));aS+=").then(function(){";
aR=true}break;case"for":case"while":case"do":aV={token:aS,org:{level:aP,nest:aQ},cur:{level:aP,nest:aQ}};break;case"break":if(!aV&&aY&&!this.isWord(aW)){aS="throw Pot.StopIteration"
}break;case"continue":if(!aV&&aY&&!this.isWord(aW)){aS="throw "+this.uniqs.nxt}break;case"return":if(aY){if(!aW||aW===";"||this.isNL(aW)){aS=this.format("#1 #2=void 0#3",aS,this.uniqs.ret,(aW===";"||this.isNL(aW))?"":";")
}else{aS=this.format("#1 #2=",aS,this.uniqs.ret)}}break}if(!a1){a2[a0][a2[a0].length]=aS}aT=aS}a3="";if(!aR){throw new Error("Parse error, expect 'while(...)'")}a3=this.format("return Pot.Deferred.forEver.#1(function(){#2",aN,this.joinTokens(a2.body));
return a3},parseDoWhile:function(aY){var a2="",aP=0,aQ=0,aT,aW,aZ,a0="body",aV,aS,aU,aX=aY.length,aR=false,a1={cond:[],body:[],after:[]};for(aU=0;aU<aX;aU++){aS=aY[aU];
aW=aY[aU+1];aZ=false;switch(aS){case"(":aQ++;if(aV){aV.cur.nest++}if(aP===0&&aQ===1&&aT==="while"){aZ=true;a0="cond"}break;case")":aQ--;if(aV){if(--aV.cur.nest===aV.org.nest&&aV.cur.level===aV.org.level&&aV.token==="do"){aV=null
}}if(aQ===0&&aP===0&&a0==="cond"){aZ=true}break;case"{":aP++;if(aV){aV.cur.level++}if(aU===0&&aP===1){aZ=true}break;case"}":aP--;if(aV){if(--aV.cur.level===aV.org.level&&aV.cur.nest===aV.org.nest&&aV.token!=="do"){aV=null
}}if(aQ===0&&aP===0&&aW==="while"){aR=true;aZ=true}break;case"while":if(aP===0&&aQ===0){aZ=true;break}case"for":case"do":aV={token:aS,org:{level:aP,nest:aQ},cur:{level:aP,nest:aQ}};
break;case"break":if(!aV&&!this.isWord(aW)){aS="throw Pot.StopIteration"}break;case"continue":if(!aV&&!this.isWord(aW)){aS="throw "+this.uniqs.nxt}break;case"return":if(!aW||aW===";"||this.isNL(aW)){aS=this.format("#1 #2=void 0#3",aS,this.uniqs.ret,(aW===";"||this.isNL(aW))?"":";")
}else{aS=this.format("#1 #2=",aS,this.uniqs.ret)}break}if(!aZ){a1[a0][a1[a0].length]=aS}aT=aS}a2="";if(!aR){throw new Error("Parse error, expect 'do...while()'")
}a1.body.unshift(this.format("if(#1!==#2){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev));a1.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}finally{if(!(#3)){throw Pot.StopIteration;}}}).then(function(){",this.uniqs.err,this.uniqs.nxt,this.joinTokens(a1.cond)||"false"));
a2=this.format("return Pot.Deferred.forEver.#1(function(){#2",aN,this.joinTokens(a1.body));return a2},parseFor:function(a0){var a5="",aP=0,aQ=0,aX=null,aZ=false,aT,aW,a2,a1="before",a4,aV,aU,aY,aS,aR=false,a3={prefix:[],suffix:[],before:[],cond:[],after:[],key:[],target:[],body:[]};
aY=a0.length;for(aU=0;aU<aY;aU++){aS=a0[aU];aW=a0[aU+1];a2=false;switch(aS){case"(":aQ++;if(aV){aV.cur.nest++}if(aU===0&&aQ===1){a2=true}break;case")":aQ--;if(aV){if(--aV.cur.nest===aV.org.nest&&aV.cur.level===aV.org.level&&aV.token==="do"){aV=null
}}if(!aZ&&aQ===0&&aP===0&&aW==="{"){a2=true}break;case"{":aP++;if(aV){aV.cur.level++}if(aP===1&&aQ===0&&aT===")"){a2=true;aZ=true;a1="body"}break;case"}":aP--;if(aV){if(--aV.cur.level===aV.org.level&&aV.cur.nest===aV.org.nest&&aV.token!=="do"){aV=null
}}if(aZ&&aQ===0&&aP===0){a3.body.unshift(this.format("if(#1!==#2){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev));if(a3.suffix.length){a3.body.push(this.toEnd(this.joinTokens(a3.suffix)))
}a3.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}finally{#3}",this.uniqs.err,this.uniqs.nxt,this.toEnd(this.joinTokens(a3.after))));
aS+=").then(function(){";aR=true}break;case"each":if(aU===0){throw new Error("Not supported 'for each'")}break;case"in":case"of":if(!aZ&&aX===null&&aQ===1&&aP===0){a2=true;
aX=true;if(a3.before.length>2){throw new Error("Invalid keys, expect 'for(var [...] in ...);'")}if(a4){a3.before.push(";");at.apply(a3.prefix,a3.before);a3.before.shift();
a3.before.pop();if(a4==="let"){a3.prefix.unshift("{");this.tails.push("}")}}a3.before.push("="+this.uniqs.key);a3.before.push(";");a3.key=a3.before;at.apply(a3.body,a3.key);
a1="target"}break;case"var":case"let":if(!a4&&aU===1&&aQ===1){a4=aS}break;case",":if(!aZ&&aQ===1&&aP===0&&!a4&&(a1==="before"||a1==="after")){aS=";"}break;case";":if(!aZ&&aQ===1&&aP===0){a2=true;
if(aX===null){aX=false}if(a1==="before"){a1="cond";a3.prefix.push(this.toEnd(this.joinTokens(a3.before)));if(a4==="let"){a3.prefix.unshift("{");this.tails.push("}")
}}else{if(a1==="cond"){a1="after";if(a3.cond.length){a3.cond.unshift("if(");a3.cond.push("){");a3.suffix.push("}else{throw Pot.StopIteration;}")}f.apply(a3.body,a3.cond)
}}}break;case"for":case"while":case"do":aV={token:aS,org:{level:aP,nest:aQ},cur:{level:aP,nest:aQ}};break;case"break":if(!aV&&aZ&&!this.isWord(aW)){aS="throw Pot.StopIteration"
}break;case"continue":if(!aV&&aZ&&!this.isWord(aW)){aS="throw "+this.uniqs.nxt}break;case"return":if(aZ){if(!aW||aW===";"||this.isNL(aW)){aS=this.format("#1 #2=void 0#3",aS,this.uniqs.ret,(aW===";"||this.isNL(aW))?"":";")
}else{aS=this.format("#1 #2=",aS,this.uniqs.ret)}}break}if(!a2){a3[a1][a3[a1].length]=aS}aT=aS}a5="";if(!aR){throw new Error("Parse error, expect 'for(...)'")}if(aX){a5=this.format("#1return Pot.Deferred.forEach.#2(#3,function(#4,#5){#6",this.toEnd(this.joinTokens(a3.prefix)),aN,this.joinTokens(a3.target),this.uniqs.val,this.uniqs.key,this.joinTokens(a3.body))
}else{a5=this.format("#1return Pot.Deferred.forEver.#2(function(){#3",this.toEnd(this.joinTokens(a3.prefix)),aN,this.joinTokens(a3.body))}return a5}});aK.prototype.init.prototype=aK.prototype;
A(B,{deferrate:function(aP){return(new aK(aP)).execute()}});A(h,{deferreed:function(aU,aP){var aX,aS,aR,aT,aQ,aW;try{switch(arguments.length){case 0:throw false;
case 1:aS=aU;if(!aj(aS)){throw aS}aW=aS;break;case 2:default:if(w(aP)){aR=aP;aS=aU}else{aS=aP;aR=aU}if(!aj(aR[aS])){throw aS}aW=aR[aS];break}if(!aW||!aj(aW)||am.isBuiltinMethod(aW)){throw aW
}aQ=B.deferrate(aW);if(!aQ){throw aQ}if(aQ===aW){aX=h.deferrize(aW)}else{if(!aw(aQ)){throw aQ}aX=B.defineDeferrater(function(aZ){var a0=aQ.replace(aN,aZ),aY=am.localEval(a0,aR);
return function(){return aY.apply(aR,arguments)}})}if(!aX||!aj(aX)){throw aX}}catch(aV){aT=aV;throw d(aT)?aT:new Error(aT)}return aX}});am.update({deferreed:h.deferreed})
}());delete W.createIterators;delete W.createProtoIterators;delete W.createSyncIterator}());(function(){var aX,aZ,aL=".",aT={URI:/^(?:[\w.*=+-]+:+|)[-.!~\w\/\\?@&=+$%#^]+$/i,FUNC:/^[\s();]*(?:new|)[\s();]*|[\s();]*$/g,FUNF:/^[\s();]*(?:new|)[\s();]{0,}/,FUNT:/[\s();]*$/,HEAD:/^(?:(?![(]?[)]{0}function)[\s\S])*([(]?[)]{0}function)\b/,DEFF:/^[\s;{}()]*(?:new|)[\s;{}()]*function\b/,DEFT:/[^{]*[}][\s;]*$/,PREF:/^([\s;{}()]*(?:new|)[\s;{}()]*function\b[^{]+?[{])(?=[^}]*[}])/,ARGS:/^function\s*[^()]*?[(]\s*(?:\S[^()]*?)\s*[)]/,LOAD:/complete|loaded/i,DATA:new RegExp("^data:((?:[\\w.*+-]+/[\\w.*+-]+|[*]|)(?=[;,])|)(;?charset=[\"']?[\\w.=*+-]+['\"]?(?=[;,])|)(;?base64(?=,)|),([\\s\\S]*)$","i"),MSG:new RegExp("(?:^|\\b)(?:\\[[\"']|)onmessage(?:['\"]\\]|)\\s*=|(?:^|\\b)addEventListener\\s*[(]\\s*[\"'](?:[Oo][Nn]|)[Mm][Ee][Ss][Ss][Aa][Gg][Ee]['\"][\\s\\S]*?[)]")};
aX=function(bb){return new aX.fn.init(bb)};aX.fn=aX.prototype=A(aX.prototype,{constructor:aX,child:null,queues:[],fired:false,callback:null,init:function(bb){this.child=new aZ(this,bb);
return this},postMessage:function(bc){var bb=this,bd=this.child;this.queues.push(bc);h.till(function(){return bd.isReady()}).then(function(){var be=aA(bb.queues.splice(0,bb.queues.length));
return h.forEach(be,function(bf){return h.flush(function(){var bg;try{if(bd.nativeWorker){bd.nativeWorker.postMessage(bf)}else{bd.onmessage({data:bf})}}catch(bh){bg=bh;
if(!az(bg)){throw bg}}finally{bb.fired=true}})})})},terminate:function(){var bb=this.child;if(bb){if(bb.nativeWorker){bb.nativeWorker.terminate()}if(bb.context&&bb.stopId&&bb.stopId in bb.context){bb.context[bb.stopId]=true;
if(bb.elem){h.till(function(){return bb.context[bb.isStoppedId]===true}).wait(1).then(function(){try{bb.elem.parentNode.removeChild(bb.elem)}catch(bc){}bb.elem=null
}).ensure(function(){})}}}},addEventListener:function(bb,bc){if(aj(bc)){switch(Q(bb).toLowerCase()){case"message":this.onmessage=bc;break;case"error":this.onerror=bc
}}},removeEventListener:function(bb){switch(Q(bb).toLowerCase()){case"message":this.onmessage=null;break;case"error":this.onerror=null}}});aX.fn.init.prototype=aX.fn;
aZ=function(bc,bb){return new aZ.fn.init(bc,bb)};aZ.fn=aZ.prototype=A(aZ.prototype,{constructor:aZ,server:null,queues:[],loaded:false,context:{},elem:null,nativeWorker:null,stopId:null,isStoppedId:null,usePot:false,init:function(bd,bc){var bb=this;
this.server=bd;this.context=A({},{postMessage:ba(this.postMessage,this),importScripts:ba(this.importScripts,this),addEventListener:ba(this.addEventListener,this),removeEventListener:ba(this.removeEventListener,this),onmessage:null,onerror:null});
aF({stopId:["stop",false],isStoppedId:["stopped",false]},function(bf,be){bb[be]=P(am,bf[0]);bb.context[bb[be]]=bf[1]});h.flush(function(){bb.runScript(bc)});return this
},compriseScript:function(bc,bf){var bb="",bg,be,bd;if((q.hasWorker&&(q.canWorkerDataURI||q.canWorkerBlobURI))||(q.hasChromeWorker&&(q.canChromeWorkerDataURI||q.canChromeWorkerBlobURI))){bd=true
}if(bc){if(bf){be=am.getFunctionCode(bc).replace(aT.FUNC,"")}else{be=Q(bc,true)}bg=am.tokenize(be);be=am.joinTokens(bg);this.usePot=this.isPotUsing(bg);if(this.usePot&&q.isMozillaBlobBuilder){bd=false
}if(aT.MSG.test(be)){if(bd){bb=this.insertProvision(bg,bf)}else{if(aT.DEFF.test(be)){be=am.format("(#1).call(this);",be.replace(aT.HEAD,"$1").replace(aT.FUNC,""));
bb=this.insertStepStatements(am.tokenize(be))}else{bb=this.insertStepStatements(bg)}}}else{if(aT.DEFF.test(be)){be=am.format('(#1).call(this,(!event||typeof event.data==="undefined")?void 0:event.data,event);',be.replace(aT.HEAD,"$1").replace(aT.FUNC,""))
}if(bd){bb=this.providePot(be)}else{be=this.insertStepStatements(am.tokenize(be));bb="onmessage=(function(){var self=this;return function(){var event=arguments[0];return(function(){"+be+'}).call(self);};}).call((typeof self!=="undefined"&&self&&self.postMessage)?self:this);'
}}}return bb},isPotUsing:function(bi){var bj=false,be,bd,bc,bg,bb,bf,bh;if(bi){bg=bi.length;for(be=0;be<bg;be++){bb=bi[be];bf="";for(bd=be+1;bd<bg;bd++){bf=bi[bd];
if(am.isNL(bf)){continue}else{break}}bh="";for(bc=bd+1;bc<bg;bc++){bh=bi[bc];if(am.isNL(bh)){continue}else{break}}switch(bb){case"Pot":if(bf==="."||(bf==="["&&bh!=="]")){bj=true
}}if(bj){break}}}return bj},insertStepStatements:function(bm){var bg=[],bd,bh,bf,be,bk,bc,bi,bl,bn,bb=P(am,"$this$scope"),bj={pre:am.format("var #1=this;Pot.Deferred.forEver(function(){(function(){",bb),suf:am.format("}).call(#1);throw Pot.StopIteration;}).then(function(){#2=true;});",bb,this.isStoppedId),step:am.format("if(#1){throw Pot.StopIteration;}",this.stopId)};
bk=bm.length;for(bh=0;bh<bk;bh++){bn=false;bd=bm[bh];bi="";for(bf=bh+1;bf<bk;bf++){bi=bm[bf];if(am.isNL(bi)){continue}else{break}}bl="";for(be=bf+1;be<bk;be++){bl=bm[be];
if(am.isNL(bl)){continue}else{break}}switch(bd){case"{":if(bc===")"&&bi!=="}"&&bi!=="case"&&bi!=="default"&&bl!==":"){bn=true}}if(!am.isNL(bd)){bc=bd}bg[bg.length]=bd;
if(bn){bg[bg.length]=bj.step}}bg.unshift(bj.pre+bj.step);bg.push(bj.suf);return am.joinTokens(bg)},providePot:function(be){var bb,bd=P({NAME:"scope"},"$"),bc=this.getPotScript();
bb=am.format('var #1=this;onmessage=(function(){var self=this;return function(){var event=arguments[0];if(typeof Pot==="undefined"){(#2)(#1||{});}return(function(){#3}).call(self);};}).call((typeof self!=="undefined"&&self&&self.postMessage)?self:this);',bd,bc,be);
return bb},insertProvision:function(bh,be){var bb,bd,bg,bf={},bc=this.getPotScript();aF(["scope","script","func"],function(bi){bf[bi]=P({NAME:bi},"$")});bg=this.parseScript(bh);
bd=am.format('(function(){var self=this;return function(){return(function(){if(typeof Pot==="undefined"){(#1)(#2||{});}var #3=#4;return #3.apply(this,arguments);}).apply(self,arguments);};}).call((typeof self!=="undefined"&&self&&self.postMessage)?self:this)\n',bc,bf.scope,bf.func,bg.func);
if(be||(aT.DEFF.test(bg.pre)&&aT.DEFT.test(bg.suf))){bb=am.format("var #1=this;(#2#3#4).call(this);",bf.scope,bg.pre.replace(aT.FUNF,""),bd,bg.suf.replace(aT.FUNT,""))
}else{bb=am.format("var #1=this;#2#3#4",bf.scope,bg.pre,bd,bg.suf)}return bb},getPotScript:function(){var bb=am.getFunctionCode(B.ScriptImplementation).replace(aT.FUNC,"");
return bb},parseScript:function(bj){var bn=[],bd=[],bl=[],bq,bp,bs=bj&&bj.length,bh,bk,bf,bi,br,bo,bc,be,bg,bb,bv,bw,bt,bm,bu;for(bq=0;bq<bs;bq++){bh=bj[bq];if(bm){bd[bd.length]=bh;
continue}bk="";for(bp=bq+1;bp<bs;bp++){bk=bj[bp];if(am.isNL(bk)){continue}else{break}}switch(bh){case"onmessage":bc=false;if(bk==="="&&!be&&!bu){bg=true}break;case"function":bc=false;
if(br){be=true}break;case"addEventListener":bc=true;break;case"=":if(bg&&!be&&!bu){bf=true;bg=false}break;case"{":if(br&&be&&!bu){bv=bb=1;br=false}else{if(be&&!bu){bb++
}}break;case"}":if(be&&!bu){if(bb--===bv){bu=true;if(bk==="("||bk===")"||bk==="."){break}be=false;bi=true}}break;case"(":if(bu&&be&&bt==null){bt=bw=1}else{if(be){bw++
}}break;case")":if(bu&&be){if(bt==null){if(bk==="("||bk===")"||bk==="."){break}be=false;bi=true}else{bw--;if(bk==="("||bk===")"||bk==="."){break}if(bw===bt-1){be=false;
bi=true}}}break;case",":if(bc&&bg&&!be&&!bu){bf=true;bg=false}break;default:if(bc&&bk===","&&((bh.charAt(0)==='"'&&bh.slice(-1)==='"')||(bh.charAt(0)==="'"&&bh.slice(-1)==="'"))){bo=bh.slice(1,-1).toLowerCase();
if(bo==="message"){bg=true;break}}if(bc&&am.isWords(bh)){bc=false}}if(br||be||bi){bl[bl.length]=bh;if(bi){bi=false;bm=true}}else{bn[bn.length]=bh;if(bf){br=true;
bf=false}}}return{pre:am.joinTokens(bn),suf:am.joinTokens(bd),func:am.joinTokens(bl)}},loadScript:function(bi,bd){var bg=this,bb,bf,be,bc,bh;if(aN()){be=q.hasChromeWorker;
bc=be&&q.canChromeWorkerDataURI;bh=be&&q.canChromeWorkerBlobURI}else{be=q.hasWorker;bc=be&&q.canWorkerDataURI;bh=be&&q.canWorkerBlobURI}if(bi){if(aj(bi)){bf=this.compriseScript(bi,true);
if(q.isMozillaBlobBuilder&&this.usePot){bb=[bf,false]}else{if(bh){bb=[aI(bf),true]}else{if(bc){bb=[aY(bf),true]}else{bb=[bf,false]}}}}else{bf=Q(bi,true);if(aO(bf)){if(a5(bf)){bf=this.compriseScript(a8(bf));
if(q.isMozillaBlobBuilder&&this.usePot){bb=[bf,false]}else{if(bh){bb=[aI(bf),true]}else{if(bc){bb=[aY(bf),true]}else{bb=[bf,false]}}}}else{if(aM(bf)){bf=this.compriseScript(aU(bf));
if(q.isMozillaBlobBuilder&&this.usePot){bb=[bf,false]}else{if(bc){bb=[aY(bf),true]}else{if(bh){bb=[aI(bf),true]}else{bb=[bf,false]}}}}else{if(bd){bb=this.compriseScript(bf)
}else{bb=a4(bf,true).then(function(bj){return bg.loadScript(bj,true)})}}}}else{bf=this.compriseScript(bf);if(q.isMozillaBlobBuilder&&this.usePot){bb=[bf,false]}else{if(bh){bb=[aI(bf),true]
}else{if(bc){bb=[aY(bf),true]}else{bb=[bf,false]}}}}}}return h.maybeDeferred(bb)},runScript:function(bc){var bb=this;return this.loadScript(bc).then(function(bf,bd){var be;
if(bf){if(bd){bb.nativeWorker=a6(bf);bb.loaded=true}else{if(q.isWebBrowser&&q.isNotExtension){be=a2(bf,bb.context,bb)}if(be){bb.elem=be;h.till(function(){return aW(be)
}).then(function(){bb.loaded=true})}else{aR(bf,bb.context);bb.loaded=true}}}})},isReady:function(){this.referEvents();return this.loaded&&((this.nativeWorker&&this.nativeWorker.onmessage)||(aj(this.server.onmessage)&&aj(this.onmessage)))
},referEvents:function(){if(this.nativeWorker){if(this.server.onmessage){this.nativeWorker.onmessage=this.server.onmessage}if(this.server.onerror){this.nativeWorker.onerror=this.server.onerror
}}else{if(this.context){if(this.context.onmessage){this.onmessage=this.context.onmessage}if(this.context.onerror){this.onerror=this.context.onerror}}}},postMessage:function(bc){var bb=this;
this.queues.push(bc);return h.till(function(){return bb.isReady()&&bb.server.fired}).then(function(){var bd=aA(bb.queues.splice(0,bb.queues.length));return h.forEach(bd,function(be){return h.flush(function(){var bf;
try{bb.server.onmessage({data:be})}catch(bg){bf=bg;if(!az(bf)){throw bf}}})})})},importScripts:function(){var be=this,bd,bc=arguments,bb=bc.length,bf;for(bd=0;bd<bb;
bd++){bf=Q(bc[bd]);if(bf){a4(bf,true).then(function(bg){if(be.elem){a0(bg,be.elem,be.context)}else{am.globalEval(bg)}})}}},addEventListener:function(bb,bc){if(aj(bc)){switch(Q(bb).toLowerCase()){case"message":this.onmessage=bc;
break;case"error":this.onerror=bc}}},removeEventListener:function(bb){switch(Q(bb).toLowerCase()){case"message":this.onmessage=null;break;case"error":this.onerror=null
}}});aZ.fn.init.prototype=aZ.fn;am.update({Workeroid:function(bb){return e(this)?this.init(bb):new ai.fn.init(bb)}});ai=am.Workeroid;ai.fn=ai.prototype=A(ai.prototype,{constructor:ai,id:B.getMagicNumber(),serial:null,NAME:"Workeroid",toString:G,isWorkeroid:e,workers:{},workerLength:0,singleKey:null,init:function(bb){var bc=this;
if(!this.serial){this.serial=P(this)}a1.call(this);if(bb){if(w(bb)){this.singleKey=null;aF(bb,function(be,bd){aP.call(bc,bd,be)})}else{this.singleKey=P(this);aP.call(this,this.singleKey,bb)
}}return this},postMessage:function(){var be=this,bc=arguments,bf={},bd,bb=bc.length;switch(bb){case 0:if(this.singleKey){bf[this.singleKey]=void 0}break;case 1:if(w(bc[0])){bf=bc[0]
}else{bf[this.singleKey]=bc[0]}break;case 2:bf[bc[0]]=bc[1];break;default:bd=0;do{bf[bc[bd++]]=bc[bd++]}while(bd<bb)}aK.call(this);aF(bf,function(bj,bg){var bi=bj,bh=aJ.call(be,bg);
if(bi==null){bi=null}if(bh&&bh.postMessage){bh.postMessage(bi)}});return this},terminate:function(){var bd=this,bc=arguments,bb=bc.length,be;switch(bb){case 0:a1.call(this);
break;case 1:be=aA(bc[0]);break;default:be=aA(bc)}if(be){aF(be,function(bf){aH.call(bd,bf)})}return this},addEventListener:function(bb,bc){if(aj(bc)){switch(Q(bb).toLowerCase()){case"message":this.onmessage=bc;
break;case"error":this.onerror=bc}}return this},removeEventListener:function(bb){switch(Q(bb).toLowerCase()){case"message":this.onmessage=null;break;case"error":this.onerror=null
}return this}});function aK(){var bb=this;aF(this.workers,function(bc){if(bc){if(aj(bb.onmessage)){bc.onmessage=function(bd){bb.onmessage.call(bb,bd&&bd.data,bd);
bc.callback&&bc.callback(bd&&bd.data)}}if(bb.onerror){bc.onerror=bb.onerror}}})}function a3(bb){return aL+bb}function aQ(bb){return new aX(bb)}function a7(bb){return(a3(bb) in this.workers)
}function aP(bc,bb){var bd=a3(bc);if(a7.call(this)){aH.call(this,bc)}this.workers[bd]=aQ(bb);this.workerLength++}function aJ(bb){return this.workers[a3(bb)]}function aH(bb){var bc=a3(bb),bd=this.workers[bc];
if(bd){if(bd.terminate){bd.terminate()}this.workers[bc]=bd=null;delete this.workers[bc];this.workerLength--}}function a1(){var bb=this;if(this.workers){aF(this.workers,function(bd,bc){if(bc&&bc.charAt&&bc.charAt(0)===aL){aH.call(bb,bc.substring(1))
}})}this.workers={};this.workerLength=0}function ba(bd,bb){var bc=bb||null;return function(){return bd.apply(bc,arguments)}}function aS(bc){var bb={};if(typeof location!=="undefined"&&!!location){aF(["href","protocol","host","hostname","port","pathname","search","hash"],function(bd){try{bb[bd]=Q(location[bd])
}catch(be){}})}aF(["window","document","navigator"],function(bd){bc[bd]=void 0});bc.location=bb;bc.self=bc;bc.Pot=am}function aR(bc,bb){aS(bb);return(new Function("with(this){"+bc+"}")).call(bb)
}function a2(be,bf,bg){var bn=false,bi,bl,bh,bd,bm,bc,bb,bk;bi=am.currentWindow();bl=am.currentDocument();if(bi&&bl&&bi.document===bl&&bl.body){bb=!!(c.msie&&q.hasActiveXObject);
if(bb){bk=parseInt(c.msie.version,10)}do{bd=P({NAME:"potiframeworker"},"")}while((bd in bi)||bl.getElementById(bd));if(bb&&bk<=7){bh=bl.createElement('<iframe name="'+bd+'">')
}else{bh=bl.createElement("iframe")}bg.elem=bh;bh.name=bh.id=bd;bh.frameBorder=0;if(bb&&bk<7){bh.src="javascript:[]+[]"}bc=bh.style;bc.zIndex=-1;bc.visibility=bc.overflow="hidden";
bc.border=bc.outline=bc.margin=bc.padding="0";bc.minWidth=bc.minHeight="0px";bc.width=bc.height=bc.maxWidth=bc.maxHeight="10px";if(c.webkit){bc.marginTop=bc.marginLeft="-10px"
}else{bc.position="absolute";bc.top=bc.left="-20px"}bl.body.appendChild(bh);bm=bh.contentWindow||(bi.frames&&bi.frames[bd]);bl=aV(bh);if(!bl||!bm||!bl.write){try{bh.parentNode.removeChild(bh)
}catch(bj){}bg.elem=null}else{bl.open();aF(bf,function(bp,bo){bm[bo]=bp});aS(bf);do{bd=P(am,"$")}while(bd in bm);bm[bd]=bf;bl.write("<!doctype html><html><head>"+aG(am.format("(function(){with(#1){#2}}).call(#1);",bd,be))+"</head><body><br></body></html>");
bl.close();bn=bh}}return bn}function a0(bd,bj,be){var bh,bk,bn,bl,bm,bi,bg,bc,bb,bf="val";bh=am.currentWindow();bk=bj.contentWindow||(bh&&bh.frames&&bh.frames[bj.id]);
if(bk){bn=aV(bj);do{bb=P(am,"$")}while(bb in bk);bk[bb]=be;bc="with("+bb+"){"+bd+"}";if(bn){bl=bn.getElementsByTagName("head");if(bl&&bl[0]){bl=bl[0]}else{bl=bn.head||bn.body||bn.documentElement
}if(bl){bm=bn.createElement("script");bm.type="text/javascript";bm.defer=bm.async=false;if(q.hasActiveXObject&&"text" in bm){bm.text=bc}else{bm.appendChild(bn.createTextNode(bc))
}bl.appendChild(bm);bl.removeChild(bm);bi=true}}if(!bi){bg=["e"]+bf;if(bk[bg]){if(bk[bg].call&&bk[bg].apply){bk[bg].call(bk,bc)}else{bk[bg](bc)}bi=true}}}return bi
}function aW(be){var bb=false,bd;try{if(be){if(q.hasActiveXObject&&aT.LOAD.test(be.readyState)){bb=true}else{bd=aV(be);if(bd){bb=!!(bd.body&&bd.body.firstChild)}}}}catch(bc){}return bb
}function aV(bd){var bc=D,bb=av;if(bd==null){return null}if(bc(bd.contentWindow)&&bb(bd.contentWindow.document)){return bd.contentWindow.document}if(bb(bd.contentDocument)){return bd.contentDocument
}if(bb(bd.document)){return bd.document}return null}function aM(bb){return Q(bb).slice(0,5).toLowerCase()==="data:"}function a5(bb){return Q(bb).slice(0,11).toLowerCase()==="javascript:"
}function aO(bb){return aT.URI.test(Q(bb))}function a8(bb){var bc="";if(a5(bb)){bc=Q(bb).substring(11)}return bc}function aY(bb){return"data:application/javascript,"+am.URI.urlEncode(bb)
}function aU(bc){var bd="",bb;if(aM(bc)){aT.DATA.lastIndex=0;bb=aT.DATA.match(bc);if(bb&&bb[4]){bd=bb[4];if(bb[3]){bd=a9(bd)}else{bd=am.URI.urlDecode(bd)}}}return bd
}function aI(bc){var bb=new q.BlobBuilder();bb.append(bc);return q.BlobURI.createObjectURL(bb.getBlob())}function a9(bb){if(am.Base64){return am.Base64.decode(bb)
}if(!a9.decode){a9.decode=(function(){var bd=UPPER_ALPHAS+LOWER_ALPHAS+DIGITS+"+/=",bc=function(bf){if(am.UTF8){return am.UTF8.decode(bf)}try{return am.URI.urlDecode(escape(bf))
}catch(bg){try{return decodeURIComponent(escape(bf))}catch(be){return bf}}};return function(bf){var bl="",be=-8,bk=0,bj,bi,bg=0,bm=Q(bf),bh=bm.length;for(;bg<bh;
bg++){bj=bd.indexOf(bm.charAt(bg));if(bj>=0){bk=(bk<<6)|(bj&63);if((be+=6)>=0){bi=bk>>be&255;if(bj!==64){bl+=g(bi)}bk&=63;be-=8}}}return bc(bl)}}())}return a9.decode(bb)
}function a6(bb){return aN()?new ChromeWorker(bb):new Worker(bb)}function aN(){var bc=0,bb=0;if(q.hasChromeWorker){bc++;if(q.canChromeWorkerDataURI){bc++}if(q.canChromeWorkerBlobURI){bc++
}}if(q.hasWorker){bb++;if(q.canWorkerDataURI){bb++}if(q.canWorkerBlobURI){bb++}}return bc>=bb}function aG(bb){return["<script>"+bb+"</"]+["script>"]}function a4(bb,bd){var bc="application/javascript";
return am.Net.request(bb,{sync:bd,mimeType:bc,headers:{"Content-Type":bc}}).then(function(be){return Q(be&&be.responseText)})}}());am.update({Serializer:{}});(function(){var aG,aH;
if(typeof JSON==="object"&&am.isBuiltinMethod(JSON.stringify)&&am.isBuiltinMethod(JSON.parse)){A(am.Serializer,{serializeToJSON:function(){return JSON.stringify.apply(null,arguments)
},parseFromJSON:function(){return JSON.parse.apply(null,arguments)}});return}aG="null";aH=A(function(){},{charsCache:{'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000B"},replaceTo:/\uFFFF/.test("\uFFFF")?/[\\\"\x00-\x1F\x7F-\uFFFF]/g:/[\\\"\x00-\x1F\x7F-\xFF]/g});
aH.prototype=A(aH.prototype,{serialize:function(aI){var aJ=[];this.serializeAll(aI,aJ);return aJ.join("")},serializeAll:function(aI,aJ){if(aI==null){aJ[aJ.length]=aG
}else{switch(aa(aI)){case"string":this.serializeString(aI,aJ);break;case"number":this.serializeNumber(aI,aJ);break;case"boolean":aJ[aJ.length]=(aI==true)?"true":"false";
break;case"array":this.serializeArray(aI,aJ);break;case"object":case"error":this.serializeObject(aI,aJ);break;case"date":this.serializeDate(aI,aJ);break;case"regexp":this.serializeString(aI.toString(),aJ);
break;case"function":break;default:aJ[aJ.length]=aG}}},padZero:function(aI){return(aI<10)?"0"+aI:aI},serializeDate:function(aK,aI){var aJ=this.padZero;result=isFinite(aK.valueOf())?'"'+aK.getUTCFullYear()+"-"+aJ(aK.getUTCMonth()+1)+"-"+aJ(aK.getUTCDate())+"T"+aJ(aK.getUTCHours())+":"+aJ(aK.getUTCMinutes())+":"+aJ(aK.getUTCSeconds())+'Z"':aG;
aI[aI.length]=result},serializeString:function(aK,aI){var aJ=aK.replace(aH.replaceTo,function(aN){var aM,aL;if(aN in aH.charsCache){return aH.charsCache[aN]}aM=aN.charCodeAt(0);
aL="\\u";if(aM<16){aL+="000"}else{if(aM<256){aL+="00"}else{if(aM<4096){aL+="0"}}}aL=aL+aM.toString(16);aH.charsCache[aN]=aL;return aL});aI[aI.length]='"'+aJ+'"'},serializeNumber:function(aJ,aI){aI[aI.length]=(isFinite(aJ)&&!isNaN(aJ))?aJ:aG
},serializeArray:function(aJ,aN){var aI,aK="",aM,aL,aP;aI=aJ&&aJ.length;aN[aN.length]="[";for(aM=0;aM<aI;aM++){aL=true;try{aP=aJ[aM]}catch(aO){aL=false}if(aL){aN[aN.length]=aK;
this.serializeAll(aP,aN);aK=","}}aN[aN.length]="]"},serializeObject:function(aO,aL){var aI="",aK,aJ,aM;aL[aL.length]="{";for(aK in aO){aJ=true;if(V.call(aO,aK)){try{aM=aO[aK];
if(aj(aM)){throw aM}}catch(aN){aJ=false}if(aJ){aL[aL.length]=aI;this.serializeString(aK,aL);aL[aL.length]=":";this.serializeAll(aM,aL);aI=","}}}aL[aL.length]="}"
}});A(am.Serializer,{serializeToJSON:function(aI){return(new aH()).serialize(aI)},parseFromJSON:A(function(aK){var aI=am.Serializer.parseFromJSON,aJ;aJ=String(aK).replace(aI.PATTERNS.CLEAN,"");
if(aI.isValid(aI,aJ)){return am.localEval("("+aJ+")")}else{throw new Error("Invalid JSON string: "+aJ)}},{PATTERNS:{META:/\\["\\\/bfnrtu]/g,STRING:/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1F\x80-\x9F]*"/g,EXPRS:/true|false|null|[+-]?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,BRACKETS:/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,REMAINDER:/^[\],:{}\s\u2028\u2029]*$/,SPACE:/^\s*$/,CLEAN:/^(?:[{[(']{0}[')\]}]+|)[;\s\u00A0]*|[;\s\u00A0]*$/g},isValid:function(aL,aK){var aI="@",aM="[]".charAt(1),aJ=aL.PATTERNS;
if(aJ.SPACE.test(aK)){return false}return aJ.REMAINDER.test(aK.replace(aJ.META,aI).replace(aJ.STRING,aM).replace(aJ.EXPRS,aM).replace(aJ.BRACKETS,""))}})})}());A(am.Serializer,{serializeToQueryString:function(aJ){var aH=[],aI,aG;
if(!aJ||aJ==false){return""}if(typeof Buffer!=="undefined"&&aJ.constructor===Buffer){return aJ}if(aw(aJ)){return Q(aJ)}aG=w(aJ);if(aG||af(aJ)){aI=am.URI.urlEncode;
aF(aJ,function(aQ,aL){var aR,aP,aK,aS,aM=0,aO=true;if(aG){aR=[aL,aQ]}else{aR=aQ}try{aP=Q(aR[0],false);aK=aR[1]}catch(aN){aO=false}if(aO&&(aP||aK)){if(!aG){aF(aJ,function(aT){if(aT){try{if(Q(aT[0],false)===aP){aM++
}}catch(aU){}}})}if(aM>1||b(aK)){aS="=";aP=Q(aP,true)+"[]"}else{aS=aP?"=":""}aF(aA(aK),function(aT){aH[aH.length]=aI(aP)+aS+aI(Q(aT,true))})}})}return aH.join("&")
},parseFromQueryString:function(aL,aK){var aG=[],aJ,aI,aH;if(w(aL)||b(aL)){return aL}if(aK){aG={}}aI=Q(aL,true);if(aI){aJ=am.URI.urlDecode;aH=/&(?:(?:amp|#(?:0*38|[xX]0*26));|)/;
while(aI.charAt(0)==="?"){aI=aI.substring(1)}aF(aI.split(aH),function(aO){var aN,aQ,aP,aM;aP=aO.split("=");switch(aP.length){case 0:break;case 1:aQ=aP[0];break;default:aN=aP[0];
aQ=aP[1];break}if(aN||aQ){aN=Q(aJ(aN));aQ=Q(aJ(aQ));if(aN.slice(-2)==="[]"){aM=aN.slice(0,-2);if(aK){if(V.call(aG,aM)){aG[aM]=ay.call([],aA(aG[aM]),aA(aQ))}else{aG[aM]=[aQ]
}}else{aG[aG.length]=[aM,aQ]}}else{if(aK){aG[aN]=aQ}else{aG[aG.length]=[aN,aQ]}}}})}return aG}});am.update({serializeToJSON:am.Serializer.serializeToJSON,parseFromJSON:am.Serializer.parseFromJSON,serializeToQueryString:am.Serializer.serializeToQueryString,parseFromQueryString:am.Serializer.parseFromQueryString});
am.update({URI:{}});A(am.URI,{urlEncode:A(function(aH){var aG="",aJ=am.URI.urlEncode,aI;aI=Q(aH,true);if(aI){if(am.isPercentEncoded(aI)){aG=aI}else{try{aG=aJ.encoder.component(aI)
}catch(aK){aG=aJ.encoder.encode(aI)}}}return Q(aG,true)},{encoder:{component:function(aG){return encodeURIComponent(aG)},encode:function(aI){var aG="",aK,aJ,aL,aH;
aK=Q(aI,true);if(aK){aJ=/[^!'-*.0-9A-Z_a-z~-]/g;aH="%";aL=function(aM){var aN,aO=aM.charCodeAt(0);if(aO<16){aN=aH+"0"+aO.toString(16)}else{if(aO<128){aN=aH+aO.toString(16)
}else{if(aO<2048){aN=aH+(aO>>6|192).toString(16)+aH+(aO&63|128).toString(16)}else{aN=aH+(aO>>12|224).toString(16)+aH+(aO>>6&63|128).toString(16)+aH+(aO&63|128).toString(16)
}}}return aN.toUpperCase()};aG=aK.replace(aJ,aL)}return aG}}}),urlDecode:A(function(aH){var aG="",aJ=am.URI.urlDecode,aI;aI=Q(aH,true);if(aI){aI=aI.replace(aJ.decoder.reSpace.from,aJ.decoder.reSpace.to);
try{aG=aJ.decoder.component(aI)}catch(aK){aG=aJ.decoder.decode(aI)}}return Q(aG,true)},{decoder:{reSpace:{from:/[+]/g,to:" "},component:function(aG){return decodeURIComponent(aG)
},decode:function(aH){var aG="",aJ,aI,aK;aJ=Q(aH,true);if(aJ){aI=new RegExp("%(?:E(?:0%[AB]|[1-CEF]%[89AB]|D%[89])[0-9A-F]|C[2-9A-F]|D[0-9A-F])%[89AB][0-9A-F]|%[0-7][0-9A-F]","gi");
aK=function(aL){var aM,aN=parseInt(aL.substring(1),16);if(aN<128){aM=aN}else{if(aN<224){aM=((aN&31)<<6|parseInt(aL.substring(4),16)&63)}else{aM=(((aN&15)<<6|parseInt(aL.substring(4),16)&63)<<6|parseInt(aL.substring(7),16)&63)
}}return g(aM)};aG=aJ.replace(aI,aK)}return aG}}})});am.update({urlEncode:am.URI.urlEncode,urlDecode:am.URI.urlDecode});am.update({Crypt:{}});A(am.Crypt,{hashCode:function(aJ){var aI=0,aL,aK,aH,aG=4294967296;
if(aJ==null){aL=String(aJ)}else{aL=aJ.toString?aJ.toString():String(aJ)}aH=aL.length;for(aK=0;aK<aH;++aK){aI=31*aI+aL.charCodeAt(aK);aI%=aG}return aI}});am.update({hashCode:am.Crypt.hashCode});
(function(){am.update({Net:{}});A(am.Net,{request:function(aL,aK){if(q.isGreasemonkey){return am.Net.requestByGreasemonkey(aL,aK)}else{if(q.isNodeJS){return am.Net.requestByNodeJS(aL,aK)
}else{return am.Net.XHR.request(aL,aK)}}},XHR:{ReadyState:{UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4},factory:function(){var aK;try{aK=new XMLHttpRequest()
}catch(aL){}if(!aK&&q.hasActiveXObject){aF(["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],function(aN){try{aK=new ActiveXObject(aN)
}catch(aM){}if(aK){throw au}})}return aK},request:(function(){var aM=function(aO,aN){return new aM.prototype.doit(aO,aN)},aK={URI:/^([^:]+)(?::+\/{0,}((?:[^@]+@|)[^\/\\?&#:;]*)(?::(\d+)|)|)/},aL=aK.URI.exec(am.currentURI().toLowerCase())||[];
aM.prototype=A(aM.prototype,{xhr:null,url:null,options:{},deferred:null,doit:function(aO,aN){var aQ=this;this.url=Q(aO,true);this.deferred=new h({canceller:function(){try{aQ.cancel(true)
}catch(aS){}}});if(this.url){try{this.setOptions(aN);if(this.factory()){this.open();this.setHeaders();this.setReadyStateChange();this.send()}}catch(aR){try{this.cancel(true)
}catch(aP){}this.deferred.raise(aR)}}return this},factory:function(){this.xhr=am.Net.XHR.factory();if(!this.xhr){this.deferred.raise("Failed to create XMLHttpRequest");
return false}else{return true}},setOptions:function(aN){var aO,aQ,aP={method:"GET",sendContent:null,queryString:null,callback:null,username:null,password:null,mimeType:null,responseType:null,binary:false,cache:true,sync:false,cookie:false,crossDomain:null,headers:{Accept:["*/"]+["*"],"X-Requested-With":"XMLHttpRequest"}};
if(w(aN)){aO=A({},aN)}else{aO={}}this.options=A({},aP,aO||{});this.method=ak(this.options.method).toUpperCase();if(!this.method){this.method=aP.method}this.url=aG(this.url,this.options.queryString);
this.options.sendContent=Q(am.Serializer.serializeToQueryString(this.options.sendContent),true);if((this.options.method==="GET"||this.options.method===aP.method)&&(this.options.sendContent)){this.options.method="POST"
}if(!this.options.cache&&(this.options.method==="GET"||this.options.method==="HEAD")){this.url=aI(this.url)}if(this.options.crossDomain==null){aK.URI.lastIndex=0;
aQ=aK.URI.exec(am.currentURI().toLowerCase());this.options.crossDomain=!!(aQ&&(aQ[1]!==aL[1]||aQ[2]!==aL[2]||aQ[3]!==aL[3]))}if(this.options.binary&&!this.options.mimeType){this.options.mimeType="text/plain; charset=x-user-defined"
}if(this.options.sync){this.deferred.async(false)}},open:function(){var aN=this.options.sync?false:true;if(this.options.username!=null){this.xhr.open(this.options.method,this.url,aN,Q(this.options.username,true),Q(this.options.password,true))
}else{this.xhr.open(this.options.method,this.url,aN)}},setHeaders:function(){var aN=this,aP;try{if(this.options.responseType){try{this.xhr.responseType=this.options.responseType
}catch(aO){}}if(this.options.cookie){try{this.xhr.withCredentials="true"}catch(aO){}}try{if(this.xhr.overrideMimeType&&this.options.mimeType!=null){this.xhr.overrideMimeType(this.options.mimeType)
}}catch(aO){}if(this.options.contentType!=null){aP=this.options.contentType}if(this.options.headers!=null){aF(this.options.headers,function(aR,aQ){if(!aP&&/^Content-?Type/i.test(aQ)){aP=aR
}else{aN.xhr.setRequestHeader(aQ,aR)}})}if(!aP&&this.options.method==="POST"){aP="application/x-www-form-urlencoded; charset=UTF-8"}if(aP){this.xhr.setRequestHeader("Content-Type",aP)
}}catch(aO){}},setReadyStateChange:function(){var aO=this,aN;if(this.options.sync){aN=function(aP){var aQ=new h({async:false});return aQ.then(aP).begin()}}else{aN=h.flush
}this.xhr.onreadystatechange=function(){var aP=null,aR;if(aO.xhr.readyState==am.Net.XHR.ReadyState.COMPLETE){aO.cancel();try{aP=parseInt(aO.xhr.status,10);aR=aO.xhr.responseText;
if(!aP&&aR){aP=304}}catch(aQ){}if((aP>=200&&aP<300)||aP===304||aP===1223){aO.assignResponseText();if(aj(aO.options.callback)){aN(function(){aO.options.callback.call(aO.xhr,aR,aO.xhr)
}).ensure(function(aS){aO.deferred.begin(aO.xhr)})}else{aO.deferred.begin(aO.xhr)}}else{aO.deferred.raise(A({},aO.xhr));try{aO.cancel(true)}catch(aQ){}}}}},assignResponseText:function(){var aQ,aN,aO,aS,aU,aR;
if(this.options.binary){aO=[];aS=[];try{aR=this.xhr.responseText||""}catch(aT){aR=""}aN=aR.length;for(aQ=0;aQ<aN;aQ++){aU=aR.charCodeAt(aQ)&255;aO[aQ]=aU;aS[aQ]=g(aU)
}try{this.xhr.originalText=aR;this.xhr.responseBytes=aO;this.xhr.responseText=aS.join("")}catch(aT){try{this.xhr=A(this.xhr,{originalText:aR,responseBytes:aO,responseText:aS.join("")})
}catch(aP){}}}},cancel:function(aN){try{this.xhr.onreadystatechange=null}catch(aO){try{this.xhr.onreadystatechange=n}catch(aO){}}if(aN){try{this.xhr.abort()}catch(aO){}}},send:function(){this.xhr.send(this.options.sendContent);
this.deferred.data({request:this.xhr})}});aM.prototype.doit.prototype=aM.prototype;return function(aO,aN){return(new aM(aO,aN)).deferred}}())},requestByGreasemonkey:function(aL,aK){var aQ=new h(),aN,aM,aO=A({cache:true},aK||{}),aP={sendContent:"data",mimeType:"overrideMimeType",username:"user",sync:"synchronous"};
aF(aP,function(aR,aS){if(aS in aO){aO[aR]=aO[aS]}});aO.method=ak(aO.method).toUpperCase()||"GET";aO.url=aG(aL,aO.queryString);if(aO.data){aO.data=am.Serializer.serializeToQueryString(aO.data)
}if(aO.data&&aO.method==="GET"){aO.method="POST"}if(!aO.cache&&(aO.method==="GET"||aO.method==="HEAD")){aO.url=aI(aO.url)}aN=aO.contentType;if(aO.headers){aF(aO.headers,function(aS,aR){if(!aN&&/^Content-?Type/i.test(aR)){aN=aS;
throw au}})}if(!aN&&aO.method==="POST"){aN="application/x-www-form-urlencoded"}if(aN){aO.headers=A(aO.headers||{},{"Content-Type":aN})}if(aO.sync){aQ.async(false);
aM=function(aR){aR()}}else{aM=h.callLazy}if(aO.onload){aQ.then(aO.onload)}if(aO.onerror){aQ.rescue(aO.onerror)}A(aO,{onload:function(){aQ.begin.apply(aQ,arguments)
},onerror:function(){aQ.raise.apply(aQ,arguments)}});aM(function(){var aR=GM_xmlhttpRequest(aO);aQ.data({request:aR});aQ.canceller(function(){try{aR.abort()}catch(aS){}})
});return aQ},requestByNodeJS:(function(){function aL(aM){return new aL.prototype.doit(aM)}function aK(aM){return new aK.prototype.init(aM)}aK.prototype=A(aK.prototype,{responseText:"",responseXML:"",status:null,statusText:null,init:function(aM){var aN=aM||{};
A(this,aN,{getResponseHeader:this.getResponseHeader,getAllResponseHeaders:this.getAllResponseHeaders,responseText:aN.responseText,responseXML:aN.responseXML,status:aN.status,statusText:aN.statusText});
return this},getResponseHeader:function(aN){var aM=null,aO;aO=Q(aN);lkey=aO.toLowerCase();if(this.headers){if(lkey in this.headers){aM=this.headers[lkey]}else{if(aO in this.headers){aM=this.headers[aO]
}}}return aM},getAllResponseHeaders:function(){var aN=[],aM;if(this.headers){for(aM in this.headers){aN.push(aM+": "+this.headers[aM])}}return aN.join("\r\n")}});
aL.prototype=A(aL.prototype,{deferred:null,request:null,response:null,headers:{},requestOptions:{},defaultHeaders:{Accept:["*/"]+["*"],"User-Agent":["Pot.js/"+am.VERSION,am.TYPE,"(Node.js; *)"].join(" ")},doit:function(aM){var aN=this;
this.deferred=new h({canceller:function(){try{aN.abort()}catch(aO){}}});this.setOptions(aM);this.send();return this},setOptions:function(aV){var aN,aM,aR,aO,aT,aP,aU,aQ,aS;
aN=A({cache:true,sync:false},aV||{});aM=ak(aN.method).toUpperCase()||"GET";aR=false;aO=require("url").parse(aN.url);switch(aO.protocol){case"https:":aR=true;case"http:":aT=aO.hostname;
break;default:throw new Error("Not supported protocol: "+aO.protocol)}aP=aO.port||(aR?443:80);aU=aO.pathname+(aO.search?aO.search:"");this.headers=A({},this.defaultHeaders,aN.headers||{});
this.headers.Host=aT;if(aN.username!=null){aQ=new Buffer([Q(aN.username,true),Q(aN.password,true)].join(":"));this.headers.Authorization="Basic "+aQ.toString("base64")
}aS=aN.sendContent||aN.queryString;if(aM==="GET"||aM==="HEAD"){aU=aG(aU,aS);if(!aN.cache){aU=aI(aU)}aS=null}else{aS=am.Serializer.serializeToQueryString(aS);if(aS){this.headers["Content-Length"]=Buffer.byteLength(aS);
if(!this.headers["Content-Type"]){this.headers["Content-Type"]="application/x-www-form-urlencoded"}}}if(aN.sync){this.deferred.async(false)}this.requestOptions={data:aS,ssl:aR,sync:aN.sync,settings:{host:aT,port:aP,path:aU,method:aM,headers:this.headers}}
},send:function(){var aN=this,aM,aO=true;if(this.requestOptions.ssl){aM=require("https").request}else{aM=require("http").request}this.request=aM(this.requestOptions.settings,function(aP){aN.response=new aK(aP);
aN.response.responseText="";aN.response.responseXML="";aN.response.setEncoding("utf8");aN.response.status=aN.response.statusCode;if(aN.response.status==200&&!aN.response.statusText){aN.response.statusText="OK"
}aN.response.on("data",function(aQ){if(aQ){aN.response.responseText+=Q(aQ,true)}});aN.response.on("end",function(){aO=false;aN.deferred.begin(aN.response)});aN.response.on("error",function(aQ){aO=false;
aN.handleError(aQ)})}).on("error",function(aP){aO=false;aN.handleError(aP)});if(this.requestOptions.data){this.request.write(this.requestOptions.data)}this.request.end();
if(this.requestOptions.sync){while(aO){}}},handleError:function(aM){this.response.status=503;this.response.statusText=aM;this.response.responseText=aM&&aM.stack;
this.deferred.raise(this.response)},abort:function(){if(this.response){this.response.responseText="";this.response.responseXML=""}try{if(this.request&&this.request.abort){this.request.abort()
}}catch(aM){}}});aL.prototype.doit.prototype=aL.prototype;aK.prototype.init.prototype=aK.prototype;return function(aN,aM){var aO=A({},aM||{},{url:aN});return(new aL(aO)).deferred
}}()),requestByJSONP:(function(){var aK={KEY:/json|call/i,DONE:/loaded|complete/};return function(aM,aZ){var aT,aL,aO,aN,aY,aX,aW,aP,aV,aU,aR,aQ;aQ="callback";aT=new h();
aL=A({cache:false,sync:false},aZ||{});aO=ao||an;aW=q.currentDocument;aV=aJ();if(!aO||!aW||!aV||!aM){return aT.raise(aO||aM||aV||aW)}try{if(aL.callback){if(aw(aL.callback)){aN=aL.callback
}else{if(aj(aL.callback)){aY=aL.callback}else{if(w(aL.callback)){for(aX in aL.callback){aQ=aX;if(aw(aL.callback[aX])){aN=aL.callback[aX]}else{if(aj(aL.callback[aX])){aY=aL.callback[aX]
}}break}}}}}else{aF(aL,function(a1,a0){if(aK.KEY.test(a0)){aQ=a0;if(aw(a1)){aN=a1}else{if(aj(a1)){aY=a1}}throw au}})}if(!aN){do{aN=P(am,"")}while(aN in aO)}aP=aG(aH(aM,aN,aQ),aL.queryString||aL.sendContent);
if(!aL.cache){aP=aI(aP)}if(q.isGreasemonkey){return am.Net.requestByGreasemonkey(aP,{method:"GET",sync:aL.sync}).then(function(a0){var a1=ak(a0&&a0.responseText);
a1=a1.replace(/^[^{]*|[^}]*$/g,"");return am.Serializer.parseFromJSON(a1)})}aU=aW.createElement("script");if(aL.sync){aT.async(false)}else{aU.async="async"}if(aL.type){aU.type=aL.type
}if(aL.charset){aU.charset=aL.charset}aO[aN]=function(){var a0=arguments;try{delete aO[aN]}catch(a1){try{aO[aN]=null}catch(a1){}}try{if(aU){aU.parentNode.removeChild(aU)
}aU=void 0}catch(a1){}if(aj(aY)){aY.apply(aY,a0)}aT.begin.apply(aT,a0)};aU.src=aP;aU.onload=aU.onreadystatechange=function(a1,a0){if(!aR&&aU&&(a0===1||!aU.readyState||aK.DONE.test(aU.readyState))){aR=true;
try{aU.onload=aU.onreadystatechange=null}catch(a2){}if(aV&&aU&&aU.parentNode){try{aV.removeChild(aU)}catch(a2){}}aU=void 0}};aT.canceller(function(){try{if(aU){aU.onload(0,1)
}}catch(a0){}});aV.insertBefore(aU,aV.firstChild)}catch(aS){aT.raise(aS)}return aT}}()),getJSON:(function(){var aK=/^[^{]*|[^}]*$/g,aL="application/json";return function(aN,aM){return am.Net.request(aN,A({mimeType:aL,headers:{"Content-Type":aL}},aM||{})).then(function(aO){var aP=ak(aO&&aO.responseText).replace(aK,"");
return am.Serializer.parseFromJSON(aP)})}}()),loadScript:(function(){var aK;if(q.isNonBrowser||!q.isNotExtension){return function(aM,aL){return am.Net.request(aM,A({method:"GET",mimeType:"application/javascript",headers:{"Content-Type":"application/javascript"}},{cache:false,sync:false},aL||{})).then(function(aN){return am.globalEval(aN.responseText)
})}}aK={DONE:/loaded|complete/,CALLBACK:/^callback|(?:on|)(?:load(?:ed|)|ready)/i};return function(aM,aV){var aQ,aS,aL,aT,aR,aN,aU,aO;aQ=new h();try{if(aj(aV)){aL={callback:aL};
aU=aL.callback}else{aL=A({},aV||{});aF(aL,function(aX,aW){if(aj(aX)){aU=aX;if(aK.CALLBACK.test(aW)){throw au}}})}if(aU){aQ.then(function(){return aU.apply(this,arguments)
})}aN=aG(aM,aL.queryString||aL.sendContent);if(!aL.cache){aN=aI(aN)}aT=q.currentDocument;aR=aJ();if(!aT||!aR||!aN){return aQ.raise(aN||aR||aT)}aS=aT.createElement("script");
if(aL.sync){aQ.async(false)}else{aS.async="async"}aS.type=aL.type||"text/javascript";if(aL.charset){aS.charset=aL.charset}aS.src=aN;aS.onload=aS.onreadystatechange=function(aX,aW){if(!aO&&aS&&(aW===1||!aS.readyState||aK.DONE.test(aS.readyState))){aO=true;
try{aS.onload=aS.onreadystatechange=null}catch(aY){}if(aR&&aS&&aS.parentNode){try{aR.removeChild(aS)}catch(aY){}}aS=void 0;aQ.begin()}};aQ.canceller(function(){try{if(aS){aS.onload(0,1)
}}catch(aW){}});aR.insertBefore(aS,aR.firstChild)}catch(aP){aQ.raise(aP)}return aQ}}())});function aG(aL,aN){var aK,aM,aO;aK=Q(aL);aO=(~aK.indexOf("?"))?"&":"?";
aM=Q(am.Serializer.serializeToQueryString(aN));while(aK.slice(-1)===aO){aK=aK.slice(0,-1)}while(aM.charAt(0)===aO){aM=aM.substring(1)}if(aM){aM=aO+aM}return aK?aK+aM:null
}function aI(aN){var aL=Q(aN),aM,aK="?",aO="_";if(aL){do{aM=aO+P(am,"").toLowerCase()}while(~aL.indexOf(aM));if(~aL.indexOf(aK)){aK="&";while(aL.slice(-1)===aK){aL=aL.slice(0,-1)
}}aL=aL+aK+aM+"="+ar()}return aL}function aJ(){var aK,aM=q.currentDocument;try{if(aM.head&&X(aM.head)){return aM.head}}catch(aL){}try{aK=aM.getElementsByTagName("head");
if(aK&&X(aK[0])){return aK[0]}}catch(aL){}try{return aM.documentElement}catch(aL){}}function aH(aK,aN,aM){var aL=Q(aK);if(~aL.indexOf("=?")){aL=aL.replace("=?","="+aN)
}else{if(~aL.indexOf("?")){aL=aL.replace("?","?"+aM+"="+aN)}else{while(aL.slice(-1)==="&"){aL=aL.slice(0,-1)}aL=aL+"?"+aM+"="+aN}}return aL}am.update({request:am.Net.request,jsonp:am.Net.requestByJSONP,getJSON:am.Net.getJSON,loadScript:am.Net.loadScript})
}());am.update({XPCOM:{}});A(am.XPCOM,{evalInSandbox:function(aJ,aH){var aG,aI,aK;if(q.hasComponents){if(!J){q.isWaitable=q.hasComponents=false;return}aI=/^[\s;]*|[\s;]*$/g;
aK=Q(aJ).replace(aI,"");aG=J.evalInSandbox(aK,J.Sandbox(aH))}return aG},throughout:function(aH){var aG;if(q.hasComponents){try{aG=S["@mozilla.org/thread-manager;1"].getService(O.nsIThreadManager).mainThread
}catch(aI){q.isWaitable=q.hasComponents=false}if(aG&&q.hasComponents){do{aG.processNextEvent(true)}while(aH&&!aH())}}},getMostRecentWindow:function(){var aH;if(q.hasComponents){try{aH=S["@mozilla.org/appshell/window-mediator;1"].getService(O.nsIWindowMediator).getMostRecentWindow("navigator:browser")
}catch(aG){q.isWaitable=q.hasComponents=false}}return aH},getChromeWindow:function(aI){var aH,aK,aL,aG;if(!q.hasComponents){return}aG=aI||"chrome://browser/content/browser.xul";
try{aL=S["@mozilla.org/appshell/window-mediator;1"].getService(O.nsIWindowMediator).getXULWindowEnumerator(null)}catch(aJ){q.isWaitable=q.hasComponents=false;return
}while(aL.hasMoreElements()){try{aK=aL.getNext().QueryInterface(O.nsIXULWindow).docShell.QueryInterface(O.nsIInterfaceRequestor).getInterface(O.nsIDOMWindow);if(aK&&aK.location&&(aK.location.href==aG||aK.location==aG)){aH=aK;
break}}catch(aJ){}}return aH}});am.update({evalInSandbox:am.XPCOM.evalInSandbox,throughout:am.XPCOM.throughout,getMostRecentWindow:am.XPCOM.getMostRecentWindow,getChromeWindow:am.XPCOM.getChromeWindow});
(function(){var aY=[],aU=[],aT=[],a5={},aZ=false,a2="*e",aK=".",aS={MOUSE_OVER:/mouse(?:over|enter)/,MOUSE_OUT:/mouse(?:out|leave)/,EVENT_ONCE:/^(?:on|)(?:(?:un|)load|DOMContentLoaded)$/,ID_CLEAN:/^#/},aX,a1;
am.update({Signal:{}});i=am.Signal;A(i,{NAME:"Signal",toString:G,Handler:A(function(a6){return new aX.fn.init(a6)},{advices:{normal:1,before:2,around:4,after:8,propBefore:16,propAround:32,propAfter:64}}),Observer:function(a7,ba){var a9=this,a6,bb=this.PotInternal;
if(!bb.serial){bb.serial=P(this)}A(bb,{orgEvent:ba||(typeof window==="object"&&window.event)||{},object:a7});a6=bb.orgEvent;if(!w(a6)){bb.orgEvent=a6={type:a6}}aF(A({},a6),function(bc,bd){if(!V.call(a9,bd)){a9[bd]=bc
}});try{if(!a6.target){a6.target=a6.srcElement||am.currentDocument()||{}}if(a6.target.nodeType==3&&a6.target.parentNode){a6.target=a6.target.parentNode}if(a6.metaKey==null){a6.metaKey=a6.ctrlKey
}if(a6.timeStamp==null){a6.timeStamp=ar()}if(a6.relatedTarget==null){if(aS.MOUSE_OVER.test(a6.type)){a6.relatedTarget=a6.fromElement}else{if(aS.MOUSE_OUT.test(a6.type)){a6.relatedTarget=a6.toElement
}}}}catch(a8){}this.originalEvent=a6},DropFile:function(a7,a6){return new m.fn.init(a7,a6)},isHandler:function(a6){return a6!=null&&((a6 instanceof aX)||(a6.id!=null&&a6.id===aX.fn.id&&a6.NAME!=null&&a6.NAME===aX.fn.NAME))
},isObserver:function(a6){return a6!=null&&((a6 instanceof a1)||(a6.PotInternal!=null&&a6.PotInternal.id!=null&&a6.PotInternal.id===a1.fn.PotInternal.id&&a6.PotInternal.NAME!=null&&a6.PotInternal.NAME===a1.fn.PotInternal.NAME))
},attach:function(ba,bd,bg,a8,a6){var bb=[],be,bc,bf,a9,a7=aO(ba);if(!a7){return}be=aP(a7);bf=!!a8;if(b(bd)){bc=true}a9=aX.advices.normal;aF(aA(bd),function(bk){var bh,bi,bj;
bh=Q(bk);bj=aL(a7,bh,bg,bf,be,a6,a9);bi=new aX({object:a7,signal:bh,listener:bj,callback:bg,isDOM:be,useCapture:bf,advice:a9,attached:true});aJ(function(bl){bl[bl.length]=bi
});if(be){if(a7.addEventListener){a7.addEventListener(aV(a7,bh),bj,bf)}else{if(a7.attachEvent){a7.attachEvent(aV(a7,bh),bj)}}}bb[bb.length]=bi});return bc?bb:bb[0]
},attachBefore:function(a8,a7,ba,a6,a9){return a3(a8,a7,ba,aX.advices.before,a9)},attachAfter:function(a8,a7,ba,a6,a9){return a3(a8,a7,ba,aX.advices.after,a9)},attachPropBefore:function(a7,a9,ba,a6,a8){return aW(a7,a9,ba,aX.advices.propBefore,a8)
},attachPropAfter:function(a7,a9,ba,a6,a8){return aW(a7,a9,ba,aX.advices.propAfter,a8)},detach:function(ba,a8,bd,a7){var a6=false,a9=arguments,bb,bc=aO(ba);if(!bc){return
}if(i.isHandler(bc)){aM(function(be){if(be&&be.attached&&be===bc){bb=be;throw au}})}else{if(a9.length>1){aM(function(be){if(be&&be.attached&&be.object===bc&&be.signal==a8&&be.callback===bd){bb=be;
throw au}})}}if(bb){a0(bb);a6=true}return a6},detachAll:function(){var a8=arguments,ba,a7=[],a9={},a6=[];switch(a8.length){case 0:break;case 1:ba=a8[0];break;case 2:ba=a8[0];
a7=a8[1]||[];break;default:ba=a8[0];a7=aA(a8,1)}if(ba!=null){ba=aO(ba)}a7=aA(a7);aF(a7,function(bb){a9[aK+Q(bb)]=true});aM(function(bb){if(!bb||((ba==null||bb.object===ba)&&((!a7||a7.length===0)||(a7.length&&bb.signal in a9)))){if(bb&&bb.attached){a6[a6.length]=bb
}}});aF(a6,function(bb){a0(bb)})},signal:function(a8,bb){var be,ba=aA(arguments,2),bc=[],bd,a7,a9={},a6=aO(a8);if(!a6){return}be=aH();bd=bb;a7=aX.advices.normal;
aF(aA(bd),function(bf){a9[aK+Q(bf)]=true});aM(function(bf){if(bf&&bf.attached&&bf.advice===a7&&bf.object===a6&&((aK+bf.signal) in a9)){be.then(function(){var bg=bf.listener.apply(a6,ba);
if(L(bg)){bg.begin()}return bg},function(bg){bc[bc.length]=bg})}});return be.ensure(function(bf){if(d(bf)){bc[bc.length]=bf}switch(bc.length){case 0:break;case 1:throw bc[0];
default:throw A(bc[0]||{},{errors:bc})}return bf}).begin()},cancelEvent:function(a6){var a7=function(a8){try{a8.preventDefault();a8.stopPropagation()}catch(a9){}};
if(a6){a7();if(a6.originalEvent){a7(a6.originalEvent)}if(a6.PotInternal&&a6.PotInternal.orgEvent){a7(a6.PotInternal.orgEvent)}}return false}});m=i.DropFile;aX=i.Handler;
a1=i.Observer;m.fn=m.prototype=A(m.prototype,{constructor:m,id:B.getMagicNumber(),NAME:"DropFile",serial:null,toString:G,defaultOptions:{onShow:null,onHide:null,onDrop:null,onLoadImage:null,onLoadText:null,onLoadUnknown:null,onLoadEnd:null},encoding:"UTF-8",loadedFiles:[],handleCache:[],target:[],options:{},isShow:false,init:function(a7,a6){if(!this.serial){this.serial=P(this)
}this.isShow=false;this.target=aO(a7);this.options=A({},this.defaultOptions,a6||{});if(this.options.encoding){this.encoding=this.options.encoding}if(this.target){this.initEvents()
}return this},clearDropEvents:function(){aF(this.handleCache,function(a6){i.detach(a6)});this.handleCache=[]},initEvents:function(){var a8=this,a9=this.target,a7,a6=this.handleCache,bb=this.options,ba=i;
a6[a6.length]=ba.attach(a9,"drop",function(bf){var be,bc,bd=0;a8.isShow=false;be=bf.dataTransfer&&bf.dataTransfer.files;if(be){if(bb.onDrop){bb.onDrop.call(a8,be)
}bc=new FileReader();bc.onloadend=function(bg){bd--;if(bg&&bg.target&&bg.target.result!=null){a8.loadedFiles.push(bg.target.result);if(bd<=0){if(bb.onLoadEnd){bb.onLoadEnd.call(a8,aA(a8.loadedFiles))
}}}};aF(be,function(bi){var bg,bh,bj;if(bi){bd++;bj=bi.type;bh=bi.size;bg=bi.name;bc.readAsDataURL(bi);if(a8.isImageFile(bj)){a8.loadAsImage(bi,bg,bh,bj)}else{if(a8.isTextFile(bj)){a8.loadAsText(bi,bg,bh,bj)
}else{a8.loadAsUnknown(bi,bg,bh,bj)}}}})}});a6[a6.length]=ba.attach(a9,"dragenter",function(bc){a8.isShow=true;ba.cancelEvent(bc)});a6[a6.length]=ba.attach(a9,"dragover",function(bc){a8.isShow=true;
ba.cancelEvent(bc)});a6[a6.length]=ba.attach(a9,"dragleave",function(bc){a8.isShow=false});if(bb.onHide){bb.onHide.call(a8)}a7=am.currentDocument().documentElement;
a6[a6.length]=ba.attach(a7,"drop",function(bc){a8.isShow=false;if(bb.onHide){bb.onHide.call(a8)}ba.cancelEvent(bc)});a6[a6.length]=ba.attach(a7,"dragleave",function(bc){R(function(){if(a8.isShow){a8.isShow=false
}else{if(bb.onHide){bb.onHide.call(a8)}}},1000)});aF(["dragenter","dragover"],function(bc){a6[a6.length]=ba.attach(a7,bc,function(bg){var bf=bg&&bg.dataTransfer,be,bd;
if(bf){if(bf.files&&bf.files.length){be=true}else{if(bf.types){bd=/Files/i;if(bd.test(bf.types)){be=true}else{if(af(bf.types)){aF(bf.types,function(bh){if(bd.test(bh)){be=true;
throw au}})}}}}}if(be){a8.isShow=true;if(bb.onShow){bb.onShow.call(a8)}}ba.cancelEvent(bg)})})},isImageFile:function(a6){return/image/i.test(a6)},isTextFile:function(a6){return !/image|audio|video|zip|compress/i.test(a6)
},upload:function(a8,be){var bb,a9,a7=this.loadedFiles,a6={},bd,ba,bc="file";if(a7&&a7.length){if(aw(be)){bc=be}else{if(w(be)){bd=/key|file|name/i;aF(be,function(bg,bf){if(aw(bg)&&bd.test(bf)){bc=bg;
throw au}});a6=A({},be)}}a9=Q(a8);bd=/([^@:;#?&=\/\\]+)=[?]/;if(bd.test(a9)){bc=a9.match(bd)[1];a9=a9.replace(bc,"")}ba=a6.sendContent||a6.queryString||{};if(b(ba)){ba[ba.length]=[bc,a7.splice(0,a7.length)]
}else{ba[bc]=a7.splice(0,a7.length)}a6.sendContent=ba;a6.queryString=null;a6.method=a6.method||"POST";bb=am.Net.request(a9,a6)}return h.maybeDeferred(bb)},loadAsImage:function(a9,a7,a8,ba){var bb=this,a6=new FileReader(),bc=this.options.onLoadImage;
a6.onload=function(bd){if(bc){bc.call(bb,bd&&bd.target&&bd.target.result,a7,a8,ba)}};a6.readAsDataURL(a9)},loadAsText:function(a9,a7,a8,ba){var bb=this,a6=new FileReader(),bc=this.options.onLoadText;
a6.onload=function(bd){if(bc){bc.call(bb,bd&&bd.target&&bd.target.result,a7,a8,ba)}};a6.readAsText(a9,this.encoding)},loadAsUnknown:function(a9,a7,a8,ba){var bb=this,a6=new FileReader(),bc=this.options.onLoadUnknown;
a6.onload=function(bd){if(bc){bc.call(bb,bd&&bd.target&&bd.target.result,a7,a8,ba)}};a6.readAsDataURL(a9)}});m.fn.init.prototype=m.fn;aX.fn=aX.prototype=A(aX.prototype,{constructor:aX,id:B.getMagicNumber(),NAME:"Handler",serial:null,toString:G,init:function(a6){if(!this.serial){this.serial=P(this)
}A(this,a6);return this}});aX.fn.init.prototype=aX.fn;a1.fn=a1.prototype={constructor:a1,PotInternal:{id:B.getMagicNumber(),NAME:"Observer",serial:null,orgEvent:null,object:null},toString:function(){return aq(this.PotInternal.NAME)
},preventDefault:function(){var a6;try{a6=this.PotInternal.orgEvent;if(a6){if(a6.preventDefault){a6.preventDefault()}else{a6.returnValue=false}}}catch(a7){}if(this.originalEvent){try{a6=this.originalEvent;
if(a6){if(a6.preventDefault){a6.preventDefault()}else{a6.returnValue=false}}}catch(a7){}}},stopPropagation:function(){var a6;try{a6=this.PotInternal.orgEvent;if(a6){if(a6.stopPropagation){a6.stopPropagation()
}a6.cancelBubble=true}}catch(a7){}if(this.originalEvent){try{a6=this.originalEvent;if(a6){if(a6.stopPropagation){a6.stopPropagation()}a6.cancelBubble=true}}catch(a7){}}}};
aF({attach:4,attachBefore:4,attachAfter:4,attachPropBefore:4,attachPropAfter:4},function(a7,a6){A(i[a6],{once:function(){var a8=aA(arguments);a8[a7]=true;return i[a6].apply(i,a8)
}})});aF({normal:true,before:true,after:true,propBefore:true,propAfter:true},function(a7,a6){var a8={};a8[a6]=function(a9,bc,bb,ba){return aQ(a9,bc,bb,aX.advices[a6],ba)
};A(a5,a8)});function aL(bb,bi,bg,a8,bf,a7,ba){var bj,bh=(bf&&aS.EVENT_ONCE.test(bi)),bd,a9,be,a6=i,bc;if(a7||bh){bd=true;a9=function(bk){a6.detach(bb,bi,bg,a8)}
}if(a4(bb,bi,true)){if(ba===aX.advices.normal){aG(bb,bi)}be=n;if(bf){return be}else{aM(function(bk){if(bk&&!bk.isDOM&&bk.advice===aX.advices.normal&&bk.object===bb&&bk.signal==bi&&bk.listener!==n){if(bc){bk.listener=n
}else{if(!bk.attached){be=bk.listener;bk.listener=n;bc=true}}}});return be}}aT[aT.length]={object:bb,signal:bi,advice:ba,attached:true};bj=function(bm){var bn=aH(),bk=arguments,bl=bj,bo=bf?new a1(bb,bm):bk;
bn.data(a2,[]);a5.before(bn,bb,bi,bo);a5.normal(bn,bb,bi,bo);a5.after(bn,bb,bi,bo);return bn.ensure(function(bp){var bq;if(d(bp)){this.data(a2,ay.call(this.data(a2)||[],bp))
}bq=this.data(a2);if(bd){a9(bl)}if(bq&&bq.length){if(bq.length>1){throw A(bq[0],{errors:bq})}else{throw bq[0]}}return bp}).begin()};return bj}function aQ(be,a9,bd,a8,bc){var ba={},bb,a6,a7=aO(a9);
if(!a7){return}bb=aA(bd);aF(bb,function(bf){ba[aK+Q(bf)]=true});a6=false;switch(a8){case aX.advices.normal:a6=true;break;case aX.advices.before:case aX.advices.after:aF(bb,function(bf){if(a4(a7,Q(bf))){a6=true;
throw au}});break;case aX.advices.propBefore:case aX.advices.propAfter:aF(bb,function(bf){if(aI(a7,Q(bf))){a6=true;throw au}});break;default:a6=false}if(a6){aM(function(bg){var bf=Q(bg&&bg.signal);
if(bg&&bg.attached&&bg.advice===a8&&bg.object===a7&&((aK+bf) in ba)){be.ensure(function(bh){if(d(bh)){this.data(a2,ay.call(this.data(a2)||[],bh))}if(a8===aX.advices.normal){return bg.callback.apply(a7,aA(bc))
}else{return bg.listener.apply(a7,aA(bc))}})}})}return be}function a4(a8,a7,a9){var a6=false;aF(aA(a7),function(bd){var bb,bc,ba=Q(bd);for(bb=aT.length-1;bb>=0;bb--){bc=aT[bb];
if(bc&&(a9||bc.attached)&&bc.advice===aX.advices.normal&&bc.object===a8&&bc.signal==ba){a6=true;throw au}}});return a6}function aG(a8,a7){var a6=false;aF(aA(a7),function(bc){var ba,bb,a9=Q(bc);
for(ba=aT.length-1;ba>=0;ba--){bb=aT[ba];if(bb&&!bb.attached&&bb.advice===aX.advices.normal&&bb.object===a8&&bb.signal==a9){bb.attached=true;throw au}}});return a6
}function aI(a7,a9,a8){var a6=false;aF(aA(a9),function(bd){var bb,bc,ba=Q(bd);for(bb=aU.length-1;bb>=0;bb--){bc=aU[bb];if(bc&&(a8||bc.attached)&&bc.object===a7&&bc.signal==ba){a6=true;
throw au}}});return a6}function aR(a7,a8){var a6=false;aF(aA(a8),function(bc){var ba,bb,a9=Q(bc);for(ba=aU.length-1;ba>=0;ba--){bb=aU[ba];if(bb&&!bb.attached&&(bb.advice===aX.advices.propBefore||bb.advice===aX.advices.propAfter)&&bb.object===a7&&bb.signal==a9){bb.attached=true;
throw au}}});return a6}function a0(be){var a8,bb,a7,bd,a9,ba,bc,a6;if(!be||!be.attached){return}be.attached=false;a8=be.object;bb=be.signal;bd=be.useCapture;a7=be.listener;
if(!be.isDOM){if(be.advice===aX.advices.propBefore||be.advice===aX.advices.propAfter){bc=false;aM(function(bf){if(bf&&bf.attached&&!bf.isDOM&&(bf.advice===aX.advices.propBefore||bf.advice===aX.advices.propAfter)&&bf.object===a8&&bf.signal==bb){bc=true;
throw au}});if(!bc){for(a9=aU.length-1;a9>=0;a9--){ba=aU[a9];if(ba&&ba.attached&&ba.object===a8&&ba.signal==bb){ba.attached=false}}}}else{if(be.advice===aX.advices.normal){bc=false;
a6=null;aM(function(bf){if(bf&&bf.attached&&!bf.isDOM&&bf.advice===aX.advices.normal&&bf.object===a8&&bf.signal==bb){bc=true;a6=bf;throw au}});if(bc){if(a6&&a6.listener===n&&a7!==n){a6.listener=a7
}}else{for(a9=aT.length-1;a9>=0;a9--){ba=aT[a9];if(ba&&ba.attached&&ba.object===a8&&ba.signal==bb){ba.attached=false}}}}}}else{if(be.advice===aX.advices.normal){bc=false;
aM(function(bf){if(bf&&bf.attached&&bf.isDOM&&bf.advice===aX.advices.normal&&bf.object===a8&&bf.signal==bb){bc=true;throw au}});if(!bc){for(a9=aT.length-1;a9>=0;
a9--){ba=aT[a9];if(ba&&ba.attached&&ba.advice===aX.advices.normal&&ba.object===a8&&ba.signal==bb){ba.attached=false}}}}}aN()}function a3(a9,bc,bf,a8,a6){var ba=[],a7,be,bb,bd;
a7=aO(a9);if(!a7){return}bd=function(bh){var bg=function(){var bi=arguments;bf.apply(a7,bi);if(a6){i.detach(a7,bh,bg,false)}};return bg};be=aP(a7);if(b(bc)){bb=true
}aF(aA(bc),function(bj){var bg=Q(bj),bh,bi;bi=bd(bg);bh=new aX({object:a7,signal:bg,listener:bi,callback:bi,isDOM:be,useCapture:false,advice:a8,attached:true});aJ(function(bk){bk[bk.length]=bh
});ba[ba.length]=bh});return bb?ba:ba[0]}function aW(a9,bc,bf,a8,a7){var ba=[],bb,bd,be,a6=i;if(!a9||!aj(bf)){return}if(b(bc)){bb=true}be=function(bg){var bh=function(){var bi=arguments;
bf.apply(a9,bi);if(a7){a6.detach(a9,bg,bh,false)}};return bh};bd=aA(bc);aF(bd,function(bh){var bg=Q(bh);if(aI(a9,bg,true)){if(a8===aX.advices.propBefore||a8===aX.advices.propAfter){aR(a9,bg)
}}else{aU[aU.length]={object:a9,signal:bg,advice:a8,attached:true};am.override(a9,bg,function(bm,bi){var bl={},bk=aH(),bj=bl;bk.data(a2,[]);a5.propBefore(bk,a9,bg,bi);
bk.ensure(function(bn){if(d(bn)){this.data(a2,ay.call(this.data(a2)||[],bn))}return bm.apply(a9,bi)}).then(function(bn){bj=bn;return bn});a5.normal(bk,a9,bg,bi);
a5.propAfter(bk,a9,bg,bi);bk.ensure(function(bn){var bo;if(d(bn)){this.data(a2,ay.call(this.data(a2)||[],bn))}bo=this.data(a2);if(bo&&bo.length){if(bo.length>1){throw A(bo[0],{errors:bo})
}else{throw bo[0]}}return bn}).begin();return(bj===bl)?null:bj})}});aF(bd,function(bj){var bg=Q(bj),bh,bi;bi=be(bg);bh=new aX({object:a9,signal:bg,listener:bi,callback:bi,isDOM:false,useCapture:false,advice:a8,attached:true});
aJ(function(bk){bk[bk.length]=bh});ba[ba.length]=bh});return bb?ba:ba[0]}function aV(a6,a9){var a7=Q(a9),a8="on";if(a6){if(a6.addEventListener){if(a7.indexOf(a8)===0){a7=a7.substring(2)
}}else{if(a6.attachEvent){if(a7.indexOf(a8)!==0){a7=a8+a7}}}}return a7}function aP(a6){return !!(a6&&(a6.addEventListener&&a6.removeEventListener)||(a6.attachEvent&&a6.detachEvent))
}function aO(a7){if(typeof a7==="object"||aj(a7)){if(a7.jquery&&a7.get){return a7.get(0)}else{return a7}}if(aw(a7)){try{return am.currentDocument().getElementById(Q(a7).replace(aS.ID_CLEAN,""))
}catch(a6){}}return false}function aM(bb){var a7,a9=null,a8,a6;aZ=true;try{a6=aY.length;for(a8=0;a8<a6;a8++){a7=bb(aY[a8],a8)}}catch(ba){a9=ba}finally{aZ=false}if(a9!==null&&!az(a9)){throw a9
}return a7}function aJ(bb){var a6,a9=255,a8={},a7=false;(function ba(){try{if(aZ){if(--a9>=0){throw a8}else{a9=-1;R(function(){ba()},0)}}else{if(!a7){a7=true;a6=bb(aY)
}}}catch(bc){if(bc===a8){return ba()}else{throw bc}}})();return a6}function aN(){var a8,a6,a9,a7=[],ba;if(!aZ){aZ=true;try{a6=aY.length;for(a8=0;a8<a6;a8++){a9=aY[a8];
if(!a9||(!a9.attached&&((a9.advice===aX.advices.normal&&a9.listener===n)||(a9.advice===aX.advices.propBefore||a9.advice===aX.advices.propAfter)||(a9.advice===aX.advices.before||a9.advice===aX.advices.after)))){continue
}a7[a7.length]=a9}aY.splice(0,a6);f.apply(aY,a7)}catch(bb){ba=bb}finally{aZ=false}if(ba!=null){throw ba}}}function aH(){return new h({async:false})}am.update({attach:am.Signal.attach,attachBefore:am.Signal.attachBefore,attachAfter:am.Signal.attachAfter,attachPropBefore:am.Signal.attachPropBefore,attachPropAfter:am.Signal.attachPropAfter,detach:am.Signal.detach,detachAll:am.Signal.detachAll,signal:am.Signal.signal,cancelEvent:am.Signal.cancelEvent,DropFile:am.Signal.DropFile})
}());am.update({Debug:{}});A(am.Debug,{debug:p});am.update({deferrizejQueryAjax:(function(){if(typeof jQuery!=="function"||!jQuery.fn){return n}return function(){return(function(aG){var aH=aG.ajax;
aG.pot=am;aG.fn.extend({deferred:function(aL){var aK,aI=aA(arguments,1),aJ=false;aF(aI,function(aM){if(aj(aM)){aJ=true;throw au}});if(!aJ){aI.push(function(){return aA(arguments)
})}aK=h.deferrize(aL,this);return aK.apply(this,aI)}});aG.ajax=function(aI){var aN,aM=new h(),aK=A({},aI||{}),aJ=A({},aK);A(aK,{success:function(){var aP=aA(arguments),aQ,aO;
try{if(aJ.success){aJ.success.apply(this,aP)}}catch(aR){aO=true;aQ=aR||new Error(aR);aP.push(aQ);aM.raise.apply(aM,aP)}if(!aO){aM.destAssign=true;aM.begin.apply(aM,aP)
}},error:function(){var aO=aA(arguments),aP;try{if(aJ.error){aJ.error.apply(this,aO)}}catch(aQ){aP=aQ||new Error(aQ);aO.unshift(aP)}finally{aM.raise.apply(aM,aO)
}}});try{aM.data({result:aH(aK)})}catch(aL){aN=aL;aM.raise(aN)}return aM}}(jQuery))}}())});A(aD,{storage:{},shelter:{},add:function(aI,aL,aK){var aG=true,aJ,aH;if(w(aI)){aJ=aI;
aH=!!(aK||aL)}else{aJ={};aJ[Q(aI,true)]=aL;aH=!!aK}aF(aJ,function(aN,aM){var aO=Q(aM,true),aP;if(aj(aN)){aP=function(){return aN.apply(aN,arguments)};A(aP,{deferred:(function(){try{return h.deferreed(aP)
}catch(aQ){return h.deferrize(aP)}}())})}else{aP=aN}if(aO&&(aH||!aD.has(aO))){if(aO in am){aD.shelter[aO]=am[aO]}am[aO]=aD.storage[aO]=B.PotExportProps[aO]=aP}else{aG=false
}});return aG},has:function(aH){var aG=true;aF(aA(aH),function(aI){var aJ=Q(aI,true);if(!(aJ in aD.storage)){aG=false;throw au}});return aG},remove:function(aH){var aG=true;
aF(aA(aH),function(aI){var aJ=Q(aI,true);if(aD.has(aJ)){try{if(aJ in aD.shelter){am[aJ]=B.PotExportProps[aJ]=aD.shelter[aJ];delete aD.shelter[aJ]}else{if(aJ in am){delete am[aJ]
}if(aJ in B.PotExportProps){delete B.PotExportProps[aJ]}}delete aD.storage[aJ];if(aD.has(aJ)){throw false}}catch(aK){aG=false}}});return aG},list:function(){var aG=am.keys(aD.storage);
return aG}});am.update({addPlugin:aD.add,hasPlugin:aD.has,removePlugin:aD.remove,listPlugin:aD.list});am.update({globalize:function(aM,aJ){var aH=false,aL=aA(arguments),aI,aN,aG=aL.length,aK=[];
if(aG<=1&&this===am&&!w(aM)){aI=this;if(aG>=1&&al(aM)){aJ=aM}else{aJ=!!aM}}else{if(aM&&(w(aM)||aj(aM)||b(aM))){aI=aM}}aN=B.getExportObject(true);if(aI&&aN){if(aI===am){if(B.exportPot&&B.PotExportProps){aH=B.exportPot(aJ,true,true)
}}else{aF(aI,function(aP,aO){if(aJ&&aO in aN){aK[aK.length]=aO}else{aN[aO]=aP}});aH=aK}}return aH}});A(B,{exportPot:function(aH,aL,aJ,aG){var aK,aI=[];aK=B.getExportObject(aL);
if(aK){if(aJ){aF(B.PotExportProps,function(aN,aM){if(aH&&aM in aK){aI[aI.length]=aM}else{aK[aM]=aN}})}else{aF(B.PotExportObject,function(aN,aM){if(aH&&aM in aK){aI[aI.length]=aM
}else{aK[aM]=aN}})}}if(aG){aK=B.getExportObject(q.isNodeJS?false:true);if(aK){A(aK,B.PotExportObject)}if((q.isNonBrowser||!q.isNotExtension)&&typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=am
}exports.Pot=am}else{if(typeof define==="function"&&define.amd){define("pot",function(){return am})}}if(aK&&!aK.Pot){aK.Pot=am}}return aI},PotExportObject:{Pot:am},PotExportProps:{Pot:am,update:A,isBoolean:am.isBoolean,isNumber:am.isNumber,isString:am.isString,isFunction:am.isFunction,isArray:am.isArray,isDate:am.isDate,isRegExp:am.isRegExp,isObject:am.isObject,isError:am.isError,typeOf:am.typeOf,typeLikeOf:am.typeLikeOf,StopIteration:am.StopIteration,isStopIter:am.isStopIter,isIterable:am.isIterable,isScalar:am.isScalar,isArguments:am.isArguments,isArrayLike:am.isArrayLike,isDeferred:am.isDeferred,isIter:am.isIter,isWorkeroid:am.isWorkeroid,isPercentEncoded:am.isPercentEncoded,isNumeric:am.isNumeric,isInt:am.isInt,isNativeCode:am.isNativeCode,isBuiltinMethod:am.isBuiltinMethod,isWindow:am.isWindow,isDocument:am.isDocument,isElement:am.isElement,isNodeLike:am.isNodeLike,isNodeList:am.isNodeList,Cc:am.Cc,Ci:am.Ci,Cr:am.Cr,Cu:am.Cu,Deferred:am.Deferred,succeed:am.Deferred.succeed,failure:am.Deferred.failure,wait:am.Deferred.wait,callLater:am.Deferred.callLater,callLazy:am.Deferred.callLazy,maybeDeferred:am.Deferred.maybeDeferred,isFired:am.Deferred.isFired,lastResult:am.Deferred.lastResult,lastError:am.Deferred.lastError,register:am.Deferred.register,unregister:am.Deferred.unregister,deferrize:am.Deferred.deferrize,deferreed:am.Deferred.deferreed,begin:am.Deferred.begin,flush:am.Deferred.flush,till:am.Deferred.till,parallel:am.Deferred.parallel,chain:am.Deferred.chain,forEach:am.forEach,repeat:am.repeat,forEver:am.forEver,iterate:am.iterate,items:am.items,zip:am.zip,Iter:am.Iter,toIter:am.Iter.toIter,map:am.map,filter:am.filter,reduce:am.reduce,every:am.every,some:am.some,range:am.range,indexOf:am.indexOf,lastIndexOf:am.lastIndexOf,globalEval:am.globalEval,localEval:am.localEval,tokenize:am.tokenize,joinTokens:am.joinTokens,isWords:am.isWords,isNL:am.isNL,hasReturn:am.hasReturn,override:am.override,getErrorMessage:am.getErrorMessage,getFunctionCode:am.getFunctionCode,currentWindow:am.currentWindow,currentDocument:am.currentDocument,currentURI:am.currentURI,serializeToJSON:am.Serializer.serializeToJSON,parseFromJSON:am.Serializer.parseFromJSON,serializeToQueryString:am.Serializer.serializeToQueryString,parseFromQueryString:am.Serializer.parseFromQueryString,urlEncode:am.URI.urlEncode,urlDecode:am.URI.urlDecode,request:am.Net.request,jsonp:am.Net.requestByJSONP,getJSON:am.Net.getJSON,loadScript:am.Net.loadScript,hashCode:am.Crypt.hashCode,evalInSandbox:am.XPCOM.evalInSandbox,throughout:am.XPCOM.throughout,getMostRecentWindow:am.XPCOM.getMostRecentWindow,getChromeWindow:am.XPCOM.getChromeWindow,Workeroid:am.Workeroid,attach:am.Signal.attach,attachBefore:am.Signal.attachBefore,attachAfter:am.Signal.attachAfter,attachPropBefore:am.Signal.attachPropBefore,attachPropAfter:am.Signal.attachPropAfter,detach:am.Signal.detach,detachAll:am.Signal.detachAll,signal:am.Signal.signal,cancelEvent:am.Signal.cancelEvent,DropFile:am.Signal.DropFile,rescape:N,arrayize:aA,invoke:z,stringify:Q,trim:ak,now:ar,globalize:am.globalize,debug:am.Debug.debug,addPlugin:am.Plugin.add,hasPlugin:am.Plugin.has,removePlugin:am.Plugin.remove,listPlugin:am.Plugin.list}});
B.exportPot(false,false,false,true);return am}(this||{}));
